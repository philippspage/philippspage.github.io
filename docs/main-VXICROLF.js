var af=Object.create;var yi=Object.defineProperty,uf=Object.defineProperties,cf=Object.getOwnPropertyDescriptor,lf=Object.getOwnPropertyDescriptors,ff=Object.getOwnPropertyNames,Ys=Object.getOwnPropertySymbols,df=Object.getPrototypeOf,Ks=Object.prototype.hasOwnProperty,hf=Object.prototype.propertyIsEnumerable;var mi=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e);var Qs=(e,t,r)=>t in e?yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xe=(e,t)=>{for(var r in t||={})Ks.call(t,r)&&Qs(e,r,t[r]);if(Ys)for(var r of Ys(t))hf.call(t,r)&&Qs(e,r,t[r]);return e},Pe=(e,t)=>uf(e,lf(t));var _n=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var pf=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var gf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ff(t))!Ks.call(e,i)&&i!==r&&yi(e,i,{get:()=>t[i],enumerable:!(n=cf(t,i))||n.enumerable});return e};var Zs=(e,t,r)=>(r=e!=null?af(df(e)):{},gf(t||!e||!e.__esModule?yi(r,"default",{value:e,enumerable:!0}):r,e));var mf=function(e,t){this[0]=e,this[1]=t};var $t=e=>{var t=e[mi("asyncIterator")],r=!1,n,i={};return t==null?(t=e[mi("iterator")](),n=o=>i[o]=s=>t[o](s)):(t=t.call(e),n=o=>i[o]=s=>{if(r){if(r=!1,o==="throw")throw s;return s}return r=!0,{done:!1,value:new mf(new Promise(c=>{var h=t[o](s);if(!(h instanceof Object))throw TypeError("Object expected");c(h)}),1)}}),i[mi("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i};var qs=pf((Xl,Gs)=>{"use strict";(function(e){if(typeof Xl=="object"&&typeof Gs<"u")Gs.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.mqtt=e()}})(function(){var e,t,r;return function(){function n(i,o,s){function c(d,f){if(!o[d]){if(!i[d]){var l=typeof _n=="function"&&_n;if(!f&&l)return l(d,!0);if(h)return h(d,!0);var a=new Error("Cannot find module '"+d+"'");throw a.code="MODULE_NOT_FOUND",a}var u=o[d]={exports:{}};i[d][0].call(u.exports,function(g){var w=i[d][1][g];return c(w||g)},u,u.exports,n,i,o,s)}return o[d].exports}for(var h=typeof _n=="function"&&_n,p=0;p<s.length;p++)c(s[p]);return c}return n}()({1:[function(n,i,o){"use strict";o.byteLength=a,o.toByteArray=g,o.fromByteArray=D;for(var s=[],c=[],h=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,f=p.length;d<f;++d)s[d]=p[d],c[p.charCodeAt(d)]=d;c[45]=62,c[95]=63;function l(E){var b=E.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=E.indexOf("=");S===-1&&(S=b);var O=S===b?0:4-S%4;return[S,O]}function a(E){var b=l(E),S=b[0],O=b[1];return(S+O)*3/4-O}function u(E,b,S){return(b+S)*3/4-S}function g(E){var b,S=l(E),O=S[0],N=S[1],H=new h(u(E,O,N)),$=0,T=N>0?O-4:O,P;for(P=0;P<T;P+=4)b=c[E.charCodeAt(P)]<<18|c[E.charCodeAt(P+1)]<<12|c[E.charCodeAt(P+2)]<<6|c[E.charCodeAt(P+3)],H[$++]=b>>16&255,H[$++]=b>>8&255,H[$++]=b&255;return N===2&&(b=c[E.charCodeAt(P)]<<2|c[E.charCodeAt(P+1)]>>4,H[$++]=b&255),N===1&&(b=c[E.charCodeAt(P)]<<10|c[E.charCodeAt(P+1)]<<4|c[E.charCodeAt(P+2)]>>2,H[$++]=b>>8&255,H[$++]=b&255),H}function w(E){return s[E>>18&63]+s[E>>12&63]+s[E>>6&63]+s[E&63]}function _(E,b,S){for(var O,N=[],H=b;H<S;H+=3)O=(E[H]<<16&16711680)+(E[H+1]<<8&65280)+(E[H+2]&255),N.push(w(O));return N.join("")}function D(E){for(var b,S=E.length,O=S%3,N=[],H=16383,$=0,T=S-O;$<T;$+=H)N.push(_(E,$,$+H>T?T:$+H));return O===1?(b=E[S-1],N.push(s[b>>2]+s[b<<4&63]+"==")):O===2&&(b=(E[S-2]<<8)+E[S-1],N.push(s[b>>10]+s[b>>4&63]+s[b<<2&63]+"=")),N.join("")}},{}],2:[function(n,i,o){},{}],3:[function(n,i,o){(function(s){(function(){"use strict";var c=n("base64-js"),h=n("ieee754");o.Buffer=l,o.SlowBuffer=O,o.INSPECT_MAX_BYTES=50;var p=2147483647;o.kMaxLength=p,l.TYPED_ARRAY_SUPPORT=d(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var v=new Uint8Array(1);return v.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},v.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function f(v){if(v>p)throw new RangeError('The value "'+v+'" is invalid for option "size"');var m=new Uint8Array(v);return m.__proto__=l.prototype,m}function l(v,m,y){if(typeof v=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(v)}return a(v,m,y)}typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192;function a(v,m,y){if(typeof v=="string")return _(v,m);if(ArrayBuffer.isView(v))return D(v);if(v==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(Z(v,ArrayBuffer)||v&&Z(v.buffer,ArrayBuffer))return E(v,m,y);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var I=v.valueOf&&v.valueOf();if(I!=null&&I!==v)return l.from(I,m,y);var j=b(v);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return l.from(v[Symbol.toPrimitive]("string"),m,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}l.from=function(v,m,y){return a(v,m,y)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array;function u(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function g(v,m,y){return u(v),v<=0?f(v):m!==void 0?typeof y=="string"?f(v).fill(m,y):f(v).fill(m):f(v)}l.alloc=function(v,m,y){return g(v,m,y)};function w(v){return u(v),f(v<0?0:S(v)|0)}l.allocUnsafe=function(v){return w(v)},l.allocUnsafeSlow=function(v){return w(v)};function _(v,m){if((typeof m!="string"||m==="")&&(m="utf8"),!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var y=N(v,m)|0,I=f(y),j=I.write(v,m);return j!==y&&(I=I.slice(0,j)),I}function D(v){for(var m=v.length<0?0:S(v.length)|0,y=f(m),I=0;I<m;I+=1)y[I]=v[I]&255;return y}function E(v,m,y){if(m<0||v.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<m+(y||0))throw new RangeError('"length" is outside of buffer bounds');var I;return m===void 0&&y===void 0?I=new Uint8Array(v):y===void 0?I=new Uint8Array(v,m):I=new Uint8Array(v,m,y),I.__proto__=l.prototype,I}function b(v){if(l.isBuffer(v)){var m=S(v.length)|0,y=f(m);return y.length===0||v.copy(y,0,0,m),y}if(v.length!==void 0)return typeof v.length!="number"||C(v.length)?f(0):D(v);if(v.type==="Buffer"&&Array.isArray(v.data))return D(v.data)}function S(v){if(v>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return v|0}function O(v){return+v!=v&&(v=0),l.alloc(+v)}l.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==l.prototype},l.compare=function(m,y){if(Z(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),Z(y,Uint8Array)&&(y=l.from(y,y.offset,y.byteLength)),!l.isBuffer(m)||!l.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===y)return 0;for(var I=m.length,j=y.length,Q=0,ee=Math.min(I,j);Q<ee;++Q)if(m[Q]!==y[Q]){I=m[Q],j=y[Q];break}return I<j?-1:j<I?1:0},l.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(m,y){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return l.alloc(0);var I;if(y===void 0)for(y=0,I=0;I<m.length;++I)y+=m[I].length;var j=l.allocUnsafe(y),Q=0;for(I=0;I<m.length;++I){var ee=m[I];if(Z(ee,Uint8Array)&&(ee=l.from(ee)),!l.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(j,Q),Q+=ee.length}return j};function N(v,m){if(l.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||Z(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);var y=v.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&y===0)return 0;for(var j=!1;;)switch(m){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return ie(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return V(v).length;default:if(j)return I?-1:ie(v).length;m=(""+m).toLowerCase(),j=!0}}l.byteLength=N;function H(v,m,y){var I=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,m>>>=0,y<=m))return"";for(v||(v="utf8");;)switch(v){case"hex":return re(this,m,y);case"utf8":case"utf-8":return M(this,m,y);case"ascii":return z(this,m,y);case"latin1":case"binary":return oe(this,m,y);case"base64":return J(this,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,m,y);default:if(I)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),I=!0}}l.prototype._isBuffer=!0;function $(v,m,y){var I=v[m];v[m]=v[y],v[y]=I}l.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<m;y+=2)$(this,y,y+1);return this},l.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<m;y+=4)$(this,y,y+3),$(this,y+1,y+2);return this},l.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<m;y+=8)$(this,y,y+7),$(this,y+1,y+6),$(this,y+2,y+5),$(this,y+3,y+4);return this},l.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?M(this,0,m):H.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(m){if(!l.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:l.compare(this,m)===0},l.prototype.inspect=function(){var m="",y=o.INSPECT_MAX_BYTES;return m=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(m+=" ... "),"<Buffer "+m+">"},l.prototype.compare=function(m,y,I,j,Q){if(Z(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),!l.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(y===void 0&&(y=0),I===void 0&&(I=m?m.length:0),j===void 0&&(j=0),Q===void 0&&(Q=this.length),y<0||I>m.length||j<0||Q>this.length)throw new RangeError("out of range index");if(j>=Q&&y>=I)return 0;if(j>=Q)return-1;if(y>=I)return 1;if(y>>>=0,I>>>=0,j>>>=0,Q>>>=0,this===m)return 0;for(var ee=Q-j,le=I-y,pe=Math.min(ee,le),De=this.slice(j,Q),Te=m.slice(y,I),Ee=0;Ee<pe;++Ee)if(De[Ee]!==Te[Ee]){ee=De[Ee],le=Te[Ee];break}return ee<le?-1:le<ee?1:0};function T(v,m,y,I,j){if(v.length===0)return-1;if(typeof y=="string"?(I=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,C(y)&&(y=j?0:v.length-1),y<0&&(y=v.length+y),y>=v.length){if(j)return-1;y=v.length-1}else if(y<0)if(j)y=0;else return-1;if(typeof m=="string"&&(m=l.from(m,I)),l.isBuffer(m))return m.length===0?-1:P(v,m,y,I,j);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(v,m,y):Uint8Array.prototype.lastIndexOf.call(v,m,y):P(v,[m],y,I,j);throw new TypeError("val must be string, number or Buffer")}function P(v,m,y,I,j){var Q=1,ee=v.length,le=m.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(v.length<2||m.length<2)return-1;Q=2,ee/=2,le/=2,y/=2}function pe(Bt,yt){return Q===1?Bt[yt]:Bt.readUInt16BE(yt*Q)}var De;if(j){var Te=-1;for(De=y;De<ee;De++)if(pe(v,De)===pe(m,Te===-1?0:De-Te)){if(Te===-1&&(Te=De),De-Te+1===le)return Te*Q}else Te!==-1&&(De-=De-Te),Te=-1}else for(y+le>ee&&(y=ee-le),De=y;De>=0;De--){for(var Ee=!0,mt=0;mt<le;mt++)if(pe(v,De+mt)!==pe(m,mt)){Ee=!1;break}if(Ee)return De}return-1}l.prototype.includes=function(m,y,I){return this.indexOf(m,y,I)!==-1},l.prototype.indexOf=function(m,y,I){return T(this,m,y,I,!0)},l.prototype.lastIndexOf=function(m,y,I){return T(this,m,y,I,!1)};function x(v,m,y,I){y=Number(y)||0;var j=v.length-y;I?(I=Number(I),I>j&&(I=j)):I=j;var Q=m.length;I>Q/2&&(I=Q/2);for(var ee=0;ee<I;++ee){var le=parseInt(m.substr(ee*2,2),16);if(C(le))return ee;v[y+ee]=le}return ee}function q(v,m,y,I){return Y(ie(m,v.length-y),v,y,I)}function L(v,m,y,I){return Y(F(m),v,y,I)}function ae(v,m,y,I){return L(v,m,y,I)}function ue(v,m,y,I){return Y(V(m),v,y,I)}function se(v,m,y,I){return Y(A(m,v.length-y),v,y,I)}l.prototype.write=function(m,y,I,j){if(y===void 0)j="utf8",I=this.length,y=0;else if(I===void 0&&typeof y=="string")j=y,I=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(I)?(I=I>>>0,j===void 0&&(j="utf8")):(j=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Q=this.length-y;if((I===void 0||I>Q)&&(I=Q),m.length>0&&(I<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var ee=!1;;)switch(j){case"hex":return x(this,m,y,I);case"utf8":case"utf-8":return q(this,m,y,I);case"ascii":return L(this,m,y,I);case"latin1":case"binary":return ae(this,m,y,I);case"base64":return ue(this,m,y,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,m,y,I);default:if(ee)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),ee=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(v,m,y){return m===0&&y===v.length?c.fromByteArray(v):c.fromByteArray(v.slice(m,y))}function M(v,m,y){y=Math.min(v.length,y);for(var I=[],j=m;j<y;){var Q=v[j],ee=null,le=Q>239?4:Q>223?3:Q>191?2:1;if(j+le<=y){var pe,De,Te,Ee;switch(le){case 1:Q<128&&(ee=Q);break;case 2:pe=v[j+1],(pe&192)===128&&(Ee=(Q&31)<<6|pe&63,Ee>127&&(ee=Ee));break;case 3:pe=v[j+1],De=v[j+2],(pe&192)===128&&(De&192)===128&&(Ee=(Q&15)<<12|(pe&63)<<6|De&63,Ee>2047&&(Ee<55296||Ee>57343)&&(ee=Ee));break;case 4:pe=v[j+1],De=v[j+2],Te=v[j+3],(pe&192)===128&&(De&192)===128&&(Te&192)===128&&(Ee=(Q&15)<<18|(pe&63)<<12|(De&63)<<6|Te&63,Ee>65535&&Ee<1114112&&(ee=Ee))}}ee===null?(ee=65533,le=1):ee>65535&&(ee-=65536,I.push(ee>>>10&1023|55296),ee=56320|ee&1023),I.push(ee),j+=le}return B(I)}var R=4096;function B(v){var m=v.length;if(m<=R)return String.fromCharCode.apply(String,v);for(var y="",I=0;I<m;)y+=String.fromCharCode.apply(String,v.slice(I,I+=R));return y}function z(v,m,y){var I="";y=Math.min(v.length,y);for(var j=m;j<y;++j)I+=String.fromCharCode(v[j]&127);return I}function oe(v,m,y){var I="";y=Math.min(v.length,y);for(var j=m;j<y;++j)I+=String.fromCharCode(v[j]);return I}function re(v,m,y){var I=v.length;(!m||m<0)&&(m=0),(!y||y<0||y>I)&&(y=I);for(var j="",Q=m;Q<y;++Q)j+=K(v[Q]);return j}function G(v,m,y){for(var I=v.slice(m,y),j="",Q=0;Q<I.length;Q+=2)j+=String.fromCharCode(I[Q]+I[Q+1]*256);return j}l.prototype.slice=function(m,y){var I=this.length;m=~~m,y=y===void 0?I:~~y,m<0?(m+=I,m<0&&(m=0)):m>I&&(m=I),y<0?(y+=I,y<0&&(y=0)):y>I&&(y=I),y<m&&(y=m);var j=this.subarray(m,y);return j.__proto__=l.prototype,j};function W(v,m,y){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+m>y)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUIntLE=function(m,y,I){m=m>>>0,y=y>>>0,I||W(m,y,this.length);for(var j=this[m],Q=1,ee=0;++ee<y&&(Q*=256);)j+=this[m+ee]*Q;return j},l.prototype.readUIntBE=function(m,y,I){m=m>>>0,y=y>>>0,I||W(m,y,this.length);for(var j=this[m+--y],Q=1;y>0&&(Q*=256);)j+=this[m+--y]*Q;return j},l.prototype.readUInt8=function(m,y){return m=m>>>0,y||W(m,1,this.length),this[m]},l.prototype.readUInt16LE=function(m,y){return m=m>>>0,y||W(m,2,this.length),this[m]|this[m+1]<<8},l.prototype.readUInt16BE=function(m,y){return m=m>>>0,y||W(m,2,this.length),this[m]<<8|this[m+1]},l.prototype.readUInt32LE=function(m,y){return m=m>>>0,y||W(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},l.prototype.readUInt32BE=function(m,y){return m=m>>>0,y||W(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},l.prototype.readIntLE=function(m,y,I){m=m>>>0,y=y>>>0,I||W(m,y,this.length);for(var j=this[m],Q=1,ee=0;++ee<y&&(Q*=256);)j+=this[m+ee]*Q;return Q*=128,j>=Q&&(j-=Math.pow(2,8*y)),j},l.prototype.readIntBE=function(m,y,I){m=m>>>0,y=y>>>0,I||W(m,y,this.length);for(var j=y,Q=1,ee=this[m+--j];j>0&&(Q*=256);)ee+=this[m+--j]*Q;return Q*=128,ee>=Q&&(ee-=Math.pow(2,8*y)),ee},l.prototype.readInt8=function(m,y){return m=m>>>0,y||W(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},l.prototype.readInt16LE=function(m,y){m=m>>>0,y||W(m,2,this.length);var I=this[m]|this[m+1]<<8;return I&32768?I|4294901760:I},l.prototype.readInt16BE=function(m,y){m=m>>>0,y||W(m,2,this.length);var I=this[m+1]|this[m]<<8;return I&32768?I|4294901760:I},l.prototype.readInt32LE=function(m,y){return m=m>>>0,y||W(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},l.prototype.readInt32BE=function(m,y){return m=m>>>0,y||W(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},l.prototype.readFloatLE=function(m,y){return m=m>>>0,y||W(m,4,this.length),h.read(this,m,!0,23,4)},l.prototype.readFloatBE=function(m,y){return m=m>>>0,y||W(m,4,this.length),h.read(this,m,!1,23,4)},l.prototype.readDoubleLE=function(m,y){return m=m>>>0,y||W(m,8,this.length),h.read(this,m,!0,52,8)},l.prototype.readDoubleBE=function(m,y){return m=m>>>0,y||W(m,8,this.length),h.read(this,m,!1,52,8)};function te(v,m,y,I,j,Q){if(!l.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>j||m<Q)throw new RangeError('"value" argument is out of bounds');if(y+I>v.length)throw new RangeError("Index out of range")}l.prototype.writeUIntLE=function(m,y,I,j){if(m=+m,y=y>>>0,I=I>>>0,!j){var Q=Math.pow(2,8*I)-1;te(this,m,y,I,Q,0)}var ee=1,le=0;for(this[y]=m&255;++le<I&&(ee*=256);)this[y+le]=m/ee&255;return y+I},l.prototype.writeUIntBE=function(m,y,I,j){if(m=+m,y=y>>>0,I=I>>>0,!j){var Q=Math.pow(2,8*I)-1;te(this,m,y,I,Q,0)}var ee=I-1,le=1;for(this[y+ee]=m&255;--ee>=0&&(le*=256);)this[y+ee]=m/le&255;return y+I},l.prototype.writeUInt8=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,1,255,0),this[y]=m&255,y+1},l.prototype.writeUInt16LE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,2,65535,0),this[y]=m&255,this[y+1]=m>>>8,y+2},l.prototype.writeUInt16BE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,2,65535,0),this[y]=m>>>8,this[y+1]=m&255,y+2},l.prototype.writeUInt32LE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,4,4294967295,0),this[y+3]=m>>>24,this[y+2]=m>>>16,this[y+1]=m>>>8,this[y]=m&255,y+4},l.prototype.writeUInt32BE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,4,4294967295,0),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4},l.prototype.writeIntLE=function(m,y,I,j){if(m=+m,y=y>>>0,!j){var Q=Math.pow(2,8*I-1);te(this,m,y,I,Q-1,-Q)}var ee=0,le=1,pe=0;for(this[y]=m&255;++ee<I&&(le*=256);)m<0&&pe===0&&this[y+ee-1]!==0&&(pe=1),this[y+ee]=(m/le>>0)-pe&255;return y+I},l.prototype.writeIntBE=function(m,y,I,j){if(m=+m,y=y>>>0,!j){var Q=Math.pow(2,8*I-1);te(this,m,y,I,Q-1,-Q)}var ee=I-1,le=1,pe=0;for(this[y+ee]=m&255;--ee>=0&&(le*=256);)m<0&&pe===0&&this[y+ee+1]!==0&&(pe=1),this[y+ee]=(m/le>>0)-pe&255;return y+I},l.prototype.writeInt8=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,1,127,-128),m<0&&(m=255+m+1),this[y]=m&255,y+1},l.prototype.writeInt16LE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,2,32767,-32768),this[y]=m&255,this[y+1]=m>>>8,y+2},l.prototype.writeInt16BE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,2,32767,-32768),this[y]=m>>>8,this[y+1]=m&255,y+2},l.prototype.writeInt32LE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,4,2147483647,-2147483648),this[y]=m&255,this[y+1]=m>>>8,this[y+2]=m>>>16,this[y+3]=m>>>24,y+4},l.prototype.writeInt32BE=function(m,y,I){return m=+m,y=y>>>0,I||te(this,m,y,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4};function X(v,m,y,I,j,Q){if(y+I>v.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function ce(v,m,y,I,j){return m=+m,y=y>>>0,j||X(v,m,y,4,34028234663852886e22,-34028234663852886e22),h.write(v,m,y,I,23,4),y+4}l.prototype.writeFloatLE=function(m,y,I){return ce(this,m,y,!0,I)},l.prototype.writeFloatBE=function(m,y,I){return ce(this,m,y,!1,I)};function ne(v,m,y,I,j){return m=+m,y=y>>>0,j||X(v,m,y,8,17976931348623157e292,-17976931348623157e292),h.write(v,m,y,I,52,8),y+8}l.prototype.writeDoubleLE=function(m,y,I){return ne(this,m,y,!0,I)},l.prototype.writeDoubleBE=function(m,y,I){return ne(this,m,y,!1,I)},l.prototype.copy=function(m,y,I,j){if(!l.isBuffer(m))throw new TypeError("argument should be a Buffer");if(I||(I=0),!j&&j!==0&&(j=this.length),y>=m.length&&(y=m.length),y||(y=0),j>0&&j<I&&(j=I),j===I||m.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),m.length-y<j-I&&(j=m.length-y+I);var Q=j-I;if(this===m&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(y,I,j);else if(this===m&&I<y&&y<j)for(var ee=Q-1;ee>=0;--ee)m[ee+y]=this[ee+I];else Uint8Array.prototype.set.call(m,this.subarray(I,j),y);return Q},l.prototype.fill=function(m,y,I,j){if(typeof m=="string"){if(typeof y=="string"?(j=y,y=0,I=this.length):typeof I=="string"&&(j=I,I=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!l.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(m.length===1){var Q=m.charCodeAt(0);(j==="utf8"&&Q<128||j==="latin1")&&(m=Q)}}else typeof m=="number"&&(m=m&255);if(y<0||this.length<y||this.length<I)throw new RangeError("Out of range index");if(I<=y)return this;y=y>>>0,I=I===void 0?this.length:I>>>0,m||(m=0);var ee;if(typeof m=="number")for(ee=y;ee<I;++ee)this[ee]=m;else{var le=l.isBuffer(m)?m:l.from(m,j),pe=le.length;if(pe===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(ee=0;ee<I-y;++ee)this[ee+y]=le[ee%pe]}return this};var U=/[^+/0-9A-Za-z-_]/g;function k(v){if(v=v.split("=")[0],v=v.trim().replace(U,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function K(v){return v<16?"0"+v.toString(16):v.toString(16)}function ie(v,m){m=m||1/0;for(var y,I=v.length,j=null,Q=[],ee=0;ee<I;++ee){if(y=v.charCodeAt(ee),y>55295&&y<57344){if(!j){if(y>56319){(m-=3)>-1&&Q.push(239,191,189);continue}else if(ee+1===I){(m-=3)>-1&&Q.push(239,191,189);continue}j=y;continue}if(y<56320){(m-=3)>-1&&Q.push(239,191,189),j=y;continue}y=(j-55296<<10|y-56320)+65536}else j&&(m-=3)>-1&&Q.push(239,191,189);if(j=null,y<128){if((m-=1)<0)break;Q.push(y)}else if(y<2048){if((m-=2)<0)break;Q.push(y>>6|192,y&63|128)}else if(y<65536){if((m-=3)<0)break;Q.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((m-=4)<0)break;Q.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return Q}function F(v){for(var m=[],y=0;y<v.length;++y)m.push(v.charCodeAt(y)&255);return m}function A(v,m){for(var y,I,j,Q=[],ee=0;ee<v.length&&!((m-=2)<0);++ee)y=v.charCodeAt(ee),I=y>>8,j=y%256,Q.push(j),Q.push(I);return Q}function V(v){return c.toByteArray(k(v))}function Y(v,m,y,I){for(var j=0;j<I&&!(j+y>=m.length||j>=v.length);++j)m[j+y]=v[j];return j}function Z(v,m){return v instanceof m||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===m.name}function C(v){return v!==v}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:5}],4:[function(n,i,o){"use strict";var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(P,x,q){return Function.prototype.apply.call(P,x,q)},h;s&&typeof s.ownKeys=="function"?h=s.ownKeys:Object.getOwnPropertySymbols?h=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:h=function(P){return Object.getOwnPropertyNames(P)};function p(T){console&&console.warn&&console.warn(T)}var d=Number.isNaN||function(P){return P!==P};function f(){f.init.call(this)}i.exports=f,i.exports.once=N,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var l=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(T){if(typeof T!="number"||T<0||d(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");l=T}}),f.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||d(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function u(T){return T._maxListeners===void 0?f.defaultMaxListeners:T._maxListeners}f.prototype.getMaxListeners=function(){return u(this)},f.prototype.emit=function(P){for(var x=[],q=1;q<arguments.length;q++)x.push(arguments[q]);var L=P==="error",ae=this._events;if(ae!==void 0)L=L&&ae.error===void 0;else if(!L)return!1;if(L){var ue;if(x.length>0&&(ue=x[0]),ue instanceof Error)throw ue;var se=new Error("Unhandled error."+(ue?" ("+ue.message+")":""));throw se.context=ue,se}var J=ae[P];if(J===void 0)return!1;if(typeof J=="function")c(J,this,x);else for(var M=J.length,R=b(J,M),q=0;q<M;++q)c(R[q],this,x);return!0};function g(T,P,x,q){var L,ae,ue;if(a(x),ae=T._events,ae===void 0?(ae=T._events=Object.create(null),T._eventsCount=0):(ae.newListener!==void 0&&(T.emit("newListener",P,x.listener?x.listener:x),ae=T._events),ue=ae[P]),ue===void 0)ue=ae[P]=x,++T._eventsCount;else if(typeof ue=="function"?ue=ae[P]=q?[x,ue]:[ue,x]:q?ue.unshift(x):ue.push(x),L=u(T),L>0&&ue.length>L&&!ue.warned){ue.warned=!0;var se=new Error("Possible EventEmitter memory leak detected. "+ue.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");se.name="MaxListenersExceededWarning",se.emitter=T,se.type=P,se.count=ue.length,p(se)}return T}f.prototype.addListener=function(P,x){return g(this,P,x,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(P,x){return g(this,P,x,!0)};function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(T,P,x){var q={fired:!1,wrapFn:void 0,target:T,type:P,listener:x},L=w.bind(q);return L.listener=x,q.wrapFn=L,L}f.prototype.once=function(P,x){return a(x),this.on(P,_(this,P,x)),this},f.prototype.prependOnceListener=function(P,x){return a(x),this.prependListener(P,_(this,P,x)),this},f.prototype.removeListener=function(P,x){var q,L,ae,ue,se;if(a(x),L=this._events,L===void 0)return this;if(q=L[P],q===void 0)return this;if(q===x||q.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete L[P],L.removeListener&&this.emit("removeListener",P,q.listener||x));else if(typeof q!="function"){for(ae=-1,ue=q.length-1;ue>=0;ue--)if(q[ue]===x||q[ue].listener===x){se=q[ue].listener,ae=ue;break}if(ae<0)return this;ae===0?q.shift():S(q,ae),q.length===1&&(L[P]=q[0]),L.removeListener!==void 0&&this.emit("removeListener",P,se||x)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(P){var x,q,L;if(q=this._events,q===void 0)return this;if(q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):q[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete q[P]),this;if(arguments.length===0){var ae=Object.keys(q),ue;for(L=0;L<ae.length;++L)ue=ae[L],ue!=="removeListener"&&this.removeAllListeners(ue);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=q[P],typeof x=="function")this.removeListener(P,x);else if(x!==void 0)for(L=x.length-1;L>=0;L--)this.removeListener(P,x[L]);return this};function D(T,P,x){var q=T._events;if(q===void 0)return[];var L=q[P];return L===void 0?[]:typeof L=="function"?x?[L.listener||L]:[L]:x?O(L):b(L,L.length)}f.prototype.listeners=function(P){return D(this,P,!0)},f.prototype.rawListeners=function(P){return D(this,P,!1)},f.listenerCount=function(T,P){return typeof T.listenerCount=="function"?T.listenerCount(P):E.call(T,P)},f.prototype.listenerCount=E;function E(T){var P=this._events;if(P!==void 0){var x=P[T];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]};function b(T,P){for(var x=new Array(P),q=0;q<P;++q)x[q]=T[q];return x}function S(T,P){for(;P+1<T.length;P++)T[P]=T[P+1];T.pop()}function O(T){for(var P=new Array(T.length),x=0;x<P.length;++x)P[x]=T[x].listener||T[x];return P}function N(T,P){return new Promise(function(x,q){function L(ue){T.removeListener(P,ae),q(ue)}function ae(){typeof T.removeListener=="function"&&T.removeListener("error",L),x([].slice.call(arguments))}$(T,P,ae,{once:!0}),P!=="error"&&H(T,L,{once:!0})})}function H(T,P,x){typeof T.on=="function"&&$(T,"error",P,x)}function $(T,P,x,q){if(typeof T.on=="function")q.once?T.once(P,x):T.on(P,x);else if(typeof T.addEventListener=="function")T.addEventListener(P,function L(ae){q.once&&T.removeEventListener(P,L),x(ae)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}},{}],5:[function(n,i,o){o.read=function(s,c,h,p,d){var f,l,a=d*8-p-1,u=(1<<a)-1,g=u>>1,w=-7,_=h?d-1:0,D=h?-1:1,E=s[c+_];for(_+=D,f=E&(1<<-w)-1,E>>=-w,w+=a;w>0;f=f*256+s[c+_],_+=D,w-=8);for(l=f&(1<<-w)-1,f>>=-w,w+=p;w>0;l=l*256+s[c+_],_+=D,w-=8);if(f===0)f=1-g;else{if(f===u)return l?NaN:(E?-1:1)*(1/0);l=l+Math.pow(2,p),f=f-g}return(E?-1:1)*l*Math.pow(2,f-p)},o.write=function(s,c,h,p,d,f){var l,a,u,g=f*8-d-1,w=(1<<g)-1,_=w>>1,D=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=p?0:f-1,b=p?1:-1,S=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(a=isNaN(c)?1:0,l=w):(l=Math.floor(Math.log(c)/Math.LN2),c*(u=Math.pow(2,-l))<1&&(l--,u*=2),l+_>=1?c+=D/u:c+=D*Math.pow(2,1-_),c*u>=2&&(l++,u/=2),l+_>=w?(a=0,l=w):l+_>=1?(a=(c*u-1)*Math.pow(2,d),l=l+_):(a=c*Math.pow(2,_-1)*Math.pow(2,d),l=0));d>=8;s[h+E]=a&255,E+=b,a/=256,d-=8);for(l=l<<d|a,g+=d;g>0;s[h+E]=l&255,E+=b,l/=256,g-=8);s[h+E-b]|=S*128}},{}],6:[function(n,i,o){(function(s,c){(function(){"use strict";let h=n("events").EventEmitter,p=n("./store"),d=n("./topic-alias-recv"),f=n("./topic-alias-send"),l=n("mqtt-packet"),a=n("./default-message-id-provider"),u=n("readable-stream").Writable,g=n("inherits"),w=n("reinterval"),_=n("rfdc/default"),D=n("./validations"),E=n("xtend"),b=n("debug")("mqttjs:client"),S=s?s.nextTick:function(M){setTimeout(M,0)},O=c.setImmediate||function(M){S(M)},N={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},H=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],$={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function T(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function P(M,R){if(M.options.protocolVersion===5&&R.cmd==="publish"){let B;R.properties&&(B=R.properties.topicAlias);let z=R.topic.toString();if(M.topicAliasSend)if(B){if(z.length!==0&&(b("applyTopicAlias :: register topic: %s - alias: %d",z,B),!M.topicAliasSend.put(z,B)))return b("applyTopicAlias :: error out of range. topic: %s - alias: %d",z,B),new Error("Sending Topic Alias out of range")}else z.length!==0&&(M.options.autoAssignTopicAlias?(B=M.topicAliasSend.getAliasByTopic(z),B?(R.topic="",R.properties=Pe(xe({},R.properties),{topicAlias:B}),b("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",z,B)):(B=M.topicAliasSend.getLruAlias(),M.topicAliasSend.put(z,B),R.properties=Pe(xe({},R.properties),{topicAlias:B}),b("applyTopicAlias :: auto assign topic: %s - alias: %d",z,B))):M.options.autoUseTopicAlias&&(B=M.topicAliasSend.getAliasByTopic(z),B&&(R.topic="",R.properties=Pe(xe({},R.properties),{topicAlias:B}),b("applyTopicAlias :: auto use topic: %s - alias: %d",z,B))));else if(B)return b("applyTopicAlias :: error out of range. topic: %s - alias: %d",z,B),new Error("Sending Topic Alias out of range")}}function x(M,R){let B;R.properties&&(B=R.properties.topicAlias);let z=R.topic.toString();if(z.length===0){if(typeof B>"u")return new Error("Unregistered Topic Alias");if(z=M.topicAliasSend.getTopicByAlias(B),typeof z>"u")return new Error("Unregistered Topic Alias");R.topic=z}B&&delete R.properties.topicAlias}function q(M,R,B){b("sendPacket :: packet: %O",R),b("sendPacket :: emitting `packetsend`"),M.emit("packetsend",R),b("sendPacket :: writing to stream");let z=l.writeToStream(R,M.stream,M.options);b("sendPacket :: writeToStream result %s",z),!z&&B&&B!==se?(b("sendPacket :: handle events on `drain` once through callback."),M.stream.once("drain",B)):B&&(b("sendPacket :: invoking cb"),B())}function L(M){M&&(b("flush: queue exists? %b",!!M),Object.keys(M).forEach(function(R){typeof M[R].cb=="function"&&(M[R].cb(new Error("Connection closed")),delete M[R])}))}function ae(M){M&&(b("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(M).forEach(function(R){M[R].volatile&&typeof M[R].cb=="function"&&(M[R].cb(new Error("Connection closed")),delete M[R])}))}function ue(M,R,B,z){b("storeAndSend :: store packet with cmd %s to outgoingStore",R.cmd);let oe=R,re;if(oe.cmd==="publish"&&(oe=_(R),re=x(M,oe),re))return B&&B(re);M.outgoingStore.put(oe,function(W){if(W)return B&&B(W);z(),q(M,R,B)})}function se(M){b("nop ::",M)}function J(M,R){let B,z=this;if(!(this instanceof J))return new J(M,R);this.options=R||{};for(B in N)typeof this.options[B]>"u"?this.options[B]=N[B]:this.options[B]=R[B];b("MqttClient :: options.protocol",R.protocol),b("MqttClient :: options.protocolVersion",R.protocolVersion),b("MqttClient :: options.username",R.username),b("MqttClient :: options.keepalive",R.keepalive),b("MqttClient :: options.reconnectPeriod",R.reconnectPeriod),b("MqttClient :: options.rejectUnauthorized",R.rejectUnauthorized),b("MqttClient :: options.topicAliasMaximum",R.topicAliasMaximum),this.options.clientId=typeof R.clientId=="string"?R.clientId:T(),b("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=R.protocolVersion===5&&R.customHandleAcks?R.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=M,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a:this.options.messageIdProvider,this.outgoingStore=R.outgoingStore||new p,this.incomingStore=R.incomingStore||new p,this.queueQoSZero=R.queueQoSZero===void 0?!0:R.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,R.topicAliasMaximum>0&&(R.topicAliasMaximum>65535?b("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new d(R.topicAliasMaximum)),this.on("connect",function(){let oe=this.queue;function re(){let G=oe.shift();b("deliver :: entry %o",G);let W=null;if(!G){z._resubscribe();return}W=G.packet,b("deliver :: call _sendPacket for %o",W);let te=!0;W.messageId&&W.messageId!==0&&(z.messageIdProvider.register(W.messageId)||(te=!1)),te?z._sendPacket(W,function(X){G.cb&&G.cb(X),re()}):(b("messageId: %d has already used. The message is skipped and removed.",W.messageId),re())}b("connect :: sending queued packets"),re()}),this.on("close",function(){b("close :: connected set to `false`"),this.connected=!1,b("close :: clearing connackTimer"),clearTimeout(this.connackTimer),b("close :: clearing ping timer"),z.pingTimer!==null&&(z.pingTimer.clear(),z.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),b("close :: calling _setupReconnect"),this._setupReconnect()}),h.call(this),b("MqttClient :: setting up stream"),this._setupStream()}g(J,h),J.prototype._setupStream=function(){let M=this,R=new u,B=l.parser(this.options),z=null,oe=[];b("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),b("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),B.on("packet",function(X){b("parser :: on packet push to packets array."),oe.push(X)});function re(){if(oe.length)S(G);else{let X=z;z=null,X()}}function G(){b("work :: getting next packet in queue");let X=oe.shift();if(X)b("work :: packet pulled from queue"),M._handlePacket(X,re);else{b("work :: no packets in queue");let ce=z;z=null,b("work :: done flag is %s",!!ce),ce&&ce()}}R._write=function(X,ce,ne){z=ne,b("writable stream :: parsing buffer"),B.parse(X),G()};function W(X){b("streamErrorHandler :: error",X.message),H.includes(X.code)?(b("streamErrorHandler :: emitting error"),M.emit("error",X)):se(X)}b("_setupStream :: pipe stream to writable stream"),this.stream.pipe(R),this.stream.on("error",W),this.stream.on("close",function(){b("(%s)stream :: on close",M.options.clientId),ae(M.outgoing),b("stream: emit close to MqttClient"),M.emit("close")}),b("_setupStream: sending packet `connect`");let te=Object.create(this.options);if(te.cmd="connect",this.topicAliasRecv&&(te.properties||(te.properties={}),this.topicAliasRecv&&(te.properties.topicAliasMaximum=this.topicAliasRecv.max)),q(this,te),B.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return M.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let X=E({cmd:"auth",reasonCode:0},this.options.authPacket);q(this,X)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){b("!!connectTimeout hit!! Calling _cleanUp with force `true`"),M._cleanUp(!0)},this.options.connectTimeout)},J.prototype._handlePacket=function(M,R){let B=this.options;if(B.protocolVersion===5&&B.properties&&B.properties.maximumPacketSize&&B.properties.maximumPacketSize<M.length)return this.emit("error",new Error("exceeding packets size "+M.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(b("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",M),M.cmd){case"publish":this._handlePublish(M,R);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(M),R();break;case"pubrel":this._handlePubrel(M,R);break;case"connack":this._handleConnack(M),R();break;case"auth":this._handleAuth(M),R();break;case"pingresp":this._handlePingresp(M),R();break;case"disconnect":this._handleDisconnect(M),R();break;default:break}},J.prototype._checkDisconnecting=function(M){return this.disconnecting&&(M&&M!==se?M(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},J.prototype.publish=function(M,R,B,z){b("publish :: message `%s` to topic `%s`",R,M);let oe=this.options;if(typeof B=="function"&&(z=B,B=null),B=E({qos:0,retain:!1,dup:!1},B),this._checkDisconnecting(z))return this;let G=this,W=function(){let te=0;if((B.qos===1||B.qos===2)&&(te=G._nextId(),te===null))return b("No messageId left"),!1;let X={cmd:"publish",topic:M,payload:R,qos:B.qos,retain:B.retain,messageId:te,dup:B.dup};switch(oe.protocolVersion===5&&(X.properties=B.properties),b("publish :: qos",B.qos),B.qos){case 1:case 2:G.outgoing[X.messageId]={volatile:!1,cb:z||se},b("MqttClient:publish: packet cmd: %s",X.cmd),G._sendPacket(X,void 0,B.cbStorePut);break;default:b("MqttClient:publish: packet cmd: %s",X.cmd),G._sendPacket(X,z,B.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,cbStorePut:B.cbStorePut,callback:z}),this},J.prototype.subscribe=function(){let M=this,R=new Array(arguments.length);for(let ne=0;ne<arguments.length;ne++)R[ne]=arguments[ne];let B=[],z=R.shift(),oe=z.resubscribe,re=R.pop()||se,G=R.pop(),W=this.options.protocolVersion;delete z.resubscribe,typeof z=="string"&&(z=[z]),typeof re!="function"&&(G=re,re=se);let te=D.validateTopics(z);if(te!==null)return O(re,new Error("Invalid topic "+te)),this;if(this._checkDisconnecting(re))return b("subscribe: discconecting true"),this;let X={qos:0};if(W===5&&(X.nl=!1,X.rap=!1,X.rh=0),G=E(X,G),Array.isArray(z)?z.forEach(function(ne){if(b("subscribe: array topic %s",ne),!Object.prototype.hasOwnProperty.call(M._resubscribeTopics,ne)||M._resubscribeTopics[ne].qos<G.qos||oe){let U={topic:ne,qos:G.qos};W===5&&(U.nl=G.nl,U.rap=G.rap,U.rh=G.rh,U.properties=G.properties),b("subscribe: pushing topic `%s` and qos `%s` to subs list",U.topic,U.qos),B.push(U)}}):Object.keys(z).forEach(function(ne){if(b("subscribe: object topic %s",ne),!Object.prototype.hasOwnProperty.call(M._resubscribeTopics,ne)||M._resubscribeTopics[ne].qos<z[ne].qos||oe){let U={topic:ne,qos:z[ne].qos};W===5&&(U.nl=z[ne].nl,U.rap=z[ne].rap,U.rh=z[ne].rh,U.properties=G.properties),b("subscribe: pushing `%s` to subs list",U),B.push(U)}}),!B.length)return re(null,[]),this;let ce=function(){let ne=M._nextId();if(ne===null)return b("No messageId left"),!1;let U={cmd:"subscribe",subscriptions:B,qos:1,retain:!1,dup:!1,messageId:ne};if(G.properties&&(U.properties=G.properties),M.options.resubscribe){b("subscribe :: resubscribe true");let k=[];B.forEach(function(K){if(M.options.reconnectPeriod>0){let ie={qos:K.qos};W===5&&(ie.nl=K.nl||!1,ie.rap=K.rap||!1,ie.rh=K.rh||0,ie.properties=K.properties),M._resubscribeTopics[K.topic]=ie,k.push(K.topic)}}),M.messageIdToTopic[U.messageId]=k}return M.outgoing[U.messageId]={volatile:!0,cb:function(k,K){if(!k){let ie=K.granted;for(let F=0;F<ie.length;F+=1)B[F].qos=ie[F]}re(k,B)}},b("subscribe :: call _sendPacket"),M._sendPacket(U),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ce())&&this._storeProcessingQueue.push({invoke:ce,callback:re}),this},J.prototype.unsubscribe=function(){let M=this,R=new Array(arguments.length);for(let W=0;W<arguments.length;W++)R[W]=arguments[W];let B=R.shift(),z=R.pop()||se,oe=R.pop();typeof B=="string"&&(B=[B]),typeof z!="function"&&(oe=z,z=se);let re=D.validateTopics(B);if(re!==null)return O(z,new Error("Invalid topic "+re)),this;if(M._checkDisconnecting(z))return this;let G=function(){let W=M._nextId();if(W===null)return b("No messageId left"),!1;let te={cmd:"unsubscribe",qos:1,messageId:W};return typeof B=="string"?te.unsubscriptions=[B]:Array.isArray(B)&&(te.unsubscriptions=B),M.options.resubscribe&&te.unsubscriptions.forEach(function(X){delete M._resubscribeTopics[X]}),typeof oe=="object"&&oe.properties&&(te.properties=oe.properties),M.outgoing[te.messageId]={volatile:!0,cb:z},b("unsubscribe: call _sendPacket"),M._sendPacket(te),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!G())&&this._storeProcessingQueue.push({invoke:G,callback:z}),this},J.prototype.end=function(M,R,B){let z=this;b("end :: (%s)",this.options.clientId),(M==null||typeof M!="boolean")&&(B=R||se,R=M,M=!1,typeof R!="object"&&(B=R,R=null,typeof B!="function"&&(B=se))),typeof R!="object"&&(B=R,R=null),b("end :: cb? %s",!!B),B=B||se;function oe(){b("end :: closeStores: closing incoming and outgoing stores"),z.disconnected=!0,z.incomingStore.close(function(G){z.outgoingStore.close(function(W){if(b("end :: closeStores: emitting end"),z.emit("end"),B){let te=G||W;b("end :: closeStores: invoking callback with args"),B(te)}})}),z._deferredReconnect&&z._deferredReconnect()}function re(){b("end :: (%s) :: finish :: calling _cleanUp with force %s",z.options.clientId,M),z._cleanUp(M,()=>{b("end :: finish :: calling process.nextTick on closeStores"),S(oe.bind(z))},R)}return this.disconnecting?(B(),this):(this._clearReconnect(),this.disconnecting=!0,!M&&Object.keys(this.outgoing).length>0?(b("end :: (%s) :: calling finish in 10ms once outgoing is empty",z.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,re,10))):(b("end :: (%s) :: immediately calling finish",z.options.clientId),re()),this)},J.prototype.removeOutgoingMessage=function(M){let R=this.outgoing[M]?this.outgoing[M].cb:null;return delete this.outgoing[M],this.outgoingStore.del({messageId:M},function(){R(new Error("Message removed"))}),this},J.prototype.reconnect=function(M){b("client reconnect");let R=this,B=function(){M?(R.options.incomingStore=M.incomingStore,R.options.outgoingStore=M.outgoingStore):(R.options.incomingStore=null,R.options.outgoingStore=null),R.incomingStore=R.options.incomingStore||new p,R.outgoingStore=R.options.outgoingStore||new p,R.disconnecting=!1,R.disconnected=!1,R._deferredReconnect=null,R._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=B:B(),this},J.prototype._reconnect=function(){b("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),b("client already connected. disconnecting first.")):(b("_reconnect: calling _setupStream"),this._setupStream())},J.prototype._setupReconnect=function(){let M=this;!M.disconnecting&&!M.reconnectTimer&&M.options.reconnectPeriod>0?(this.reconnecting||(b("_setupReconnect :: emit `offline` state"),this.emit("offline"),b("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),b("_setupReconnect :: setting reconnectTimer for %d ms",M.options.reconnectPeriod),M.reconnectTimer=setInterval(function(){b("reconnectTimer :: reconnect triggered!"),M._reconnect()},M.options.reconnectPeriod)):b("_setupReconnect :: doing nothing...")},J.prototype._clearReconnect=function(){b("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},J.prototype._cleanUp=function(M,R){let B=arguments[2];if(R&&(b("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",R)),b("_cleanUp :: forced? %s",M),M)this.options.reconnectPeriod===0&&this.options.clean&&L(this.outgoing),b("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let z=E({cmd:"disconnect"},B);b("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(z,O.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(b("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(b("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),R&&!this.connected&&(b("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",R),R())},J.prototype._sendPacket=function(M,R,B){b("_sendPacket :: (%s) ::  start",this.options.clientId),B=B||se,R=R||se;let z=P(this,M);if(z){R(z);return}if(!this.connected){if(M.cmd==="auth"){this._shiftPingInterval(),q(this,M,R);return}b("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(M,R,B);return}switch(this._shiftPingInterval(),M.cmd){case"publish":break;case"pubrel":ue(this,M,R,B);return;default:q(this,M,R);return}switch(M.qos){case 2:case 1:ue(this,M,R,B);break;case 0:default:q(this,M,R);break}b("_sendPacket :: (%s) ::  end",this.options.clientId)},J.prototype._storePacket=function(M,R,B){b("_storePacket :: packet: %o",M),b("_storePacket :: cb? %s",!!R),B=B||se;let z=M;if(z.cmd==="publish"){z=_(M);let oe=x(this,z);if(oe)return R&&R(oe)}(z.qos||0)===0&&this.queueQoSZero||z.cmd!=="publish"?this.queue.push({packet:z,cb:R}):z.qos>0?(R=this.outgoing[z.messageId]?this.outgoing[z.messageId].cb:null,this.outgoingStore.put(z,function(oe){if(oe)return R&&R(oe);B()})):R&&R(new Error("No connection to broker"))},J.prototype._setupPingTimer=function(){b("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);let M=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=w(function(){M._checkPing()},this.options.keepalive*1e3))},J.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},J.prototype._checkPing=function(){b("_checkPing :: checking ping..."),this.pingResp?(b("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(b("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},J.prototype._handlePingresp=function(){this.pingResp=!0},J.prototype._handleConnack=function(M){b("_handleConnack");let R=this.options,z=R.protocolVersion===5?M.reasonCode:M.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,M.properties){if(M.properties.topicAliasMaximum){if(M.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}M.properties.topicAliasMaximum>0&&(this.topicAliasSend=new f(M.properties.topicAliasMaximum))}M.properties.serverKeepAlive&&R.keepalive&&(R.keepalive=M.properties.serverKeepAlive,this._shiftPingInterval()),M.properties.maximumPacketSize&&(R.properties||(R.properties={}),R.properties.maximumPacketSize=M.properties.maximumPacketSize)}if(z===0)this.reconnecting=!1,this._onConnect(M);else if(z>0){let oe=new Error("Connection refused: "+$[z]);oe.code=z,this.emit("error",oe)}},J.prototype._handleAuth=function(M){let B=this.options.protocolVersion,z=B===5?M.reasonCode:M.returnCode;if(B!==5){let re=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+B);re.code=z,this.emit("error",re);return}let oe=this;this.handleAuth(M,function(re,G){if(re){oe.emit("error",re);return}if(z===24)oe.reconnecting=!1,oe._sendPacket(G);else{let W=new Error("Connection refused: "+$[z]);re.code=z,oe.emit("error",W)}})},J.prototype.handleAuth=function(M,R){R()},J.prototype._handlePublish=function(M,R){b("_handlePublish: packet %o",M),R=typeof R<"u"?R:se;let B=M.topic.toString(),z=M.payload,oe=M.qos,re=M.messageId,G=this,W=this.options,te=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let X;if(M.properties&&(X=M.properties.topicAlias),typeof X<"u")if(B.length===0)if(X>0&&X<=65535){let ce=this.topicAliasRecv.getTopicByAlias(X);if(ce)B=ce,b("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",B,X);else{b("_handlePublish :: unregistered topic alias. alias: %d",X),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{b("_handlePublish :: topic alias out of range. alias: %d",X),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(B,X))b("_handlePublish :: registered topic: %s - alias: %d",B,X);else{b("_handlePublish :: topic alias out of range. alias: %d",X),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(b("_handlePublish: qos %d",oe),oe){case 2:{W.customHandleAcks(B,z,M,function(X,ce){if(X instanceof Error||(ce=X,X=null),X)return G.emit("error",X);if(te.indexOf(ce)===-1)return G.emit("error",new Error("Wrong reason code for pubrec"));ce?G._sendPacket({cmd:"pubrec",messageId:re,reasonCode:ce},R):G.incomingStore.put(M,function(){G._sendPacket({cmd:"pubrec",messageId:re},R)})});break}case 1:{W.customHandleAcks(B,z,M,function(X,ce){if(X instanceof Error||(ce=X,X=null),X)return G.emit("error",X);if(te.indexOf(ce)===-1)return G.emit("error",new Error("Wrong reason code for puback"));ce||G.emit("message",B,z,M),G.handleMessage(M,function(ne){if(ne)return R&&R(ne);G._sendPacket({cmd:"puback",messageId:re,reasonCode:ce},R)})});break}case 0:this.emit("message",B,z,M),this.handleMessage(M,R);break;default:b("_handlePublish: unknown QoS. Doing nothing.");break}},J.prototype.handleMessage=function(M,R){R()},J.prototype._handleAck=function(M){let R=M.messageId,B=M.cmd,z=null,oe=this.outgoing[R]?this.outgoing[R].cb:null,re=this,G;if(!oe){b("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(b("_handleAck :: packet type",B),B){case"pubcomp":case"puback":{let W=M.reasonCode;W&&W>0&&W!==16&&(G=new Error("Publish error: "+$[W]),G.code=W,oe(G,M)),delete this.outgoing[R],this.outgoingStore.del(M,oe),this.messageIdProvider.deallocate(R),this._invokeStoreProcessingQueue();break}case"pubrec":{z={cmd:"pubrel",qos:2,messageId:R};let W=M.reasonCode;W&&W>0&&W!==16?(G=new Error("Publish error: "+$[W]),G.code=W,oe(G,M)):this._sendPacket(z);break}case"suback":{delete this.outgoing[R],this.messageIdProvider.deallocate(R);for(let W=0;W<M.granted.length;W++)if(M.granted[W]&128){let te=this.messageIdToTopic[R];te&&te.forEach(function(X){delete re._resubscribeTopics[X]})}this._invokeStoreProcessingQueue(),oe(null,M);break}case"unsuback":{delete this.outgoing[R],this.messageIdProvider.deallocate(R),this._invokeStoreProcessingQueue(),oe(null);break}default:re.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},J.prototype._handlePubrel=function(M,R){b("handling pubrel packet"),R=typeof R<"u"?R:se;let B=M.messageId,z=this,oe={cmd:"pubcomp",messageId:B};z.incomingStore.get(M,function(re,G){re?z._sendPacket(oe,R):(z.emit("message",G.topic,G.payload,G),z.handleMessage(G,function(W){if(W)return R(W);z.incomingStore.del(G,se),z._sendPacket(oe,R)}))})},J.prototype._handleDisconnect=function(M){this.emit("disconnect",M)},J.prototype._nextId=function(){return this.messageIdProvider.allocate()},J.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},J.prototype._resubscribe=function(){b("_resubscribe");let M=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&M.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){b("_resubscribe: protocolVersion 5");for(let R=0;R<M.length;R++){let B={};B[M[R]]=this._resubscribeTopics[M[R]],B.resubscribe=!0,this.subscribe(B,{properties:B[M[R]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},J.prototype._onConnect=function(M){if(this.disconnected){this.emit("connect",M);return}let R=this;this.connackPacket=M,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function B(){let z=R.outgoingStore.createStream();function oe(){R._storeProcessing=!1,R._packetIdsDuringStoreProcessing={}}R.once("close",re),z.on("error",function(W){oe(),R._flushStoreProcessingQueue(),R.removeListener("close",re),R.emit("error",W)});function re(){z.destroy(),z=null,R._flushStoreProcessingQueue(),oe()}function G(){if(!z)return;R._storeProcessing=!0;let W=z.read(1),te;if(!W){z.once("readable",G);return}if(R._packetIdsDuringStoreProcessing[W.messageId]){G();return}!R.disconnecting&&!R.reconnectTimer?(te=R.outgoing[W.messageId]?R.outgoing[W.messageId].cb:null,R.outgoing[W.messageId]={volatile:!1,cb:function(X,ce){te&&te(X,ce),G()}},R._packetIdsDuringStoreProcessing[W.messageId]=!0,R.messageIdProvider.register(W.messageId)?R._sendPacket(W):b("messageId: %d has already used.",W.messageId)):z.destroy&&z.destroy()}z.on("end",function(){let W=!0;for(let te in R._packetIdsDuringStoreProcessing)if(!R._packetIdsDuringStoreProcessing[te]){W=!1;break}W?(oe(),R.removeListener("close",re),R._invokeAllStoreProcessingQueue(),R.emit("connect",M)):B()}),G()}B()},J.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){let M=this._storeProcessingQueue[0];if(M&&M.invoke())return this._storeProcessingQueue.shift(),!0}return!1},J.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},J.prototype._flushStoreProcessingQueue=function(){for(let M of this._storeProcessingQueue)M.cbStorePut&&M.cbStorePut(new Error("Connection closed")),M.callback&&M.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},i.exports=J}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":12,"./store":13,"./topic-alias-recv":14,"./topic-alias-send":15,"./validations":16,_process:85,debug:20,events:4,inherits:24,"mqtt-packet":48,"readable-stream":72,reinterval:73,"rfdc/default":74,xtend:82}],7:[function(n,i,o){"use strict";let{Buffer:s}=n("buffer"),c=n("readable-stream").Transform,h=n("duplexify"),p,d,f,l=!1;function a(){let D=new c;return D._write=function(E,b,S){p.sendSocketMessage({data:E.buffer,success:function(){S()},fail:function(){S(new Error)}})},D._flush=function(b){p.closeSocket({success:function(){b()}})},D}function u(D){D.hostname||(D.hostname="localhost"),D.path||(D.path="/"),D.wsOptions||(D.wsOptions={})}function g(D,E){let b=D.protocol==="alis"?"wss":"ws",S=b+"://"+D.hostname+D.path;return D.port&&D.port!==80&&D.port!==443&&(S=b+"://"+D.hostname+":"+D.port+D.path),typeof D.transformWsUrl=="function"&&(S=D.transformWsUrl(S,D,E)),S}function w(){l||(l=!0,p.onSocketOpen(function(){f.setReadable(d),f.setWritable(d),f.emit("connect")}),p.onSocketMessage(function(D){if(typeof D.data=="string"){let E=s.from(D.data,"base64");d.push(E)}else{let E=new FileReader;E.addEventListener("load",function(){let b=E.result;b instanceof ArrayBuffer?b=s.from(b):b=s.from(b,"utf8"),d.push(b)}),E.readAsArrayBuffer(D.data)}}),p.onSocketClose(function(){f.end(),f.destroy()}),p.onSocketError(function(D){f.destroy(D)}))}function _(D,E){if(E.hostname=E.hostname||E.host,!E.hostname)throw new Error("Could not determine host. Specify host manually.");let b=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt";u(E);let S=g(E,D);return p=E.my,p.connectSocket({url:S,protocols:b}),d=a(),f=h.obj(),w(),f}i.exports=_},{buffer:3,duplexify:22,"readable-stream":72}],8:[function(n,i,o){"use strict";let s=n("net"),c=n("debug")("mqttjs:tcp");function h(p,d){d.port=d.port||1883,d.hostname=d.hostname||d.host||"localhost";let f=d.port,l=d.hostname;return c("port %d and host %s",f,l),s.createConnection(f,l)}i.exports=h},{debug:20,net:2}],9:[function(n,i,o){"use strict";let s=n("tls"),c=n("net"),h=n("debug")("mqttjs:tls");function p(d,f){f.port=f.port||8883,f.host=f.hostname||f.host||"localhost",c.isIP(f.host)===0&&(f.servername=f.host),f.rejectUnauthorized=f.rejectUnauthorized!==!1,delete f.path,h("port %d host %s rejectUnauthorized %b",f.port,f.host,f.rejectUnauthorized);let l=s.connect(f);l.on("secureConnect",function(){f.rejectUnauthorized&&!l.authorized?l.emit("error",new Error("TLS not authorized")):l.removeListener("error",a)});function a(u){f.rejectUnauthorized&&d.emit("error",u),l.end()}return l.on("error",a),l}i.exports=p},{debug:20,net:2,tls:2}],10:[function(n,i,o){(function(s){(function(){"use strict";let{Buffer:c}=n("buffer"),h=n("ws"),p=n("debug")("mqttjs:ws"),d=n("duplexify"),f=n("readable-stream").Transform,l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],a=typeof s<"u"&&s.title==="browser"||typeof __webpack_require__=="function";function u(S,O){let N=S.protocol+"://"+S.hostname+":"+S.port+S.path;return typeof S.transformWsUrl=="function"&&(N=S.transformWsUrl(N,S,O)),N}function g(S){let O=S;return S.hostname||(O.hostname="localhost"),S.port||(S.protocol==="wss"?O.port=443:O.port=80),S.path||(O.path="/"),S.wsOptions||(O.wsOptions={}),!a&&S.protocol==="wss"&&l.forEach(function(N){Object.prototype.hasOwnProperty.call(S,N)&&!Object.prototype.hasOwnProperty.call(S.wsOptions,N)&&(O.wsOptions[N]=S[N])}),O}function w(S){let O=g(S);if(O.hostname||(O.hostname=O.host),!O.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let N=new URL(document.URL);O.hostname=N.hostname,O.port||(O.port=N.port)}return O.objectMode===void 0&&(O.objectMode=!(O.binary===!0||O.binary===void 0)),O}function _(S,O,N){p("createWebSocket"),p("protocol: "+N.protocolId+" "+N.protocolVersion);let H=N.protocolId==="MQIsdp"&&N.protocolVersion===3?"mqttv3.1":"mqtt";return p("creating new Websocket for url: "+O+" and protocol: "+H),new h(O,[H],N.wsOptions)}function D(S,O){let N=O.protocolId==="MQIsdp"&&O.protocolVersion===3?"mqttv3.1":"mqtt",H=u(O,S),$=new WebSocket(H,[N]);return $.binaryType="arraybuffer",$}function E(S,O){p("streamBuilder");let N=g(O),H=u(N,S),$=_(S,H,N),T=h.createWebSocketStream($,N.wsOptions);return T.url=H,$.on("close",()=>{T.destroy()}),T}function b(S,O){p("browserStreamBuilder");let N,$=w(O).browserBufferSize||1024*512,T=O.browserBufferTimeout||1e3,P=!O.objectMode,x=D(S,O),q=ae(O,B,z);O.objectMode||(q._writev=R),q.on("close",()=>{x.close()});let L=typeof x.addEventListener<"u";x.readyState===x.OPEN?N=q:(N=N=d(void 0,void 0,O),O.objectMode||(N._writev=R),L?x.addEventListener("open",ue):x.onopen=ue),N.socket=x,L?(x.addEventListener("close",se),x.addEventListener("error",J),x.addEventListener("message",M)):(x.onclose=se,x.onerror=J,x.onmessage=M);function ae(oe,re,G){let W=new f({objectModeMode:oe.objectMode});return W._write=re,W._flush=G,W}function ue(){N.setReadable(q),N.setWritable(q),N.emit("connect")}function se(){N.end(),N.destroy()}function J(oe){N.destroy(oe)}function M(oe){let re=oe.data;re instanceof ArrayBuffer?re=c.from(re):re=c.from(re,"utf8"),q.push(re)}function R(oe,re){let G=new Array(oe.length);for(let W=0;W<oe.length;W++)typeof oe[W].chunk=="string"?G[W]=c.from(oe[W],"utf8"):G[W]=oe[W].chunk;this._write(c.concat(G),"binary",re)}function B(oe,re,G){x.bufferedAmount>$&&setTimeout(B,T,oe,re,G),P&&typeof oe=="string"&&(oe=c.from(oe,"utf8"));try{x.send(oe)}catch(W){return G(W)}G()}function z(oe){x.close(),oe()}return N}a?i.exports=b:i.exports=E}).call(this)}).call(this,n("_process"))},{_process:85,buffer:3,debug:20,duplexify:22,"readable-stream":72,ws:81}],11:[function(n,i,o){"use strict";let{Buffer:s}=n("buffer"),c=n("readable-stream").Transform,h=n("duplexify"),p,d,f;function l(){let _=new c;return _._write=function(D,E,b){p.send({data:D.buffer,success:function(){b()},fail:function(S){b(new Error(S))}})},_._flush=function(E){p.close({success:function(){E()}})},_}function a(_){_.hostname||(_.hostname="localhost"),_.path||(_.path="/"),_.wsOptions||(_.wsOptions={})}function u(_,D){let E=_.protocol==="wxs"?"wss":"ws",b=E+"://"+_.hostname+_.path;return _.port&&_.port!==80&&_.port!==443&&(b=E+"://"+_.hostname+":"+_.port+_.path),typeof _.transformWsUrl=="function"&&(b=_.transformWsUrl(b,_,D)),b}function g(){p.onOpen(function(){f.setReadable(d),f.setWritable(d),f.emit("connect")}),p.onMessage(function(_){let D=_.data;D instanceof ArrayBuffer?D=s.from(D):D=s.from(D,"utf8"),d.push(D)}),p.onClose(function(){f.end(),f.destroy()}),p.onError(function(_){f.destroy(new Error(_.errMsg))})}function w(_,D){if(D.hostname=D.hostname||D.host,!D.hostname)throw new Error("Could not determine host. Specify host manually.");let E=D.protocolId==="MQIsdp"&&D.protocolVersion===3?"mqttv3.1":"mqtt";a(D);let b=u(D,_);p=wx.connectSocket({url:b,protocols:[E]}),d=l(),f=h.obj(),f._destroy=function(O,N){p.close({success:function(){N&&N(O)}})};let S=f.destroy;return f.destroy=(function(){f.destroy=S;let O=this;setTimeout(function(){p.close({fail:function(){O._destroy(new Error)}})},0)}).bind(f),g(),f}i.exports=w},{buffer:3,duplexify:22,"readable-stream":72}],12:[function(n,i,o){"use strict";function s(){if(!(this instanceof s))return new s;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}s.prototype.allocate=function(){let c=this.nextId++;return this.nextId===65536&&(this.nextId=1),c},s.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},s.prototype.register=function(c){return!0},s.prototype.deallocate=function(c){},s.prototype.clear=function(){},i.exports=s},{}],13:[function(n,i,o){"use strict";let s=n("xtend"),c=n("readable-stream").Readable,h={objectMode:!0},p={clean:!0};function d(f){if(!(this instanceof d))return new d(f);this.options=f||{},this.options=s(p,f),this._inflights=new Map}d.prototype.put=function(f,l){return this._inflights.set(f.messageId,f),l&&l(),this},d.prototype.createStream=function(){let f=new c(h),l=[],a=!1,u=0;return this._inflights.forEach(function(g,w){l.push(g)}),f._read=function(){!a&&u<l.length?this.push(l[u++]):this.push(null)},f.destroy=function(){if(a)return;let g=this;a=!0,setTimeout(function(){g.emit("close")},0)},f},d.prototype.del=function(f,l){return f=this._inflights.get(f.messageId),f?(this._inflights.delete(f.messageId),l(null,f)):l&&l(new Error("missing packet")),this},d.prototype.get=function(f,l){return f=this._inflights.get(f.messageId),f?l(null,f):l&&l(new Error("missing packet")),this},d.prototype.close=function(f){this.options.clean&&(this._inflights=null),f&&f()},i.exports=d},{"readable-stream":72,xtend:82}],14:[function(n,i,o){"use strict";function s(c){if(!(this instanceof s))return new s(c);this.aliasToTopic={},this.max=c}s.prototype.put=function(c,h){return h===0||h>this.max?!1:(this.aliasToTopic[h]=c,this.length=Object.keys(this.aliasToTopic).length,!0)},s.prototype.getTopicByAlias=function(c){return this.aliasToTopic[c]},s.prototype.clear=function(){this.aliasToTopic={}},i.exports=s},{}],15:[function(n,i,o){"use strict";let s=n("lru-cache"),c=n("number-allocator").NumberAllocator;function h(p){if(!(this instanceof h))return new h(p);p>0&&(this.aliasToTopic=new s({max:p}),this.topicToAlias={},this.numberAllocator=new c(1,p),this.max=p,this.length=0)}h.prototype.put=function(p,d){if(d===0||d>this.max)return!1;let f=this.aliasToTopic.get(d);return f&&delete this.topicToAlias[f],this.aliasToTopic.set(d,p),this.topicToAlias[p]=d,this.numberAllocator.use(d),this.length=this.aliasToTopic.length,!0},h.prototype.getTopicByAlias=function(p){return this.aliasToTopic.get(p)},h.prototype.getAliasByTopic=function(p){let d=this.topicToAlias[p];return typeof d<"u"&&this.aliasToTopic.get(d),d},h.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},h.prototype.getLruAlias=function(){let p=this.numberAllocator.firstVacant();return p||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},i.exports=h},{"lru-cache":45,"number-allocator":54}],16:[function(n,i,o){"use strict";function s(h){let p=h.split("/");for(let d=0;d<p.length;d++)if(p[d]!=="+"){if(p[d]==="#")return d===p.length-1;if(p[d].indexOf("+")!==-1||p[d].indexOf("#")!==-1)return!1}return!0}function c(h){if(h.length===0)return"empty_topic_list";for(let p=0;p<h.length;p++)if(!s(h[p]))return h[p];return null}i.exports={validateTopics:c}},{}],17:[function(n,i,o){(function(s){(function(){"use strict";let c=n("../client"),h=n("../store"),p=n("url"),d=n("xtend"),f=n("debug")("mqttjs"),l={};typeof s<"u"&&s.title!=="browser"||typeof __webpack_require__!="function"?(l.mqtt=n("./tcp"),l.tcp=n("./tcp"),l.ssl=n("./tls"),l.tls=n("./tls"),l.mqtts=n("./tls")):(l.wx=n("./wx"),l.wxs=n("./wx"),l.ali=n("./ali"),l.alis=n("./ali")),l.ws=n("./ws"),l.wss=n("./ws");function a(g){let w;g.auth&&(w=g.auth.match(/^(.+):(.+)$/),w?(g.username=w[1],g.password=w[2]):g.username=g.auth)}function u(g,w){if(f("connecting to an MQTT broker..."),typeof g=="object"&&!w&&(w=g,g=null),w=w||{},g){let E=p.parse(g,!0);if(E.port!=null&&(E.port=Number(E.port)),w=d(E,w),w.protocol===null)throw new Error("Missing protocol");w.protocol=w.protocol.replace(/:$/,"")}if(a(w),w.query&&typeof w.query.clientId=="string"&&(w.clientId=w.query.clientId),w.cert&&w.key)if(w.protocol){if(["mqtts","wss","wxs","alis"].indexOf(w.protocol)===-1)switch(w.protocol){case"mqtt":w.protocol="mqtts";break;case"ws":w.protocol="wss";break;case"wx":w.protocol="wxs";break;case"ali":w.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+w.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!l[w.protocol]){let E=["mqtts","wss"].indexOf(w.protocol)!==-1;w.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(b,S){return E&&S%2===0?!1:typeof l[b]=="function"})[0]}if(w.clean===!1&&!w.clientId)throw new Error("Missing clientId for unclean clients");w.protocol&&(w.defaultProtocol=w.protocol);function _(E){return w.servers&&((!E._reconnectCount||E._reconnectCount===w.servers.length)&&(E._reconnectCount=0),w.host=w.servers[E._reconnectCount].host,w.port=w.servers[E._reconnectCount].port,w.protocol=w.servers[E._reconnectCount].protocol?w.servers[E._reconnectCount].protocol:w.defaultProtocol,w.hostname=w.host,E._reconnectCount++),f("calling streambuilder for",w.protocol),l[w.protocol](E,w)}let D=new c(_,w);return D.on("error",function(){}),D}i.exports=u,i.exports.connect=u,i.exports.MqttClient=c,i.exports.Store=h}).call(this)}).call(this,n("_process"))},{"../client":6,"../store":13,"./ali":7,"./tcp":8,"./tls":9,"./ws":10,"./wx":11,_process:85,debug:20,url:90,xtend:82}],18:[function(n,i,o){"use strict";let{Buffer:s}=n("buffer"),c=Symbol.for("BufferList");function h(p){if(!(this instanceof h))return new h(p);h._init.call(this,p)}h._init=function(d){Object.defineProperty(this,c,{value:!0}),this._bufs=[],this.length=0,d&&this.append(d)},h.prototype._new=function(d){return new h(d)},h.prototype._offset=function(d){if(d===0)return[0,0];let f=0;for(let l=0;l<this._bufs.length;l++){let a=f+this._bufs[l].length;if(d<a||l===this._bufs.length-1)return[l,d-f];f=a}},h.prototype._reverseOffset=function(p){let d=p[0],f=p[1];for(let l=0;l<d;l++)f+=this._bufs[l].length;return f},h.prototype.get=function(d){if(d>this.length||d<0)return;let f=this._offset(d);return this._bufs[f[0]][f[1]]},h.prototype.slice=function(d,f){return typeof d=="number"&&d<0&&(d+=this.length),typeof f=="number"&&f<0&&(f+=this.length),this.copy(null,0,d,f)},h.prototype.copy=function(d,f,l,a){if((typeof l!="number"||l<0)&&(l=0),(typeof a!="number"||a>this.length)&&(a=this.length),l>=this.length||a<=0)return d||s.alloc(0);let u=!!d,g=this._offset(l),w=a-l,_=w,D=u&&f||0,E=g[1];if(l===0&&a===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(d,D),D+=this._bufs[b].length;return d}if(_<=this._bufs[g[0]].length-E)return u?this._bufs[g[0]].copy(d,f,E,E+_):this._bufs[g[0]].slice(E,E+_);u||(d=s.allocUnsafe(w));for(let b=g[0];b<this._bufs.length;b++){let S=this._bufs[b].length-E;if(_>S)this._bufs[b].copy(d,D,E),D+=S;else{this._bufs[b].copy(d,D,E,E+_),D+=S;break}_-=S,E&&(E=0)}return d.length>D?d.slice(0,D):d},h.prototype.shallowSlice=function(d,f){if(d=d||0,f=typeof f!="number"?this.length:f,d<0&&(d+=this.length),f<0&&(f+=this.length),d===f)return this._new();let l=this._offset(d),a=this._offset(f),u=this._bufs.slice(l[0],a[0]+1);return a[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,a[1]),l[1]!==0&&(u[0]=u[0].slice(l[1])),this._new(u)},h.prototype.toString=function(d,f,l){return this.slice(f,l).toString(d)},h.prototype.consume=function(d){if(d=Math.trunc(d),Number.isNaN(d)||d<=0)return this;for(;this._bufs.length;)if(d>=this._bufs[0].length)d-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(d),this.length-=d;break}return this},h.prototype.duplicate=function(){let d=this._new();for(let f=0;f<this._bufs.length;f++)d.append(this._bufs[f]);return d},h.prototype.append=function(d){if(d==null)return this;if(d.buffer)this._appendBuffer(s.from(d.buffer,d.byteOffset,d.byteLength));else if(Array.isArray(d))for(let f=0;f<d.length;f++)this.append(d[f]);else if(this._isBufferList(d))for(let f=0;f<d._bufs.length;f++)this.append(d._bufs[f]);else typeof d=="number"&&(d=d.toString()),this._appendBuffer(s.from(d));return this},h.prototype._appendBuffer=function(d){this._bufs.push(d),this.length+=d.length},h.prototype.indexOf=function(p,d,f){if(f===void 0&&typeof d=="string"&&(f=d,d=void 0),typeof p=="function"||Array.isArray(p))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof p=="number"?p=s.from([p]):typeof p=="string"?p=s.from(p,f):this._isBufferList(p)?p=p.slice():Array.isArray(p.buffer)?p=s.from(p.buffer,p.byteOffset,p.byteLength):s.isBuffer(p)||(p=s.from(p)),d=Number(d||0),isNaN(d)&&(d=0),d<0&&(d=this.length+d),d<0&&(d=0),p.length===0)return d>this.length?this.length:d;let l=this._offset(d),a=l[0],u=l[1];for(;a<this._bufs.length;a++){let g=this._bufs[a];for(;u<g.length;)if(g.length-u>=p.length){let _=g.indexOf(p,u);if(_!==-1)return this._reverseOffset([a,_]);u=g.length-p.length+1}else{let _=this._reverseOffset([a,u]);if(this._match(_,p))return _;u++}u=0}return-1},h.prototype._match=function(p,d){if(this.length-p<d.length)return!1;for(let f=0;f<d.length;f++)if(this.get(p+f)!==d[f])return!1;return!0},function(){let p={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let d in p)(function(f){p[f]===null?h.prototype[f]=function(l,a){return this.slice(l,l+a)[f](0,a)}:h.prototype[f]=function(l=0){return this.slice(l,l+p[f])[f](0)}})(d)}(),h.prototype._isBufferList=function(d){return d instanceof h||h.isBufferList(d)},h.isBufferList=function(d){return d!=null&&d[c]},i.exports=h},{buffer:3}],19:[function(n,i,o){"use strict";let s=n("readable-stream").Duplex,c=n("inherits"),h=n("./BufferList");function p(d){if(!(this instanceof p))return new p(d);if(typeof d=="function"){this._callback=d;let f=(function(a){this._callback&&(this._callback(a),this._callback=null)}).bind(this);this.on("pipe",function(a){a.on("error",f)}),this.on("unpipe",function(a){a.removeListener("error",f)}),d=null}h._init.call(this,d),s.call(this)}c(p,s),Object.assign(p.prototype,h.prototype),p.prototype._new=function(f){return new p(f)},p.prototype._write=function(f,l,a){this._appendBuffer(f),typeof a=="function"&&a()},p.prototype._read=function(f){if(!this.length)return this.push(null);f=Math.min(f,this.length),this.push(this.slice(0,f)),this.consume(f)},p.prototype.end=function(f){s.prototype.end.call(this,f),this._callback&&(this._callback(null,this.slice()),this._callback=null)},p.prototype._destroy=function(f,l){this._bufs.length=0,this.length=0,l(f)},p.prototype._isBufferList=function(f){return f instanceof p||f instanceof h||p.isBufferList(f)},p.isBufferList=h.isBufferList,i.exports=p,i.exports.BufferListStream=p,i.exports.BufferList=h},{"./BufferList":18,inherits:24,"readable-stream":72}],20:[function(n,i,o){(function(s){(function(){o.formatArgs=h,o.save=p,o.load=d,o.useColors=c,o.storage=f(),o.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function h(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;a.splice(1,0,u,"color: inherit");let g=0,w=0;a[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(g++,_==="%c"&&(w=g))}),a.splice(w,0,u)}o.log=console.debug||console.log||(()=>{});function p(a){try{a?o.storage.setItem("debug",a):o.storage.removeItem("debug")}catch{}}function d(){let a;try{a=o.storage.getItem("debug")}catch{}return!a&&typeof s<"u"&&"env"in s&&(a=s.env.DEBUG),a}function f(){try{return localStorage}catch{}}i.exports=n("./common")(o);let{formatters:l}=i.exports;l.j=function(a){try{return JSON.stringify(a)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}).call(this)}).call(this,n("_process"))},{"./common":21,_process:85}],21:[function(n,i,o){function s(c){p.debug=p,p.default=p,p.coerce=g,p.disable=l,p.enable=f,p.enabled=a,p.humanize=n("ms"),p.destroy=w,Object.keys(c).forEach(_=>{p[_]=c[_]}),p.names=[],p.skips=[],p.formatters={};function h(_){let D=0;for(let E=0;E<_.length;E++)D=(D<<5)-D+_.charCodeAt(E),D|=0;return p.colors[Math.abs(D)%p.colors.length]}p.selectColor=h;function p(_){let D,E=null,b,S;function O(...N){if(!O.enabled)return;let H=O,$=Number(new Date),T=$-(D||$);H.diff=T,H.prev=D,H.curr=$,D=$,N[0]=p.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let P=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(q,L)=>{if(q==="%%")return"%";P++;let ae=p.formatters[L];if(typeof ae=="function"){let ue=N[P];q=ae.call(H,ue),N.splice(P,1),P--}return q}),p.formatArgs.call(H,N),(H.log||p.log).apply(H,N)}return O.namespace=_,O.useColors=p.useColors(),O.color=p.selectColor(_),O.extend=d,O.destroy=p.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(b!==p.namespaces&&(b=p.namespaces,S=p.enabled(_)),S),set:N=>{E=N}}),typeof p.init=="function"&&p.init(O),O}function d(_,D){let E=p(this.namespace+(typeof D>"u"?":":D)+_);return E.log=this.log,E}function f(_){p.save(_),p.namespaces=_,p.names=[],p.skips=[];let D,E=(typeof _=="string"?_:"").split(/[\s,]+/),b=E.length;for(D=0;D<b;D++)E[D]&&(_=E[D].replace(/\*/g,".*?"),_[0]==="-"?p.skips.push(new RegExp("^"+_.slice(1)+"$")):p.names.push(new RegExp("^"+_+"$")))}function l(){let _=[...p.names.map(u),...p.skips.map(u).map(D=>"-"+D)].join(",");return p.enable(""),_}function a(_){if(_[_.length-1]==="*")return!0;let D,E;for(D=0,E=p.skips.length;D<E;D++)if(p.skips[D].test(_))return!1;for(D=0,E=p.names.length;D<E;D++)if(p.names[D].test(_))return!0;return!1}function u(_){return _.toString().substring(2,_.toString().length-2).replace(/\.\*\?$/,"*")}function g(_){return _ instanceof Error?_.stack||_.message:_}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return p.enable(p.load()),p}i.exports=s},{ms:53}],22:[function(n,i,o){(function(s,c){(function(){var h=n("readable-stream"),p=n("end-of-stream"),d=n("inherits"),f=n("stream-shift"),l=c.from&&c.from!==Uint8Array.from?c.from([0]):new c([0]),a=function(b,S){b._corked?b.once("uncork",S):S()},u=function(b,S){b._autoDestroy&&b.destroy(S)},g=function(b,S){return function(O){O?u(b,O.message==="premature close"?null:O):S&&!b._ended&&b.end()}},w=function(b,S){if(!b||b._writableState&&b._writableState.finished)return S();if(b._writableState)return b.end(S);b.end(),S()},_=function(){},D=function(b){return new h.Readable({objectMode:!0,highWaterMark:16}).wrap(b)},E=function(b,S,O){if(!(this instanceof E))return new E(b,S,O);h.Duplex.call(this,O),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!O||O.autoDestroy!==!1,this._forwardDestroy=!O||O.destroy!==!1,this._forwardEnd=!O||O.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,b&&this.setWritable(b),S&&this.setReadable(S)};d(E,h.Duplex),E.obj=function(b,S,O){return O||(O={}),O.objectMode=!0,O.highWaterMark=16,new E(b,S,O)},E.prototype.cork=function(){++this._corked===1&&this.emit("cork")},E.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},E.prototype.setWritable=function(b){if(this._unwrite&&this._unwrite(),this.destroyed){b&&b.destroy&&b.destroy();return}if(b===null||b===!1){this.end();return}var S=this,O=p(b,{writable:!0,readable:!1},g(this,this._forwardEnd)),N=function(){var $=S._ondrain;S._ondrain=null,$&&$()},H=function(){S._writable.removeListener("drain",N),O()};this._unwrite&&s.nextTick(N),this._writable=b,this._writable.on("drain",N),this._unwrite=H,this.uncork()},E.prototype.setReadable=function(b){if(this._unread&&this._unread(),this.destroyed){b&&b.destroy&&b.destroy();return}if(b===null||b===!1){this.push(null),this.resume();return}var S=this,O=p(b,{writable:!1,readable:!0},g(this)),N=function(){S._forward()},H=function(){S.push(null)},$=function(){S._readable2.removeListener("readable",N),S._readable2.removeListener("end",H),O()};this._drained=!0,this._readable=b,this._readable2=b._readableState?b:D(b),this._readable2.on("readable",N),this._readable2.on("end",H),this._unread=$,this._forward()},E.prototype._read=function(){this._drained=!0,this._forward()},E.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var b;this._drained&&(b=f(this._readable2))!==null;)this.destroyed||(this._drained=this.push(b));this._forwarding=!1}},E.prototype.destroy=function(b,S){if(S||(S=_),this.destroyed)return S(null);this.destroyed=!0;var O=this;s.nextTick(function(){O._destroy(b),S(null)})},E.prototype._destroy=function(b){if(b){var S=this._ondrain;this._ondrain=null,S?S(b):this.emit("error",b)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},E.prototype._write=function(b,S,O){if(!this.destroyed){if(this._corked)return a(this,this._write.bind(this,b,S,O));if(b===l)return this._finish(O);if(!this._writable)return O();this._writable.write(b)===!1?this._ondrain=O:this.destroyed||O()}},E.prototype._finish=function(b){var S=this;this.emit("preend"),a(this,function(){w(S._forwardEnd&&S._writable,function(){S._writableState.prefinished===!1&&(S._writableState.prefinished=!0),S.emit("prefinish"),a(S,b)})})},E.prototype.end=function(b,S,O){return typeof b=="function"?this.end(null,null,b):typeof S=="function"?this.end(b,null,S):(this._ended=!0,b&&this.write(b),!this._writableState.ending&&!this._writableState.destroyed&&this.write(l),h.Writable.prototype.end.call(this,O))},i.exports=E}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{_process:85,buffer:3,"end-of-stream":23,inherits:24,"readable-stream":72,"stream-shift":77}],23:[function(n,i,o){(function(s){(function(){var c=n("once"),h=function(){},p=function(l){return l.setHeader&&typeof l.abort=="function"},d=function(l){return l.stdio&&Array.isArray(l.stdio)&&l.stdio.length===3},f=function(l,a,u){if(typeof a=="function")return f(l,null,a);a||(a={}),u=c(u||h);var g=l._writableState,w=l._readableState,_=a.readable||a.readable!==!1&&l.readable,D=a.writable||a.writable!==!1&&l.writable,E=!1,b=function(){l.writable||S()},S=function(){D=!1,_||u.call(l)},O=function(){_=!1,D||u.call(l)},N=function(x){u.call(l,x?new Error("exited with error code: "+x):null)},H=function(x){u.call(l,x)},$=function(){s.nextTick(T)},T=function(){if(!E){if(_&&!(w&&w.ended&&!w.destroyed))return u.call(l,new Error("premature close"));if(D&&!(g&&g.ended&&!g.destroyed))return u.call(l,new Error("premature close"))}},P=function(){l.req.on("finish",S)};return p(l)?(l.on("complete",S),l.on("abort",$),l.req?P():l.on("request",P)):D&&!g&&(l.on("end",b),l.on("close",b)),d(l)&&l.on("exit",N),l.on("end",O),l.on("finish",S),a.error!==!1&&l.on("error",H),l.on("close",$),function(){E=!0,l.removeListener("complete",S),l.removeListener("abort",$),l.removeListener("request",P),l.req&&l.req.removeListener("finish",S),l.removeListener("end",b),l.removeListener("close",b),l.removeListener("finish",S),l.removeListener("exit",N),l.removeListener("end",O),l.removeListener("error",H),l.removeListener("close",$)}};i.exports=f}).call(this)}).call(this,n("_process"))},{_process:85,once:56}],24:[function(n,i,o){typeof Object.create=="function"?i.exports=function(c,h){h&&(c.super_=h,c.prototype=Object.create(h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(c,h){if(h){c.super_=h;var p=function(){};p.prototype=h.prototype,c.prototype=new p,c.prototype.constructor=c}}},{}],25:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.ContainerIterator=o.Container=o.Base=void 0;class s{constructor(d=0){this.iteratorType=d}equals(d){return this.o===d.o}}o.ContainerIterator=s;class c{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}}o.Base=c;class h extends c{}o.Container=h},{}],26:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.HashContainerIterator=o.HashContainer=void 0;var s=n("../../ContainerBase"),c=p(n("../../../utils/checkObject")),h=n("../../../utils/throwError");function p(l){return l&&l.t?l:{default:l}}class d extends s.ContainerIterator{constructor(a,u,g){super(g),this.o=a,this.h=u,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.L,this})}}o.HashContainerIterator=d;class f extends s.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:u,B:g}=a;u.B=g,g.L=u,a===this.p&&(this.p=g),a===this._&&(this._=u),this.i-=1}M(a,u,g){g===void 0&&(g=(0,c.default)(a));let w;if(g){let _=a[this.HASH_TAG];if(_!==void 0)return this.H[_].l=u,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),w={u:a,l:u,L:this._,B:this.h},this.H.push(w)}else{let _=this.g[a];if(_)return _.l=u,this.i;w={u:a,l:u,L:this._,B:this.h},this.g[a]=w}return this.i===0?(this.p=w,this.h.B=w):this._.B=w,this._=w,this.h.L=w,++this.i}I(a,u){if(u===void 0&&(u=(0,c.default)(a)),u){let g=a[this.HASH_TAG];return g===void 0?this.h:this.H[g]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(u){delete u.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,u){let g;if(u===void 0&&(u=(0,c.default)(a)),u){let w=a[this.HASH_TAG];if(w===void 0)return!1;delete a[this.HASH_TAG],g=this.H[w],delete this.H[w]}else{if(g=this.g[a],g===void 0)return!1;delete this.g[a]}return this.V(g),!0}eraseElementByIterator(a){let u=a.o;return u===this.h&&(0,h.throwIteratorAccessError)(),this.V(u),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let u=this.p;for(;a--;)u=u.B;return this.V(u),this.i}}o.HashContainer=f},{"../../../utils/checkObject":43,"../../../utils/throwError":44,"../../ContainerBase":25}],27:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("./Base"),c=p(n("../../utils/checkObject")),h=n("../../utils/throwError");function p(a){return a&&a.t?a:{default:a}}class d extends s.HashContainerIterator{constructor(u,g,w,_){super(u,g,_),this.container=w}get pointer(){this.o===this.h&&(0,h.throwIteratorAccessError)();let u=this;return new Proxy([],{get(g,w){if(w==="0")return u.o.u;if(w==="1")return u.o.l},set(g,w,_){if(w!=="1")throw new TypeError("props must be 1");return u.o.l=_,!0}})}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class f extends s.HashContainer{constructor(u=[]){super();let g=this;u.forEach(function(w){g.setElement(w[0],w[1])})}begin(){return new d(this.p,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this._,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(u,g,w){return this.M(u,g,w)}getElementByKey(u,g){if(g===void 0&&(g=(0,c.default)(u)),g){let _=u[this.HASH_TAG];return _!==void 0?this.H[_].l:void 0}let w=this.g[u];return w?w.l:void 0}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let g=this.p;for(;u--;)g=g.B;return[g.u,g.l]}find(u,g){let w=this.I(u,g);return new d(w,this.h,this)}forEach(u){let g=0,w=this.p;for(;w!==this.h;)u([w.u,w.l],g++,this),w=w.B}[Symbol.iterator](){return(function*(){let u=this.p;for(;u!==this.h;)yield[u.u,u.l],u=u.B}).bind(this)()}}var l=f;o.default=l},{"../../utils/checkObject":43,"../../utils/throwError":44,"./Base":26}],28:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("./Base"),c=n("../../utils/throwError");class h extends s.HashContainerIterator{constructor(l,a,u,g){super(l,a,g),this.container=u}get pointer(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o.u}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class p extends s.HashContainer{constructor(l=[]){super();let a=this;l.forEach(function(u){a.insert(u)})}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(l,a){return this.M(l,void 0,a)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let a=this.p;for(;l--;)a=a.B;return a.u}find(l,a){let u=this.I(l,a);return new h(u,this.h,this)}forEach(l){let a=0,u=this.p;for(;u!==this.h;)l(u.u,a++,this),u=u.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield l.u,l=l.B}).bind(this)()}}var d=p;o.default=d},{"../../utils/throwError":44,"./Base":26}],29:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../ContainerBase");class c extends s.Base{constructor(d=[],f=function(a,u){return a>u?-1:a<u?1:0},l=!0){if(super(),this.v=f,Array.isArray(d))this.C=l?[...d]:d;else{this.C=[];let u=this;d.forEach(function(g){u.C.push(g)})}this.i=this.C.length;let a=this.i>>1;for(let u=this.i-1>>1;u>=0;--u)this.k(u,a)}m(d){let f=this.C[d];for(;d>0;){let l=d-1>>1,a=this.C[l];if(this.v(a,f)<=0)break;this.C[d]=a,d=l}this.C[d]=f}k(d,f){let l=this.C[d];for(;d<f;){let a=d<<1|1,u=a+1,g=this.C[a];if(u<this.i&&this.v(g,this.C[u])>0&&(a=u,g=this.C[u]),this.v(g,l)>=0)break;this.C[d]=g,d=a}this.C[d]=l}clear(){this.i=0,this.C.length=0}push(d){this.C.push(d),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let d=this.C[0],f=this.C.pop();return this.i-=1,this.i&&(this.C[0]=f,this.k(0,this.i>>1)),d}top(){return this.C[0]}find(d){return this.C.indexOf(d)>=0}remove(d){let f=this.C.indexOf(d);return f<0?!1:(f===0?this.pop():f===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(f,1,this.C.pop()),this.i-=1,this.m(f),this.k(f,this.i>>1)),!0)}updateItem(d){let f=this.C.indexOf(d);return f<0?!1:(this.m(f),this.k(f,this.i>>1),!0)}toArray(){return[...this.C]}}var h=c;o.default=h},{"../ContainerBase":25}],30:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../ContainerBase");class c extends s.Base{constructor(d=[]){super(),this.j=0,this.q=[];let f=this;d.forEach(function(l){f.push(l)})}clear(){this.q=[],this.i=this.j=0}push(d){let f=this.q.length;if(this.j/f>.5&&this.j+this.i>=f&&f>4096){let l=this.i;for(let a=0;a<l;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=d}else this.q[this.j+this.i]=d;return++this.i}pop(){if(this.i===0)return;let d=this.q[this.j++];return this.i-=1,d}front(){if(this.i!==0)return this.q[this.j]}}var h=c;o.default=h},{"../ContainerBase":25}],31:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../ContainerBase");class c extends s.Base{constructor(d=[]){super(),this.S=[];let f=this;d.forEach(function(l){f.push(l)})}clear(){this.i=0,this.S=[]}push(d){return this.S.push(d),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}}var h=c;o.default=h},{"../ContainerBase":25}],32:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.RandomIterator=void 0;var s=n("../../ContainerBase"),c=n("../../../utils/throwError");class h extends s.ContainerIterator{constructor(d,f){super(f),this.o=d,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,c.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,c.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,c.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,c.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(d){this.container.setElementByPos(this.o,d)}}o.RandomIterator=h},{"../../../utils/throwError":44,"../../ContainerBase":25}],33:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../../ContainerBase");class c extends s.Container{}var h=c;o.default=h},{"../../ContainerBase":25}],34:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=h(n("./Base")),c=n("./Base/RandomIterator");function h(l){return l&&l.t?l:{default:l}}class p extends c.RandomIterator{constructor(a,u,g){super(a,g),this.container=u}copy(){return new p(this.o,this.container,this.iteratorType)}}class d extends s.default{constructor(a=[],u=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let g=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=u,this.P=Math.max(Math.ceil(g/this.F),1);for(let D=0;D<this.P;++D)this.A.push(new Array(this.F));let w=Math.ceil(g/this.F);this.j=this.R=(this.P>>1)-(w>>1),this.D=this.N=this.F-g%this.F>>1;let _=this;a.forEach(function(D){_.pushBack(D)})}T(){let a=[],u=Math.max(this.P>>1,1);for(let g=0;g<u;++g)a[g]=new Array(this.F);for(let g=this.j;g<this.P;++g)a[a.length]=this.A[g];for(let g=0;g<this.R;++g)a[a.length]=this.A[g];a[a.length]=[...this.A[this.R]],this.j=u,this.R=a.length-1;for(let g=0;g<u;++g)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let u=this.D+a+1,g=u%this.F,w=g-1,_=this.j+(u-g)/this.F;return g===0&&(_-=1),_%=this.P,w<0&&(w+=this.F),{curNodeBucketIndex:_,curNodePointerIndex:w}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new p(0,this)}end(){return new p(this.i,this)}rBegin(){return new p(this.i-1,this,1)}rEnd(){return new p(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:g}=this.O(a);return this.A[u][g]}setElementByPos(a,u){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:g,curNodePointerIndex:w}=this.O(a);this.A[g][w]=u}insert(a,u,g=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;g--;)this.pushFront(u);else if(a===this.i)for(;g--;)this.pushBack(u);else{let w=[];for(let _=a;_<this.i;++_)w.push(this.getElementByPos(_));this.cut(a-1);for(let _=0;_<g;++_)this.pushBack(u);for(let _=0;_<w.length;++_)this.pushBack(w[_])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:u,curNodePointerIndex:g}=this.O(a);return this.R=u,this.N=g,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let u=[];for(let w=a+1;w<this.i;++w)u.push(this.getElementByPos(w));this.cut(a),this.popBack();let g=this;u.forEach(function(w){g.pushBack(w)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let u=[];for(let w=0;w<this.i;++w){let _=this.getElementByPos(w);_!==a&&u.push(_)}let g=u.length;for(let w=0;w<g;++w)this.setElementByPos(w,u[w]);return this.cut(g-1)}eraseElementByIterator(a){let u=a.o;return this.eraseElementByPos(u),a=a.next(),a}find(a){for(let u=0;u<this.i;++u)if(this.getElementByPos(u)===a)return new p(u,this);return this.end()}reverse(){let a=0,u=this.i-1;for(;a<u;){let g=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(u)),this.setElementByPos(u,g),a+=1,u-=1}}unique(){if(this.i<=1)return this.i;let a=1,u=this.getElementByPos(0);for(let g=1;g<this.i;++g){let w=this.getElementByPos(g);w!==u&&(u=w,this.setElementByPos(a++,w))}for(;this.i>a;)this.popBack();return this.i}sort(a){let u=[];for(let g=0;g<this.i;++g)u.push(this.getElementByPos(g));u.sort(a);for(let g=0;g<this.i;++g)this.setElementByPos(g,u[g])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(u){a.push(u)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let u=0;u<this.P;++u)this.A.push(new Array(this.F));for(let u=0;u<a.length;++u)this.pushBack(a[u])}forEach(a){for(let u=0;u<this.i;++u)a(this.getElementByPos(u),u,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}}var f=d;o.default=f},{"./Base":33,"./Base/RandomIterator":32}],35:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=p(n("./Base")),c=n("../ContainerBase"),h=n("../../utils/throwError");function p(a){return a&&a.t?a:{default:a}}class d extends c.ContainerIterator{constructor(u,g,w,_){super(_),this.o=u,this.h=g,this.container=w,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,h.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,h.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,h.throwIteratorAccessError)(),this.o.l=u}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class f extends s.default{constructor(u=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let g=this;u.forEach(function(w){g.pushBack(w)})}V(u){let{L:g,B:w}=u;g.B=w,w.L=g,u===this.p&&(this.p=w),u===this._&&(this._=g),this.i-=1}G(u,g){let w=g.B,_={l:u,L:g,B:w};g.B=_,w.L=_,g===this.h&&(this.p=_),w===this.h&&(this._=_),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new d(this.p,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this._,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let g=this.p;for(;u--;)g=g.B;return g.l}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let g=this.p;for(;u--;)g=g.B;return this.V(g),this.i}eraseElementByValue(u){let g=this.p;for(;g!==this.h;)g.l===u&&this.V(g),g=g.B;return this.i}eraseElementByIterator(u){let g=u.o;return g===this.h&&(0,h.throwIteratorAccessError)(),u=u.next(),this.V(g),u}pushBack(u){return this.G(u,this._),this.i}popBack(){if(this.i===0)return;let u=this._.l;return this.V(this._),u}pushFront(u){return this.G(u,this.h),this.i}popFront(){if(this.i===0)return;let u=this.p.l;return this.V(this.p),u}setElementByPos(u,g){if(u<0||u>this.i-1)throw new RangeError;let w=this.p;for(;u--;)w=w.B;w.l=g}insert(u,g,w=1){if(u<0||u>this.i)throw new RangeError;if(w<=0)return this.i;if(u===0)for(;w--;)this.pushFront(g);else if(u===this.i)for(;w--;)this.pushBack(g);else{let _=this.p;for(let E=1;E<u;++E)_=_.B;let D=_.B;for(this.i+=w;w--;)_.B={l:g,L:_},_.B.L=_,_=_.B;_.B=D,D.L=_}return this.i}find(u){let g=this.p;for(;g!==this.h;){if(g.l===u)return new d(g,this.h,this);g=g.B}return this.end()}reverse(){if(this.i<=1)return;let u=this.p,g=this._,w=0;for(;w<<1<this.i;){let _=u.l;u.l=g.l,g.l=_,u=u.B,g=g.L,w+=1}}unique(){if(this.i<=1)return this.i;let u=this.p;for(;u!==this.h;){let g=u;for(;g.B!==this.h&&g.l===g.B.l;)g=g.B,this.i-=1;u.B=g.B,u.B.L=u,u=u.B}return this.i}sort(u){if(this.i<=1)return;let g=[];this.forEach(function(_){g.push(_)}),g.sort(u);let w=this.p;g.forEach(function(_){w.l=_,w=w.B})}merge(u){let g=this;if(this.i===0)u.forEach(function(w){g.pushBack(w)});else{let w=this.p;u.forEach(function(_){for(;w!==g.h&&w.l<=_;)w=w.B;g.G(_,w.L)})}return this.i}forEach(u){let g=this.p,w=0;for(;g!==this.h;)u(g.l,w++,this),g=g.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let u=this.p;for(;u!==this.h;)yield u.l,u=u.B}).bind(this)()}}var l=f;o.default=l},{"../../utils/throwError":44,"../ContainerBase":25,"./Base":33}],36:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=h(n("./Base")),c=n("./Base/RandomIterator");function h(l){return l&&l.t?l:{default:l}}class p extends c.RandomIterator{constructor(a,u,g){super(a,g),this.container=u}copy(){return new p(this.o,this.container,this.iteratorType)}}class d extends s.default{constructor(a=[],u=!0){if(super(),Array.isArray(a))this.J=u?[...a]:a,this.i=a.length;else{this.J=[];let g=this;a.forEach(function(w){g.pushBack(w)})}}clear(){this.i=0,this.J.length=0}begin(){return new p(0,this)}end(){return new p(this.i,this)}rBegin(){return new p(this.i-1,this,1)}rEnd(){return new p(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let u=0;for(let g=0;g<this.i;++g)this.J[g]!==a&&(this.J[u++]=this.J[g]);return this.i=this.J.length=u,this.i}eraseElementByIterator(a){let u=a.o;return a=a.next(),this.eraseElementByPos(u),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,u){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=u}insert(a,u,g=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(g).fill(u)),this.i+=g,this.i}find(a){for(let u=0;u<this.i;++u)if(this.J[u]===a)return new p(u,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let u=1;u<this.i;++u)this.J[u]!==this.J[u-1]&&(this.J[a++]=this.J[u]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let u=0;u<this.i;++u)a(this.J[u],u,this)}[Symbol.iterator](){return(function*(){yield*$t(this.J)}).bind(this)()}}var f=d;o.default=f},{"./Base":33,"./Base/RandomIterator":32}],37:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../../ContainerBase"),c=n("../../../utils/throwError");class h extends s.ContainerIterator{constructor(f,l,a){super(a),this.o=f,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let f=this.o,l=this.h.tt;if(f===this.h)return l?l.rt-1:0;let a=0;for(f.U&&(a+=f.U.rt);f!==l;){let u=f.tt;f===u.W&&(a+=1,u.U&&(a+=u.U.rt)),f=u}return a}}var p=h;o.default=p},{"../../../utils/throwError":44,"../../ContainerBase":25}],38:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.TreeNodeEnableIndex=o.TreeNode=void 0;class s{constructor(p,d){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=p,this.l=d}L(){let p=this;if(p.ee===1&&p.tt.tt===p)p=p.W;else if(p.U)for(p=p.U;p.W;)p=p.W;else{let d=p.tt;for(;d.U===p;)p=d,d=p.tt;p=d}return p}B(){let p=this;if(p.W){for(p=p.W;p.U;)p=p.U;return p}else{let d=p.tt;for(;d.W===p;)p=d,d=p.tt;return p.W!==d?d:p}}te(){let p=this.tt,d=this.W,f=d.U;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.U=this,this.tt=d,this.W=f,f&&(f.tt=this),d}se(){let p=this.tt,d=this.U,f=d.W;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.W=this,this.tt=d,this.U=f,f&&(f.tt=this),d}}o.TreeNode=s;class c extends s{constructor(){super(...arguments),this.rt=1}te(){let p=super.te();return this.ie(),p.ie(),p}se(){let p=super.se();return this.ie(),p.ie(),p}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}o.TreeNodeEnableIndex=c},{}],39:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("./TreeNode"),c=n("../../ContainerBase"),h=n("../../../utils/throwError");class p extends c.Container{constructor(l=function(u,g){return u<g?-1:u>g?1:0},a=!1){super(),this.Y=void 0,this.v=l,a?(this.re=s.TreeNodeEnableIndex,this.M=function(u,g,w){let _=this.ne(u,g,w);if(_){let D=_.tt;for(;D!==this.h;)D.rt+=1,D=D.tt;let E=this.he(_);if(E){let{parentNode:b,grandParent:S,curNode:O}=E;b.ie(),S.ie(),O.ie()}}return this.i},this.V=function(u){let g=this.fe(u);for(;g!==this.h;)g.rt-=1,g=g.tt}):(this.re=s.TreeNode,this.M=function(u,g,w){let _=this.ne(u,g,w);return _&&this.he(_),this.i},this.V=this.fe),this.h=new this.re}X(l,a){let u=this.h;for(;l;){let g=this.v(l.u,a);if(g<0)l=l.W;else if(g>0)u=l,l=l.U;else return l}return u}Z(l,a){let u=this.h;for(;l;)this.v(l.u,a)<=0?l=l.W:(u=l,l=l.U);return u}$(l,a){let u=this.h;for(;l;){let g=this.v(l.u,a);if(g<0)u=l,l=l.W;else if(g>0)l=l.U;else return l}return u}rr(l,a){let u=this.h;for(;l;)this.v(l.u,a)<0?(u=l,l=l.W):l=l.U;return u}ue(l){for(;;){let a=l.tt;if(a===this.h)return;if(l.ee===1){l.ee=0;return}if(l===a.U){let u=a.W;if(u.ee===1)u.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(u.W&&u.W.ee===1){u.ee=a.ee,a.ee=0,u.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else u.U&&u.U.ee===1?(u.ee=1,u.U.ee=0,u.se()):(u.ee=1,l=a)}else{let u=a.U;if(u.ee===1)u.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(u.U&&u.U.ee===1){u.ee=a.ee,a.ee=0,u.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else u.W&&u.W.ee===1?(u.ee=1,u.W.ee=0,u.te()):(u.ee=1,l=a)}}}fe(l){if(this.i===1)return this.clear(),this.h;let a=l;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[l.u,a.u]=[a.u,l.u],[l.l,a.l]=[a.l,l.l],l=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let u=a.tt;return a===u.U?u.U=void 0:u.W=void 0,this.i-=1,this.Y.ee=0,u}oe(l,a){return l===void 0?!1:this.oe(l.U,a)||a(l)?!0:this.oe(l.W,a)}he(l){for(;;){let a=l.tt;if(a.ee===0)return;let u=a.tt;if(a===u.U){let g=u.W;if(g&&g.ee===1){if(g.ee=a.ee=0,u===this.Y)return;u.ee=1,l=u;continue}else if(l===a.W){if(l.ee=0,l.U&&(l.U.tt=a),l.W&&(l.W.tt=u),a.W=l.U,u.U=l.W,l.U=a,l.W=u,u===this.Y)this.Y=l,this.h.tt=l;else{let w=u.tt;w.U===u?w.U=l:w.W=l}return l.tt=u.tt,a.tt=l,u.tt=l,u.ee=1,{parentNode:a,grandParent:u,curNode:l}}else a.ee=0,u===this.Y?this.Y=u.se():u.se(),u.ee=1}else{let g=u.U;if(g&&g.ee===1){if(g.ee=a.ee=0,u===this.Y)return;u.ee=1,l=u;continue}else if(l===a.U){if(l.ee=0,l.U&&(l.U.tt=u),l.W&&(l.W.tt=a),u.W=l.U,a.U=l.W,l.U=u,l.W=a,u===this.Y)this.Y=l,this.h.tt=l;else{let w=u.tt;w.U===u?w.U=l:w.W=l}return l.tt=u.tt,a.tt=l,u.tt=l,u.ee=1,{parentNode:a,grandParent:u,curNode:l}}else a.ee=0,u===this.Y?this.Y=u.te():u.te(),u.ee=1}return}}ne(l,a,u){if(this.Y===void 0){this.i+=1,this.Y=new this.re(l,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let g,w=this.h.U,_=this.v(w.u,l);if(_===0){w.l=a;return}else if(_>0)w.U=new this.re(l,a),w.U.tt=w,g=w.U,this.h.U=g;else{let D=this.h.W,E=this.v(D.u,l);if(E===0){D.l=a;return}else if(E<0)D.W=new this.re(l,a),D.W.tt=D,g=D.W,this.h.W=g;else{if(u!==void 0){let b=u.o;if(b!==this.h){let S=this.v(b.u,l);if(S===0){b.l=a;return}else if(S>0){let O=b.L(),N=this.v(O.u,l);if(N===0){O.l=a;return}else N<0&&(g=new this.re(l,a),O.W===void 0?(O.W=g,g.tt=O):(b.U=g,g.tt=b))}}}if(g===void 0)for(g=this.Y;;){let b=this.v(g.u,l);if(b>0){if(g.U===void 0){g.U=new this.re(l,a),g.U.tt=g,g=g.U;break}g=g.U}else if(b<0){if(g.W===void 0){g.W=new this.re(l,a),g.W.tt=g,g=g.W;break}g=g.W}else{g.l=a;return}}}}return this.i+=1,g}I(l,a){for(;l;){let u=this.v(l.u,a);if(u<0)l=l.W;else if(u>0)l=l.U;else return l}return l||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(l,a){let u=l.o;if(u===this.h&&(0,h.throwIteratorAccessError)(),this.i===1)return u.u=a,!0;if(u===this.h.U)return this.v(u.B().u,a)>0?(u.u=a,!0):!1;if(u===this.h.W)return this.v(u.L().u,a)<0?(u.u=a,!0):!1;let g=u.L().u;if(this.v(g,a)>=0)return!1;let w=u.B().u;return this.v(w,a)<=0?!1:(u.u=a,!0)}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let a=0,u=this;return this.oe(this.Y,function(g){return l===a?(u.V(g),!0):(a+=1,!1)}),this.i}eraseElementByKey(l){if(this.i===0)return!1;let a=this.I(this.Y,l);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(l){let a=l.o;a===this.h&&(0,h.throwIteratorAccessError)();let u=a.W===void 0;return l.iteratorType===0?u&&l.next():(!u||a.U===void 0)&&l.next(),this.V(a),l}forEach(l){let a=0;for(let u of this)l(u,a++,this)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let a,u=0;for(let g of this){if(u===l){a=g;break}u+=1}return a}getHeight(){if(this.i===0)return 0;let l=function(a){return a?Math.max(l(a.U),l(a.W))+1:0};return l(this.Y)}}var d=p;o.default=d},{"../../../utils/throwError":44,"../../ContainerBase":25,"./TreeNode":38}],40:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=p(n("./Base")),c=p(n("./Base/TreeIterator")),h=n("../../utils/throwError");function p(a){return a&&a.t?a:{default:a}}class d extends c.default{constructor(u,g,w,_){super(u,g,_),this.container=w}get pointer(){this.o===this.h&&(0,h.throwIteratorAccessError)();let u=this;return new Proxy([],{get(g,w){if(w==="0")return u.o.u;if(w==="1")return u.o.l},set(g,w,_){if(w!=="1")throw new TypeError("props must be 1");return u.o.l=_,!0}})}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class f extends s.default{constructor(u=[],g,w){super(g,w);let _=this;u.forEach(function(D){_.setElement(D[0],D[1])})}*K(u){u!==void 0&&(yield*$t(this.K(u.U)),yield[u.u,u.l],yield*$t(this.K(u.W)))}begin(){return new d(this.h.U||this.h,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this.h.W||this.h,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){if(this.i===0)return;let u=this.h.U;return[u.u,u.l]}back(){if(this.i===0)return;let u=this.h.W;return[u.u,u.l]}lowerBound(u){let g=this.X(this.Y,u);return new d(g,this.h,this)}upperBound(u){let g=this.Z(this.Y,u);return new d(g,this.h,this)}reverseLowerBound(u){let g=this.$(this.Y,u);return new d(g,this.h,this)}reverseUpperBound(u){let g=this.rr(this.Y,u);return new d(g,this.h,this)}setElement(u,g,w){return this.M(u,g,w)}find(u){let g=this.I(this.Y,u);return new d(g,this.h,this)}getElementByKey(u){return this.I(this.Y,u).l}union(u){let g=this;return u.forEach(function(w){g.setElement(w[0],w[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var l=f;o.default=l},{"../../utils/throwError":44,"./Base":39,"./Base/TreeIterator":37}],41:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=p(n("./Base")),c=p(n("./Base/TreeIterator")),h=n("../../utils/throwError");function p(a){return a&&a.t?a:{default:a}}class d extends c.default{constructor(u,g,w,_){super(u,g,_),this.container=w}get pointer(){return this.o===this.h&&(0,h.throwIteratorAccessError)(),this.o.u}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class f extends s.default{constructor(u=[],g,w){super(g,w);let _=this;u.forEach(function(D){_.insert(D)})}*K(u){u!==void 0&&(yield*$t(this.K(u.U)),yield u.u,yield*$t(this.K(u.W)))}begin(){return new d(this.h.U||this.h,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this.h.W||this.h,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(u,g){return this.M(u,void 0,g)}find(u){let g=this.I(this.Y,u);return new d(g,this.h,this)}lowerBound(u){let g=this.X(this.Y,u);return new d(g,this.h,this)}upperBound(u){let g=this.Z(this.Y,u);return new d(g,this.h,this)}reverseLowerBound(u){let g=this.$(this.Y,u);return new d(g,this.h,this)}reverseUpperBound(u){let g=this.rr(this.Y,u);return new d(g,this.h,this)}union(u){let g=this;return u.forEach(function(w){g.insert(w)}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var l=f;o.default=l},{"../../utils/throwError":44,"./Base":39,"./Base/TreeIterator":37}],42:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),Object.defineProperty(o,"Deque",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(o,"HashMap",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(o,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(o,"LinkList",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(o,"OrderedMap",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(o,"OrderedSet",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(o,"PriorityQueue",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(o,"Queue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"Stack",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(o,"Vector",{enumerable:!0,get:function(){return p.default}});var s=w(n("./container/OtherContainer/Stack")),c=w(n("./container/OtherContainer/Queue")),h=w(n("./container/OtherContainer/PriorityQueue")),p=w(n("./container/SequentialContainer/Vector")),d=w(n("./container/SequentialContainer/LinkList")),f=w(n("./container/SequentialContainer/Deque")),l=w(n("./container/TreeContainer/OrderedSet")),a=w(n("./container/TreeContainer/OrderedMap")),u=w(n("./container/HashContainer/HashSet")),g=w(n("./container/HashContainer/HashMap"));function w(_){return _&&_.t?_:{default:_}}},{"./container/HashContainer/HashMap":27,"./container/HashContainer/HashSet":28,"./container/OtherContainer/PriorityQueue":29,"./container/OtherContainer/Queue":30,"./container/OtherContainer/Stack":31,"./container/SequentialContainer/Deque":34,"./container/SequentialContainer/LinkList":35,"./container/SequentialContainer/Vector":36,"./container/TreeContainer/OrderedMap":40,"./container/TreeContainer/OrderedSet":41}],43:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=s;function s(c){let h=typeof c;return h==="object"&&c!==null||h==="function"}},{}],44:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.throwIteratorAccessError=s;function s(){throw new RangeError("Iterator access denied!")}},{}],45:[function(n,i,o){"use strict";let s=n("yallist"),c=Symbol("max"),h=Symbol("length"),p=Symbol("lengthCalculator"),d=Symbol("allowStale"),f=Symbol("maxAge"),l=Symbol("dispose"),a=Symbol("noDisposeOnSet"),u=Symbol("lruList"),g=Symbol("cache"),w=Symbol("updateAgeOnGet"),_=()=>1;class D{constructor(T){if(typeof T=="number"&&(T={max:T}),T||(T={}),T.max&&(typeof T.max!="number"||T.max<0))throw new TypeError("max must be a non-negative number");let P=this[c]=T.max||1/0,x=T.length||_;if(this[p]=typeof x!="function"?_:x,this[d]=T.stale||!1,T.maxAge&&typeof T.maxAge!="number")throw new TypeError("maxAge must be a number");this[f]=T.maxAge||0,this[l]=T.dispose,this[a]=T.noDisposeOnSet||!1,this[w]=T.updateAgeOnGet||!1,this.reset()}set max(T){if(typeof T!="number"||T<0)throw new TypeError("max must be a non-negative number");this[c]=T||1/0,S(this)}get max(){return this[c]}set allowStale(T){this[d]=!!T}get allowStale(){return this[d]}set maxAge(T){if(typeof T!="number")throw new TypeError("maxAge must be a non-negative number");this[f]=T,S(this)}get maxAge(){return this[f]}set lengthCalculator(T){typeof T!="function"&&(T=_),T!==this[p]&&(this[p]=T,this[h]=0,this[u].forEach(P=>{P.length=this[p](P.value,P.key),this[h]+=P.length})),S(this)}get lengthCalculator(){return this[p]}get length(){return this[h]}get itemCount(){return this[u].length}rforEach(T,P){P=P||this;for(let x=this[u].tail;x!==null;){let q=x.prev;H(this,T,x,P),x=q}}forEach(T,P){P=P||this;for(let x=this[u].head;x!==null;){let q=x.next;H(this,T,x,P),x=q}}keys(){return this[u].toArray().map(T=>T.key)}values(){return this[u].toArray().map(T=>T.value)}reset(){this[l]&&this[u]&&this[u].length&&this[u].forEach(T=>this[l](T.key,T.value)),this[g]=new Map,this[u]=new s,this[h]=0}dump(){return this[u].map(T=>b(this,T)?!1:{k:T.key,v:T.value,e:T.now+(T.maxAge||0)}).toArray().filter(T=>T)}dumpLru(){return this[u]}set(T,P,x){if(x=x||this[f],x&&typeof x!="number")throw new TypeError("maxAge must be a number");let q=x?Date.now():0,L=this[p](P,T);if(this[g].has(T)){if(L>this[c])return O(this,this[g].get(T)),!1;let se=this[g].get(T).value;return this[l]&&(this[a]||this[l](T,se.value)),se.now=q,se.maxAge=x,se.value=P,this[h]+=L-se.length,se.length=L,this.get(T),S(this),!0}let ae=new N(T,P,L,q,x);return ae.length>this[c]?(this[l]&&this[l](T,P),!1):(this[h]+=ae.length,this[u].unshift(ae),this[g].set(T,this[u].head),S(this),!0)}has(T){if(!this[g].has(T))return!1;let P=this[g].get(T).value;return!b(this,P)}get(T){return E(this,T,!0)}peek(T){return E(this,T,!1)}pop(){let T=this[u].tail;return T?(O(this,T),T.value):null}del(T){O(this,this[g].get(T))}load(T){this.reset();let P=Date.now();for(let x=T.length-1;x>=0;x--){let q=T[x],L=q.e||0;if(L===0)this.set(q.k,q.v);else{let ae=L-P;ae>0&&this.set(q.k,q.v,ae)}}}prune(){this[g].forEach((T,P)=>E(this,P,!1))}}let E=($,T,P)=>{let x=$[g].get(T);if(x){let q=x.value;if(b($,q)){if(O($,x),!$[d])return}else P&&($[w]&&(x.value.now=Date.now()),$[u].unshiftNode(x));return q.value}},b=($,T)=>{if(!T||!T.maxAge&&!$[f])return!1;let P=Date.now()-T.now;return T.maxAge?P>T.maxAge:$[f]&&P>$[f]},S=$=>{if($[h]>$[c])for(let T=$[u].tail;$[h]>$[c]&&T!==null;){let P=T.prev;O($,T),T=P}},O=($,T)=>{if(T){let P=T.value;$[l]&&$[l](P.key,P.value),$[h]-=P.length,$[g].delete(P.key),$[u].removeNode(T)}};class N{constructor(T,P,x,q,L){this.key=T,this.value=P,this.length=x,this.now=q,this.maxAge=L||0}}let H=($,T,P,x)=>{let q=P.value;b($,q)&&(O($,P),$[d]||(q=void 0)),q&&T.call(x,q.value,q.key,$)};i.exports=D},{yallist:84}],46:[function(n,i,o){(function(s){(function(){let c=i.exports;c.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},c.codes={};for(let p in c.types){let d=c.types[p];c.codes[d]=p}c.CMD_SHIFT=4,c.CMD_MASK=240,c.DUP_MASK=8,c.QOS_MASK=3,c.QOS_SHIFT=1,c.RETAIN_MASK=1,c.VARBYTEINT_MASK=127,c.VARBYTEINT_FIN_MASK=128,c.VARBYTEINT_MAX=268435455,c.SESSIONPRESENT_MASK=1,c.SESSIONPRESENT_HEADER=s.from([c.SESSIONPRESENT_MASK]),c.CONNACK_HEADER=s.from([c.codes.connack<<c.CMD_SHIFT]),c.USERNAME_MASK=128,c.PASSWORD_MASK=64,c.WILL_RETAIN_MASK=32,c.WILL_QOS_MASK=24,c.WILL_QOS_SHIFT=3,c.WILL_FLAG_MASK=4,c.CLEAN_SESSION_MASK=2,c.CONNECT_HEADER=s.from([c.codes.connect<<c.CMD_SHIFT]),c.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},c.propertiesCodes={};for(let p in c.properties){let d=c.properties[p];c.propertiesCodes[d]=p}c.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function h(p){return[0,1,2].map(d=>[0,1].map(f=>[0,1].map(l=>{let a=s.alloc(1);return a.writeUInt8(c.codes[p]<<c.CMD_SHIFT|(f?c.DUP_MASK:0)|d<<c.QOS_SHIFT|l,0,!0),a})))}c.PUBLISH_HEADER=h("publish"),c.SUBSCRIBE_HEADER=h("subscribe"),c.SUBSCRIBE_OPTIONS_QOS_MASK=3,c.SUBSCRIBE_OPTIONS_NL_MASK=1,c.SUBSCRIBE_OPTIONS_NL_SHIFT=2,c.SUBSCRIBE_OPTIONS_RAP_MASK=1,c.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,c.SUBSCRIBE_OPTIONS_RH_MASK=3,c.SUBSCRIBE_OPTIONS_RH_SHIFT=4,c.SUBSCRIBE_OPTIONS_RH=[0,16,32],c.SUBSCRIBE_OPTIONS_NL=4,c.SUBSCRIBE_OPTIONS_RAP=8,c.SUBSCRIBE_OPTIONS_QOS=[0,1,2],c.UNSUBSCRIBE_HEADER=h("unsubscribe"),c.ACKS={unsuback:h("unsuback"),puback:h("puback"),pubcomp:h("pubcomp"),pubrel:h("pubrel"),pubrec:h("pubrec")},c.SUBACK_HEADER=s.from([c.codes.suback<<c.CMD_SHIFT]),c.VERSION3=s.from([3]),c.VERSION4=s.from([4]),c.VERSION5=s.from([5]),c.VERSION131=s.from([131]),c.VERSION132=s.from([132]),c.QOS=[0,1,2].map(p=>s.from([p])),c.EMPTY={pingreq:s.from([c.codes.pingreq<<4,0]),pingresp:s.from([c.codes.pingresp<<4,0]),disconnect:s.from([c.codes.disconnect<<4,0])}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:3}],47:[function(n,i,o){(function(s){(function(){let c=n("./writeToStream"),h=n("events");function p(f,l){let a=new d;return c(f,a,l),a.concat()}class d extends h{constructor(){super(),this._array=new Array(20),this._i=0}write(l){return this._array[this._i++]=l,!0}concat(){let l=0,a=new Array(this._array.length),u=this._array,g=0,w;for(w=0;w<u.length&&u[w]!==void 0;w++)typeof u[w]!="string"?a[w]=u[w].length:a[w]=s.byteLength(u[w]),l+=a[w];let _=s.allocUnsafe(l);for(w=0;w<u.length&&u[w]!==void 0;w++)typeof u[w]!="string"?(u[w].copy(_,g),g+=a[w]):(_.write(u[w],g),g+=a[w]);return _}}i.exports=p}).call(this)}).call(this,n("buffer").Buffer)},{"./writeToStream":52,buffer:3,events:4}],48:[function(n,i,o){o.parser=n("./parser").parser,o.generate=n("./generate"),o.writeToStream=n("./writeToStream")},{"./generate":47,"./parser":51,"./writeToStream":52}],49:[function(n,i,o){(function(s){(function(){let h={},p=s.isBuffer(s.from([1,2]).subarray(0,1));function d(u){let g=s.allocUnsafe(2);return g.writeUInt8(u>>8,0),g.writeUInt8(u&255,1),g}function f(){for(let u=0;u<65536;u++)h[u]=d(u)}function l(u){let w=0,_=0,D=s.allocUnsafe(4);do w=u%128|0,u=u/128|0,u>0&&(w=w|128),D.writeUInt8(w,_++);while(u>0&&_<4);return u>0&&(_=0),p?D.subarray(0,_):D.slice(0,_)}function a(u){let g=s.allocUnsafe(4);return g.writeUInt32BE(u,0),g}i.exports={cache:h,generateCache:f,generateNumber:d,genBufVariableByteInt:l,generate4ByteBuffer:a}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:3}],50:[function(n,i,o){class s{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}i.exports=s},{}],51:[function(n,i,o){let s=n("bl"),c=n("events"),h=n("./packet"),p=n("./constants"),d=n("debug")("mqtt-packet:parser");class f extends c{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof f?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new f().parser(a)}_resetState(){d("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new h,this.error=null,this._list=s(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),d("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,d("parse: state complete. _stateCounter is now: %d",this._stateCounter),d("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return d("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0);return this.packet.cmd=p.types[a>>p.CMD_SHIFT],this.packet.retain=(a&p.RETAIN_MASK)!==0,this.packet.qos=a>>p.QOS_SHIFT&p.QOS_MASK,this.packet.dup=(a&p.DUP_MASK)!==0,d("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),d("_parseLength %d",a.value),!!a}_parsePayload(){d("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return d("_parsePayload complete result: %s",a),a}_parseConnect(){d("_parseConnect");let a,u,g,w,_={},D=this.packet,E=this._parseString();if(E===null)return this._emitError(new Error("Cannot parse protocolId"));if(E!=="MQTT"&&E!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(D.protocolId=E,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(D.protocolVersion=this._list.readUInt8(this._pos),D.protocolVersion>=128&&(D.bridgeMode=!0,D.protocolVersion=D.protocolVersion-128),D.protocolVersion!==3&&D.protocolVersion!==4&&D.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(_.username=this._list.readUInt8(this._pos)&p.USERNAME_MASK,_.password=this._list.readUInt8(this._pos)&p.PASSWORD_MASK,_.will=this._list.readUInt8(this._pos)&p.WILL_FLAG_MASK,_.will&&(D.will={},D.will.retain=(this._list.readUInt8(this._pos)&p.WILL_RETAIN_MASK)!==0,D.will.qos=(this._list.readUInt8(this._pos)&p.WILL_QOS_MASK)>>p.WILL_QOS_SHIFT),D.clean=(this._list.readUInt8(this._pos)&p.CLEAN_SESSION_MASK)!==0,this._pos++,D.keepalive=this._parseNum(),D.keepalive===-1)return this._emitError(new Error("Packet too short"));if(D.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(D.properties=S)}let b=this._parseString();if(b===null)return this._emitError(new Error("Packet too short"));if(D.clientId=b,d("_parseConnect: packet.clientId: %s",D.clientId),_.will){if(D.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(D.will.properties=S)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(D.will.topic=a,d("_parseConnect: packet.will.topic: %s",D.will.topic),u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse will payload"));D.will.payload=u,d("_parseConnect: packet.will.paylaod: %s",D.will.payload)}if(_.username){if(w=this._parseString(),w===null)return this._emitError(new Error("Cannot parse username"));D.username=w,d("_parseConnect: packet.username: %s",D.username)}if(_.password){if(g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse password"));D.password=g}return this.settings=D,d("_parseConnect: complete"),D}_parseConnack(){d("_parseConnack");let a=this.packet;if(this._list.length<1)return null;if(a.sessionPresent=!!(this._list.readUInt8(this._pos++)&p.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(a.properties=u)}d("_parseConnack: complete")}_parsePublish(){d("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(a.properties=u)}a.payload=this._list.slice(this._pos,a.length),d("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){d("_parseSubscribe");let a=this.packet,u,g,w,_,D,E,b;if(a.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(a.properties=S)}for(;this._pos<a.length;){if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));g=this._parseByte(),w=g&p.SUBSCRIBE_OPTIONS_QOS_MASK,E=(g>>p.SUBSCRIBE_OPTIONS_NL_SHIFT&p.SUBSCRIBE_OPTIONS_NL_MASK)!==0,D=(g>>p.SUBSCRIBE_OPTIONS_RAP_SHIFT&p.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,_=g>>p.SUBSCRIBE_OPTIONS_RH_SHIFT&p.SUBSCRIBE_OPTIONS_RH_MASK,b={topic:u,qos:w},this.settings.protocolVersion===5?(b.nl=E,b.rap=D,b.rh=_):this.settings.bridgeMode&&(b.rh=0,b.rap=!0,b.nl=!0),d("_parseSubscribe: push subscription `%s` to subscription",b),a.subscriptions.push(b)}}}_parseSuback(){d("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(a.properties=u)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){d("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(a.properties=u)}for(;this._pos<a.length;){let u=this._parseString();if(u===null)return this._emitError(new Error("Cannot parse topic"));d("_parseUnsubscribe: push topic `%s` to unsubscriptions",u),a.unsubscriptions.push(u)}}}_parseUnsuback(){d("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){let u=this._parseProperties();for(Object.getOwnPropertyNames(u).length&&(a.properties=u),a.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){d("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(a.length>2?(a.reasonCode=this._parseByte(),d("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)):a.reasonCode=0,a.length>3)){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(a.properties=u)}return!0}_parseDisconnect(){let a=this.packet;if(d("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?a.reasonCode=this._parseByte():a.reasonCode=0;let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(a.properties=u)}return d("_parseDisconnect result: true"),!0}_parseAuth(){d("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));a.reasonCode=this._parseByte();let u=this._parseProperties();return Object.getOwnPropertyNames(u).length&&(a.properties=u),d("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(d("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let u=this._parseNum(),g=u+this._pos;if(u===-1||g>this._list.length||g>this.packet.length)return null;let w=this._list.toString("utf8",this._pos,g);return this._pos+=u,d("_parseString: result: %s",w),w}_parseStringPair(){return d("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),u=a+this._pos;if(a===-1||u>this._list.length||u>this.packet.length)return null;let g=this._list.slice(this._pos,u);return this._pos+=a,d("_parseBuffer: result: %o",g),g}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,d("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,d("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){d("_parseVarByteNum");let u=4,g=0,w=1,_=0,D=!1,E,b=this._pos?this._pos:0;for(;g<u&&b+g<this._list.length;){if(E=this._list.readUInt8(b+g++),_+=w*(E&p.VARBYTEINT_MASK),w*=128,!(E&p.VARBYTEINT_FIN_MASK)){D=!0;break}if(this._list.length<=g)break}return!D&&g===u&&this._list.length>=g&&this._emitError(new Error("Invalid variable byte integer")),b&&(this._pos+=g),D=D?a?{bytes:g,value:_}:_:!1,d("_parseVarByteNum: result: %o",D),D}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),d("_parseByte: result: %o",a),a}_parseByType(a){switch(d("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){d("_parseProperties");let a=this._parseVarByteNum(),g=this._pos+a,w={};for(;this._pos<g;){let _=this._parseByte();if(!_)return this._emitError(new Error("Cannot parse property code type")),!1;let D=p.propertiesCodes[_];if(!D)return this._emitError(new Error("Unknown property")),!1;if(D==="userProperties"){w[D]||(w[D]=Object.create(null));let E=this._parseByType(p.propertiesTypes[D]);if(w[D][E.name])if(Array.isArray(w[D][E.name]))w[D][E.name].push(E.value);else{let b=w[D][E.name];w[D][E.name]=[b],w[D][E.name].push(E.value)}else w[D][E.name]=E.value;continue}w[D]?Array.isArray(w[D])?w[D].push(this._parseByType(p.propertiesTypes[D])):(w[D]=[w[D]],w[D].push(this._parseByType(p.propertiesTypes[D]))):w[D]=this._parseByType(p.propertiesTypes[D])}return w}_newPacket(){return d("_newPacket"),this.packet&&(this._list.consume(this.packet.length),d("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),d("_newPacket: new packet"),this.packet=new h,this._pos=0,!0}_emitError(a){d("_emitError"),this.error=a,this.emit("error",a)}}i.exports=f},{"./constants":46,"./packet":50,bl:19,debug:20,events:4}],52:[function(n,i,o){(function(s){(function(){let c=n("./constants"),h=s.allocUnsafe(0),p=s.from([0]),d=n("./numbers"),f=n("process-nextick-args").nextTick,l=n("debug")("mqtt-packet:writeToStream"),a=d.cache,u=d.generateNumber,g=d.generateCache,w=d.genBufVariableByteInt,_=d.generate4ByteBuffer,D=B,E=!0;function b(U,k,K){switch(l("generate called"),k.cork&&(k.cork(),f(S,k)),E&&(E=!1,g()),l("generate: packet.cmd: %s",U.cmd),U.cmd){case"connect":return O(U,k,K);case"connack":return N(U,k,K);case"publish":return H(U,k,K);case"puback":case"pubrec":case"pubrel":case"pubcomp":return $(U,k,K);case"subscribe":return T(U,k,K);case"suback":return P(U,k,K);case"unsubscribe":return x(U,k,K);case"unsuback":return q(U,k,K);case"pingreq":case"pingresp":return L(U,k,K);case"disconnect":return ae(U,k,K);case"auth":return ue(U,k,K);default:return k.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(b,"cacheNumbers",{get(){return D===B},set(U){U?((!a||Object.keys(a).length===0)&&(E=!0),D=B):(E=!1,D=z)}});function S(U){U.uncork()}function O(U,k,K){let ie=U||{},F=ie.protocolId||"MQTT",A=ie.protocolVersion||4,V=ie.will,Y=ie.clean,Z=ie.keepalive||0,C=ie.clientId||"",v=ie.username,m=ie.password,y=ie.properties;Y===void 0&&(Y=!0);let I=0;if(!F||typeof F!="string"&&!s.isBuffer(F))return k.emit("error",new Error("Invalid protocolId")),!1;if(I+=F.length+2,A!==3&&A!==4&&A!==5)return k.emit("error",new Error("Invalid protocol version")),!1;if(I+=1,(typeof C=="string"||s.isBuffer(C))&&(C||A>=4)&&(C||Y))I+=s.byteLength(C)+2;else{if(A<4)return k.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(Y*1===0)return k.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof Z!="number"||Z<0||Z>65535||Z%1!==0)return k.emit("error",new Error("Invalid keepalive")),!1;if(I+=2,I+=1,A===5){var j=G(k,y);if(!j)return!1;I+=j.length}if(V){if(typeof V!="object")return k.emit("error",new Error("Invalid will")),!1;if(!V.topic||typeof V.topic!="string")return k.emit("error",new Error("Invalid will topic")),!1;if(I+=s.byteLength(V.topic)+2,I+=2,V.payload)if(V.payload.length>=0)typeof V.payload=="string"?I+=s.byteLength(V.payload):I+=V.payload.length;else return k.emit("error",new Error("Invalid will payload")),!1;var Q={};if(A===5){if(Q=G(k,V.properties),!Q)return!1;I+=Q.length}}let ee=!1;if(v!=null)if(ne(v))ee=!0,I+=s.byteLength(v)+2;else return k.emit("error",new Error("Invalid username")),!1;if(m!=null){if(!ee)return k.emit("error",new Error("Username is required to use password")),!1;if(ne(m))I+=ce(m)+2;else return k.emit("error",new Error("Invalid password")),!1}k.write(c.CONNECT_HEADER),J(k,I),re(k,F),ie.bridgeMode&&(A+=128),k.write(A===131?c.VERSION131:A===132?c.VERSION132:A===4?c.VERSION4:A===5?c.VERSION5:c.VERSION3);let le=0;return le|=v!=null?c.USERNAME_MASK:0,le|=m!=null?c.PASSWORD_MASK:0,le|=V&&V.retain?c.WILL_RETAIN_MASK:0,le|=V&&V.qos?V.qos<<c.WILL_QOS_SHIFT:0,le|=V?c.WILL_FLAG_MASK:0,le|=Y?c.CLEAN_SESSION_MASK:0,k.write(s.from([le])),D(k,Z),A===5&&j.write(),re(k,C),V&&(A===5&&Q.write(),M(k,V.topic),re(k,V.payload)),v!=null&&re(k,v),m!=null&&re(k,m),!0}function N(U,k,K){let ie=K?K.protocolVersion:4,F=U||{},A=ie===5?F.reasonCode:F.returnCode,V=F.properties,Y=2;if(typeof A!="number")return k.emit("error",new Error("Invalid return code")),!1;let Z=null;if(ie===5){if(Z=G(k,V),!Z)return!1;Y+=Z.length}return k.write(c.CONNACK_HEADER),J(k,Y),k.write(F.sessionPresent?c.SESSIONPRESENT_HEADER:p),k.write(s.from([A])),Z?.write(),!0}function H(U,k,K){l("publish: packet: %o",U);let ie=K?K.protocolVersion:4,F=U||{},A=F.qos||0,V=F.retain?c.RETAIN_MASK:0,Y=F.topic,Z=F.payload||h,C=F.messageId,v=F.properties,m=0;if(typeof Y=="string")m+=s.byteLength(Y)+2;else if(s.isBuffer(Y))m+=Y.length+2;else return k.emit("error",new Error("Invalid topic")),!1;if(s.isBuffer(Z)?m+=Z.length:m+=s.byteLength(Z),A&&typeof C!="number")return k.emit("error",new Error("Invalid messageId")),!1;A&&(m+=2);let y=null;if(ie===5){if(y=G(k,v),!y)return!1;m+=y.length}return k.write(c.PUBLISH_HEADER[A][F.dup?1:0][V?1:0]),J(k,m),D(k,ce(Y)),k.write(Y),A>0&&D(k,C),y?.write(),l("publish: payload: %o",Z),k.write(Z)}function $(U,k,K){let ie=K?K.protocolVersion:4,F=U||{},A=F.cmd||"puback",V=F.messageId,Y=F.dup&&A==="pubrel"?c.DUP_MASK:0,Z=0,C=F.reasonCode,v=F.properties,m=ie===5?3:2;if(A==="pubrel"&&(Z=1),typeof V!="number")return k.emit("error",new Error("Invalid messageId")),!1;let y=null;if(ie===5&&typeof v=="object"){if(y=W(k,v,K,m),!y)return!1;m+=y.length}return k.write(c.ACKS[A][Z][Y][0]),J(k,m),D(k,V),ie===5&&k.write(s.from([C])),y!==null&&y.write(),!0}function T(U,k,K){l("subscribe: packet: ");let ie=K?K.protocolVersion:4,F=U||{},A=F.dup?c.DUP_MASK:0,V=F.messageId,Y=F.subscriptions,Z=F.properties,C=0;if(typeof V!="number")return k.emit("error",new Error("Invalid messageId")),!1;C+=2;let v=null;if(ie===5){if(v=G(k,Z),!v)return!1;C+=v.length}if(typeof Y=="object"&&Y.length)for(let y=0;y<Y.length;y+=1){let I=Y[y].topic,j=Y[y].qos;if(typeof I!="string")return k.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof j!="number")return k.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(ie===5){if(typeof(Y[y].nl||!1)!="boolean")return k.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Y[y].rap||!1)!="boolean")return k.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;let le=Y[y].rh||0;if(typeof le!="number"||le>2)return k.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}C+=s.byteLength(I)+2+1}else return k.emit("error",new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",c.SUBSCRIBE_HEADER),k.write(c.SUBSCRIBE_HEADER[1][A?1:0][0]),J(k,C),D(k,V),v!==null&&v.write();let m=!0;for(let y of Y){let I=y.topic,j=y.qos,Q=+y.nl,ee=+y.rap,le=y.rh,pe;M(k,I),pe=c.SUBSCRIBE_OPTIONS_QOS[j],ie===5&&(pe|=Q?c.SUBSCRIBE_OPTIONS_NL:0,pe|=ee?c.SUBSCRIBE_OPTIONS_RAP:0,pe|=le?c.SUBSCRIBE_OPTIONS_RH[le]:0),m=k.write(s.from([pe]))}return m}function P(U,k,K){let ie=K?K.protocolVersion:4,F=U||{},A=F.messageId,V=F.granted,Y=F.properties,Z=0;if(typeof A!="number")return k.emit("error",new Error("Invalid messageId")),!1;if(Z+=2,typeof V=="object"&&V.length)for(let v=0;v<V.length;v+=1){if(typeof V[v]!="number")return k.emit("error",new Error("Invalid qos vector")),!1;Z+=1}else return k.emit("error",new Error("Invalid qos vector")),!1;let C=null;if(ie===5){if(C=W(k,Y,K,Z),!C)return!1;Z+=C.length}return k.write(c.SUBACK_HEADER),J(k,Z),D(k,A),C!==null&&C.write(),k.write(s.from(V))}function x(U,k,K){let ie=K?K.protocolVersion:4,F=U||{},A=F.messageId,V=F.dup?c.DUP_MASK:0,Y=F.unsubscriptions,Z=F.properties,C=0;if(typeof A!="number")return k.emit("error",new Error("Invalid messageId")),!1;if(C+=2,typeof Y=="object"&&Y.length)for(let y=0;y<Y.length;y+=1){if(typeof Y[y]!="string")return k.emit("error",new Error("Invalid unsubscriptions")),!1;C+=s.byteLength(Y[y])+2}else return k.emit("error",new Error("Invalid unsubscriptions")),!1;let v=null;if(ie===5){if(v=G(k,Z),!v)return!1;C+=v.length}k.write(c.UNSUBSCRIBE_HEADER[1][V?1:0][0]),J(k,C),D(k,A),v!==null&&v.write();let m=!0;for(let y=0;y<Y.length;y++)m=M(k,Y[y]);return m}function q(U,k,K){let ie=K?K.protocolVersion:4,F=U||{},A=F.messageId,V=F.dup?c.DUP_MASK:0,Y=F.granted,Z=F.properties,C=F.cmd,v=0,m=2;if(typeof A!="number")return k.emit("error",new Error("Invalid messageId")),!1;if(ie===5)if(typeof Y=="object"&&Y.length)for(let I=0;I<Y.length;I+=1){if(typeof Y[I]!="number")return k.emit("error",new Error("Invalid qos vector")),!1;m+=1}else return k.emit("error",new Error("Invalid qos vector")),!1;let y=null;if(ie===5){if(y=W(k,Z,K,m),!y)return!1;m+=y.length}return k.write(c.ACKS[C][v][V][0]),J(k,m),D(k,A),y!==null&&y.write(),ie===5&&k.write(s.from(Y)),!0}function L(U,k,K){return k.write(c.EMPTY[U.cmd])}function ae(U,k,K){let ie=K?K.protocolVersion:4,F=U||{},A=F.reasonCode,V=F.properties,Y=ie===5?1:0,Z=null;if(ie===5){if(Z=W(k,V,K,Y),!Z)return!1;Y+=Z.length}return k.write(s.from([c.codes.disconnect<<4])),J(k,Y),ie===5&&k.write(s.from([A])),Z!==null&&Z.write(),!0}function ue(U,k,K){let ie=K?K.protocolVersion:4,F=U||{},A=F.reasonCode,V=F.properties,Y=ie===5?1:0;ie!==5&&k.emit("error",new Error("Invalid mqtt version for auth packet"));let Z=W(k,V,K,Y);return Z?(Y+=Z.length,k.write(s.from([c.codes.auth<<4])),J(k,Y),k.write(s.from([A])),Z!==null&&Z.write(),!0):!1}let se={};function J(U,k){if(k>c.VARBYTEINT_MAX)return U.emit("error",new Error(`Invalid variable byte integer: ${k}`)),!1;let K=se[k];return K||(K=w(k),k<16384&&(se[k]=K)),l("writeVarByteInt: writing to stream: %o",K),U.write(K)}function M(U,k){let K=s.byteLength(k);return D(U,K),l("writeString: %s",k),U.write(k,"utf8")}function R(U,k,K){M(U,k),M(U,K)}function B(U,k){return l("writeNumberCached: number: %d",k),l("writeNumberCached: %o",a[k]),U.write(a[k])}function z(U,k){let K=u(k);return l("writeNumberGenerated: %o",K),U.write(K)}function oe(U,k){let K=_(k);return l("write4ByteNumber: %o",K),U.write(K)}function re(U,k){typeof k=="string"?M(U,k):k?(D(U,k.length),U.write(k)):D(U,0)}function G(U,k){if(typeof k!="object"||k.length!=null)return{length:1,write(){X(U,{},0)}};let K=0;function ie(A,V){let Y=c.propertiesTypes[A],Z=0;switch(Y){case"byte":{if(typeof V!="boolean")return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=2;break}case"int8":{if(typeof V!="number"||V<0||V>255)return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=2;break}case"binary":{if(V&&V===null)return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=1+s.byteLength(V)+2;break}case"int16":{if(typeof V!="number"||V<0||V>65535)return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=3;break}case"int32":{if(typeof V!="number"||V<0||V>4294967295)return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=5;break}case"var":{if(typeof V!="number"||V<0||V>268435455)return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=1+s.byteLength(w(V));break}case"string":{if(typeof V!="string")return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=3+s.byteLength(V.toString());break}case"pair":{if(typeof V!="object")return U.emit("error",new Error(`Invalid ${A}: ${V}`)),!1;Z+=Object.getOwnPropertyNames(V).reduce((C,v)=>{let m=V[v];return Array.isArray(m)?C+=m.reduce((y,I)=>(y+=3+s.byteLength(v.toString())+2+s.byteLength(I.toString()),y),0):C+=3+s.byteLength(v.toString())+2+s.byteLength(V[v].toString()),C},0);break}default:return U.emit("error",new Error(`Invalid property ${A}: ${V}`)),!1}return Z}if(k)for(let A in k){let V=0,Y=0,Z=k[A];if(Array.isArray(Z))for(let C=0;C<Z.length;C++){if(Y=ie(A,Z[C]),!Y)return!1;V+=Y}else{if(Y=ie(A,Z),!Y)return!1;V=Y}if(!V)return!1;K+=V}return{length:s.byteLength(w(K))+K,write(){X(U,k,K)}}}function W(U,k,K,ie){let F=["reasonString","userProperties"],A=K&&K.properties&&K.properties.maximumPacketSize?K.properties.maximumPacketSize:0,V=G(U,k);if(A)for(;ie+V.length>A;){let Y=F.shift();if(Y&&k[Y])delete k[Y],V=G(U,k);else return!1}return V}function te(U,k,K){switch(c.propertiesTypes[k]){case"byte":{U.write(s.from([c.properties[k]])),U.write(s.from([+K]));break}case"int8":{U.write(s.from([c.properties[k]])),U.write(s.from([K]));break}case"binary":{U.write(s.from([c.properties[k]])),re(U,K);break}case"int16":{U.write(s.from([c.properties[k]])),D(U,K);break}case"int32":{U.write(s.from([c.properties[k]])),oe(U,K);break}case"var":{U.write(s.from([c.properties[k]])),J(U,K);break}case"string":{U.write(s.from([c.properties[k]])),M(U,K);break}case"pair":{Object.getOwnPropertyNames(K).forEach(F=>{let A=K[F];Array.isArray(A)?A.forEach(V=>{U.write(s.from([c.properties[k]])),R(U,F.toString(),V.toString())}):(U.write(s.from([c.properties[k]])),R(U,F.toString(),A.toString()))});break}default:return U.emit("error",new Error(`Invalid property ${k} value: ${K}`)),!1}}function X(U,k,K){J(U,K);for(let ie in k)if(Object.prototype.hasOwnProperty.call(k,ie)&&k[ie]!==null){let F=k[ie];if(Array.isArray(F))for(let A=0;A<F.length;A++)te(U,ie,F[A]);else te(U,ie,F)}}function ce(U){return U?U instanceof s?U.length:s.byteLength(U):0}function ne(U){return typeof U=="string"||U instanceof s}i.exports=b}).call(this)}).call(this,n("buffer").Buffer)},{"./constants":46,"./numbers":49,buffer:3,debug:20,"process-nextick-args":57}],53:[function(n,i,o){var s=1e3,c=s*60,h=c*60,p=h*24,d=p*7,f=p*365.25;i.exports=function(w,_){_=_||{};var D=typeof w;if(D==="string"&&w.length>0)return l(w);if(D==="number"&&isFinite(w))return _.long?u(w):a(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function l(w){if(w=String(w),!(w.length>100)){var _=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(_){var D=parseFloat(_[1]),E=(_[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return D*f;case"weeks":case"week":case"w":return D*d;case"days":case"day":case"d":return D*p;case"hours":case"hour":case"hrs":case"hr":case"h":return D*h;case"minutes":case"minute":case"mins":case"min":case"m":return D*c;case"seconds":case"second":case"secs":case"sec":case"s":return D*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}function a(w){var _=Math.abs(w);return _>=p?Math.round(w/p)+"d":_>=h?Math.round(w/h)+"h":_>=c?Math.round(w/c)+"m":_>=s?Math.round(w/s)+"s":w+"ms"}function u(w){var _=Math.abs(w);return _>=p?g(w,_,p,"day"):_>=h?g(w,_,h,"hour"):_>=c?g(w,_,c,"minute"):_>=s?g(w,_,s,"second"):w+" ms"}function g(w,_,D,E){var b=_>=D*1.5;return Math.round(w/D)+" "+E+(b?"s":"")}},{}],54:[function(n,i,o){let s=n("./lib/number-allocator.js");i.exports.NumberAllocator=s},{"./lib/number-allocator.js":55}],55:[function(n,i,o){"use strict";let s=n("js-sdsl").OrderedSet,c=n("debug")("number-allocator:trace"),h=n("debug")("number-allocator:error");function p(f,l){this.low=f,this.high=l}p.prototype.equals=function(f){return this.low===f.low&&this.high===f.high},p.prototype.compare=function(f){return this.low<f.low&&this.high<f.low?-1:f.low<this.low&&f.high<this.low?1:0};function d(f,l){if(!(this instanceof d))return new d(f,l);this.min=f,this.max=l,this.ss=new s([],(a,u)=>a.compare(u)),c("Create"),this.clear()}d.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},d.prototype.alloc=function(){if(this.ss.size()===0)return c("alloc():empty"),null;let f=this.ss.begin(),l=f.pointer.low,a=f.pointer.high,u=l;return u+1<=a?this.ss.updateKeyByIterator(f,new p(l+1,a)):this.ss.eraseElementByPos(0),c("alloc():"+u),u},d.prototype.use=function(f){let l=new p(f,f),a=this.ss.lowerBound(l);if(!a.equals(this.ss.end())){let u=a.pointer.low,g=a.pointer.high;return a.pointer.equals(l)?(this.ss.eraseElementByIterator(a),c("use():"+f),!0):u>f?!1:u===f?(this.ss.updateKeyByIterator(a,new p(u+1,g)),c("use():"+f),!0):g===f?(this.ss.updateKeyByIterator(a,new p(u,g-1)),c("use():"+f),!0):(this.ss.updateKeyByIterator(a,new p(f+1,g)),this.ss.insert(new p(u,f-1)),c("use():"+f),!0)}return c("use():failed"),!1},d.prototype.free=function(f){if(f<this.min||f>this.max){h("free():"+f+" is out of range");return}let l=new p(f,f),a=this.ss.upperBound(l);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(l);return}a.pre();let u=a.pointer.high;a.pointer.high+1===f?this.ss.updateKeyByIterator(a,new p(u,f)):this.ss.insert(l)}else if(a.equals(this.ss.begin()))if(f+1===a.pointer.low){let u=a.pointer.high;this.ss.updateKeyByIterator(a,new p(f,u))}else this.ss.insert(l);else{let u=a.pointer.low,g=a.pointer.high;a.pre();let w=a.pointer.low;a.pointer.high+1===f?f+1===u?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new p(w,g))):this.ss.updateKeyByIterator(a,new p(w,f)):f+1===u?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new p(f,g))):this.ss.insert(l)}c("free():"+f)},d.prototype.clear=function(){c("clear()"),this.ss.clear(),this.ss.insert(new p(this.min,this.max))},d.prototype.intervalCount=function(){return this.ss.size()},d.prototype.dump=function(){console.log("length:"+this.ss.size());for(let f of this.ss)console.log(f)},i.exports=d},{debug:20,"js-sdsl":42}],56:[function(n,i,o){var s=n("wrappy");i.exports=s(c),i.exports.strict=s(h),c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return h(this)},configurable:!0})});function c(p){var d=function(){return d.called?d.value:(d.called=!0,d.value=p.apply(this,arguments))};return d.called=!1,d}function h(p){var d=function(){if(d.called)throw new Error(d.onceError);return d.called=!0,d.value=p.apply(this,arguments)},f=p.name||"Function wrapped with `once`";return d.onceError=f+" shouldn't be called more than once",d.called=!1,d}},{wrappy:80}],57:[function(n,i,o){(function(s){(function(){"use strict";typeof s>"u"||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?i.exports={nextTick:c}:i.exports=s;function c(h,p,d,f){if(typeof h!="function")throw new TypeError('"callback" argument must be a function');var l=arguments.length,a,u;switch(l){case 0:case 1:return s.nextTick(h);case 2:return s.nextTick(function(){h.call(null,p)});case 3:return s.nextTick(function(){h.call(null,p,d)});case 4:return s.nextTick(function(){h.call(null,p,d,f)});default:for(a=new Array(l-1),u=0;u<a.length;)a[u++]=arguments[u];return s.nextTick(function(){h.apply(null,a)})}}}).call(this)}).call(this,n("_process"))},{_process:85}],58:[function(n,i,o){"use strict";function s(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var c={};function h(a,u,g){g||(g=Error);function w(D,E,b){return typeof u=="string"?u:u(D,E,b)}var _=function(D){s(E,D);function E(b,S,O){return D.call(this,w(b,S,O))||this}return E}(g);_.prototype.name=g.name,_.prototype.code=a,c[a]=_}function p(a,u){if(Array.isArray(a)){var g=a.length;return a=a.map(function(w){return String(w)}),g>2?"one of ".concat(u," ").concat(a.slice(0,g-1).join(", "),", or ")+a[g-1]:g===2?"one of ".concat(u," ").concat(a[0]," or ").concat(a[1]):"of ".concat(u," ").concat(a[0])}else return"of ".concat(u," ").concat(String(a))}function d(a,u,g){return a.substr(!g||g<0?0:+g,u.length)===u}function f(a,u,g){return(g===void 0||g>a.length)&&(g=a.length),a.substring(g-u.length,g)===u}function l(a,u,g){return typeof g!="number"&&(g=0),g+u.length>a.length?!1:a.indexOf(u,g)!==-1}h("ERR_INVALID_OPT_VALUE",function(a,u){return'The value "'+u+'" is invalid for option "'+a+'"'},TypeError),h("ERR_INVALID_ARG_TYPE",function(a,u,g){var w;typeof u=="string"&&d(u,"not ")?(w="must not be",u=u.replace(/^not /,"")):w="must be";var _;if(f(a," argument"))_="The ".concat(a," ").concat(w," ").concat(p(u,"type"));else{var D=l(a,".")?"property":"argument";_='The "'.concat(a,'" ').concat(D," ").concat(w," ").concat(p(u,"type"))}return _+=". Received type ".concat(typeof g),_},TypeError),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),h("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),h("ERR_STREAM_PREMATURE_CLOSE","Premature close"),h("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),h("ERR_STREAM_WRITE_AFTER_END","write after end"),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=c},{}],59:[function(n,i,o){(function(s){(function(){"use strict";var c=Object.keys||function(w){var _=[];for(var D in w)_.push(D);return _};i.exports=a;var h=n("./_stream_readable"),p=n("./_stream_writable");n("inherits")(a,h);for(var d=c(p.prototype),f=0;f<d.length;f++){var l=d[f];a.prototype[l]||(a.prototype[l]=p.prototype[l])}function a(w){if(!(this instanceof a))return new a(w);h.call(this,w),p.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||s.nextTick(g,this)}function g(w){w.end()}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})}).call(this)}).call(this,n("_process"))},{"./_stream_readable":61,"./_stream_writable":63,_process:85,inherits:24}],60:[function(n,i,o){"use strict";i.exports=c;var s=n("./_stream_transform");n("inherits")(c,s);function c(h){if(!(this instanceof c))return new c(h);s.call(this,h)}c.prototype._transform=function(h,p,d){d(null,h)}},{"./_stream_transform":62,inherits:24}],61:[function(n,i,o){(function(s,c){(function(){"use strict";i.exports=J;var h;J.ReadableState=se;var p=n("events").EventEmitter,d=function(v,m){return v.listeners(m).length},f=n("./internal/streams/stream"),l=n("buffer").Buffer,a=c.Uint8Array||function(){};function u(C){return l.from(C)}function g(C){return l.isBuffer(C)||C instanceof a}var w=n("util"),_;w&&w.debuglog?_=w.debuglog("stream"):_=function(){};var D=n("./internal/streams/buffer_list"),E=n("./internal/streams/destroy"),b=n("./internal/streams/state"),S=b.getHighWaterMark,O=n("../errors").codes,N=O.ERR_INVALID_ARG_TYPE,H=O.ERR_STREAM_PUSH_AFTER_EOF,$=O.ERR_METHOD_NOT_IMPLEMENTED,T=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,x,q;n("inherits")(J,f);var L=E.errorOrDestroy,ae=["error","close","destroy","pause","resume"];function ue(C,v,m){if(typeof C.prependListener=="function")return C.prependListener(v,m);!C._events||!C._events[v]?C.on(v,m):Array.isArray(C._events[v])?C._events[v].unshift(m):C._events[v]=[m,C._events[v]]}function se(C,v,m){h=h||n("./_stream_duplex"),C=C||{},typeof m!="boolean"&&(m=v instanceof h),this.objectMode=!!C.objectMode,m&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=S(this,C,"readableHighWaterMark",m),this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(P||(P=n("string_decoder/").StringDecoder),this.decoder=new P(C.encoding),this.encoding=C.encoding)}function J(C){if(h=h||n("./_stream_duplex"),!(this instanceof J))return new J(C);var v=this instanceof h;this._readableState=new se(C,this,v),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),f.call(this)}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),J.prototype.destroy=E.destroy,J.prototype._undestroy=E.undestroy,J.prototype._destroy=function(C,v){v(C)},J.prototype.push=function(C,v){var m=this._readableState,y;return m.objectMode?y=!0:typeof C=="string"&&(v=v||m.defaultEncoding,v!==m.encoding&&(C=l.from(C,v),v=""),y=!0),M(this,C,v,!1,y)},J.prototype.unshift=function(C){return M(this,C,null,!0,!1)};function M(C,v,m,y,I){_("readableAddChunk",v);var j=C._readableState;if(v===null)j.reading=!1,G(C,j);else{var Q;if(I||(Q=B(j,v)),Q)L(C,Q);else if(j.objectMode||v&&v.length>0)if(typeof v!="string"&&!j.objectMode&&Object.getPrototypeOf(v)!==l.prototype&&(v=u(v)),y)j.endEmitted?L(C,new T):R(C,j,v,!0);else if(j.ended)L(C,new H);else{if(j.destroyed)return!1;j.reading=!1,j.decoder&&!m?(v=j.decoder.write(v),j.objectMode||v.length!==0?R(C,j,v,!1):X(C,j)):R(C,j,v,!1)}else y||(j.reading=!1,X(C,j))}return!j.ended&&(j.length<j.highWaterMark||j.length===0)}function R(C,v,m,y){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,C.emit("data",m)):(v.length+=v.objectMode?1:m.length,y?v.buffer.unshift(m):v.buffer.push(m),v.needReadable&&W(C)),X(C,v)}function B(C,v){var m;return!g(v)&&typeof v!="string"&&v!==void 0&&!C.objectMode&&(m=new N("chunk",["string","Buffer","Uint8Array"],v)),m}J.prototype.isPaused=function(){return this._readableState.flowing===!1},J.prototype.setEncoding=function(C){P||(P=n("string_decoder/").StringDecoder);var v=new P(C);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var m=this._readableState.buffer.head,y="";m!==null;)y+=v.write(m.data),m=m.next;return this._readableState.buffer.clear(),y!==""&&this._readableState.buffer.push(y),this._readableState.length=y.length,this};var z=1073741824;function oe(C){return C>=z?C=z:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function re(C,v){return C<=0||v.length===0&&v.ended?0:v.objectMode?1:C!==C?v.flowing&&v.length?v.buffer.head.data.length:v.length:(C>v.highWaterMark&&(v.highWaterMark=oe(C)),C<=v.length?C:v.ended?v.length:(v.needReadable=!0,0))}J.prototype.read=function(C){_("read",C),C=parseInt(C,10);var v=this._readableState,m=C;if(C!==0&&(v.emittedReadable=!1),C===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return _("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?V(this):W(this),null;if(C=re(C,v),C===0&&v.ended)return v.length===0&&V(this),null;var y=v.needReadable;_("need readable",y),(v.length===0||v.length-C<v.highWaterMark)&&(y=!0,_("length less than watermark",y)),v.ended||v.reading?(y=!1,_("reading or ended",y)):y&&(_("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(C=re(m,v)));var I;return C>0?I=A(C,v):I=null,I===null?(v.needReadable=v.length<=v.highWaterMark,C=0):(v.length-=C,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),m!==C&&v.ended&&V(this)),I!==null&&this.emit("data",I),I};function G(C,v){if(_("onEofChunk"),!v.ended){if(v.decoder){var m=v.decoder.end();m&&m.length&&(v.buffer.push(m),v.length+=v.objectMode?1:m.length)}v.ended=!0,v.sync?W(C):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,te(C)))}}function W(C){var v=C._readableState;_("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(_("emitReadable",v.flowing),v.emittedReadable=!0,s.nextTick(te,C))}function te(C){var v=C._readableState;_("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(C.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,F(C)}function X(C,v){v.readingMore||(v.readingMore=!0,s.nextTick(ce,C,v))}function ce(C,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var m=v.length;if(_("maybeReadMore read 0"),C.read(0),m===v.length)break}v.readingMore=!1}J.prototype._read=function(C){L(this,new $("_read()"))},J.prototype.pipe=function(C,v){var m=this,y=this._readableState;switch(y.pipesCount){case 0:y.pipes=C;break;case 1:y.pipes=[y.pipes,C];break;default:y.pipes.push(C);break}y.pipesCount+=1,_("pipe count=%d opts=%j",y.pipesCount,v);var I=(!v||v.end!==!1)&&C!==s.stdout&&C!==s.stderr,j=I?ee:yt;y.endEmitted?s.nextTick(j):m.once("end",j),C.on("unpipe",Q);function Q(Ut,Ht){_("onunpipe"),Ut===m&&Ht&&Ht.hasUnpiped===!1&&(Ht.hasUnpiped=!0,De())}function ee(){_("onend"),C.end()}var le=ne(m);C.on("drain",le);var pe=!1;function De(){_("cleanup"),C.removeListener("close",mt),C.removeListener("finish",Bt),C.removeListener("drain",le),C.removeListener("error",Ee),C.removeListener("unpipe",Q),m.removeListener("end",ee),m.removeListener("end",yt),m.removeListener("data",Te),pe=!0,y.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&le()}m.on("data",Te);function Te(Ut){_("ondata");var Ht=C.write(Ut);_("dest.write",Ht),Ht===!1&&((y.pipesCount===1&&y.pipes===C||y.pipesCount>1&&Z(y.pipes,C)!==-1)&&!pe&&(_("false write response, pause",y.awaitDrain),y.awaitDrain++),m.pause())}function Ee(Ut){_("onerror",Ut),yt(),C.removeListener("error",Ee),d(C,"error")===0&&L(C,Ut)}ue(C,"error",Ee);function mt(){C.removeListener("finish",Bt),yt()}C.once("close",mt);function Bt(){_("onfinish"),C.removeListener("close",mt),yt()}C.once("finish",Bt);function yt(){_("unpipe"),m.unpipe(C)}return C.emit("pipe",m),y.flowing||(_("pipe resume"),m.resume()),C};function ne(C){return function(){var m=C._readableState;_("pipeOnDrain",m.awaitDrain),m.awaitDrain&&m.awaitDrain--,m.awaitDrain===0&&d(C,"data")&&(m.flowing=!0,F(C))}}J.prototype.unpipe=function(C){var v=this._readableState,m={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return C&&C!==v.pipes?this:(C||(C=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,C&&C.emit("unpipe",this,m),this);if(!C){var y=v.pipes,I=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var j=0;j<I;j++)y[j].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=Z(v.pipes,C);return Q===-1?this:(v.pipes.splice(Q,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),C.emit("unpipe",this,m),this)},J.prototype.on=function(C,v){var m=f.prototype.on.call(this,C,v),y=this._readableState;return C==="data"?(y.readableListening=this.listenerCount("readable")>0,y.flowing!==!1&&this.resume()):C==="readable"&&!y.endEmitted&&!y.readableListening&&(y.readableListening=y.needReadable=!0,y.flowing=!1,y.emittedReadable=!1,_("on readable",y.length,y.reading),y.length?W(this):y.reading||s.nextTick(k,this)),m},J.prototype.addListener=J.prototype.on,J.prototype.removeListener=function(C,v){var m=f.prototype.removeListener.call(this,C,v);return C==="readable"&&s.nextTick(U,this),m},J.prototype.removeAllListeners=function(C){var v=f.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&s.nextTick(U,this),v};function U(C){var v=C._readableState;v.readableListening=C.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:C.listenerCount("data")>0&&C.resume()}function k(C){_("readable nexttick read 0"),C.read(0)}J.prototype.resume=function(){var C=this._readableState;return C.flowing||(_("resume"),C.flowing=!C.readableListening,K(this,C)),C.paused=!1,this};function K(C,v){v.resumeScheduled||(v.resumeScheduled=!0,s.nextTick(ie,C,v))}function ie(C,v){_("resume",v.reading),v.reading||C.read(0),v.resumeScheduled=!1,C.emit("resume"),F(C),v.flowing&&!v.reading&&C.read(0)}J.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function F(C){var v=C._readableState;for(_("flow",v.flowing);v.flowing&&C.read()!==null;);}J.prototype.wrap=function(C){var v=this,m=this._readableState,y=!1;C.on("end",function(){if(_("wrapped end"),m.decoder&&!m.ended){var Q=m.decoder.end();Q&&Q.length&&v.push(Q)}v.push(null)}),C.on("data",function(Q){if(_("wrapped data"),m.decoder&&(Q=m.decoder.write(Q)),!(m.objectMode&&Q==null)&&!(!m.objectMode&&(!Q||!Q.length))){var ee=v.push(Q);ee||(y=!0,C.pause())}});for(var I in C)this[I]===void 0&&typeof C[I]=="function"&&(this[I]=function(ee){return function(){return C[ee].apply(C,arguments)}}(I));for(var j=0;j<ae.length;j++)C.on(ae[j],this.emit.bind(this,ae[j]));return this._read=function(Q){_("wrapped _read",Q),y&&(y=!1,C.resume())},this},typeof Symbol=="function"&&(J.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=n("./internal/streams/async_iterator")),x(this)}),Object.defineProperty(J.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(J.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(J.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),J._fromList=A,Object.defineProperty(J.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(C,v){if(v.length===0)return null;var m;return v.objectMode?m=v.buffer.shift():!C||C>=v.length?(v.decoder?m=v.buffer.join(""):v.buffer.length===1?m=v.buffer.first():m=v.buffer.concat(v.length),v.buffer.clear()):m=v.buffer.consume(C,v.decoder),m}function V(C){var v=C._readableState;_("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,s.nextTick(Y,v,C))}function Y(C,v){if(_("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,v.readable=!1,v.emit("end"),C.autoDestroy)){var m=v._writableState;(!m||m.autoDestroy&&m.finished)&&v.destroy()}}typeof Symbol=="function"&&(J.from=function(C,v){return q===void 0&&(q=n("./internal/streams/from")),q(J,C,v)});function Z(C,v){for(var m=0,y=C.length;m<y;m++)if(C[m]===v)return m;return-1}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":58,"./_stream_duplex":59,"./internal/streams/async_iterator":64,"./internal/streams/buffer_list":65,"./internal/streams/destroy":66,"./internal/streams/from":68,"./internal/streams/state":70,"./internal/streams/stream":71,_process:85,buffer:3,events:4,inherits:24,"string_decoder/":78,util:2}],62:[function(n,i,o){"use strict";i.exports=a;var s=n("../errors").codes,c=s.ERR_METHOD_NOT_IMPLEMENTED,h=s.ERR_MULTIPLE_CALLBACK,p=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=s.ERR_TRANSFORM_WITH_LENGTH_0,f=n("./_stream_duplex");n("inherits")(a,f);function l(w,_){var D=this._transformState;D.transforming=!1;var E=D.writecb;if(E===null)return this.emit("error",new h);D.writechunk=null,D.writecb=null,_!=null&&this.push(_),E(w);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function a(w){if(!(this instanceof a))return new a(w);f.call(this,w),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,w&&(typeof w.transform=="function"&&(this._transform=w.transform),typeof w.flush=="function"&&(this._flush=w.flush)),this.on("prefinish",u)}function u(){var w=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_,D){g(w,_,D)}):g(this,null,null)}a.prototype.push=function(w,_){return this._transformState.needTransform=!1,f.prototype.push.call(this,w,_)},a.prototype._transform=function(w,_,D){D(new c("_transform()"))},a.prototype._write=function(w,_,D){var E=this._transformState;if(E.writecb=D,E.writechunk=w,E.writeencoding=_,!E.transforming){var b=this._readableState;(E.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},a.prototype._read=function(w){var _=this._transformState;_.writechunk!==null&&!_.transforming?(_.transforming=!0,this._transform(_.writechunk,_.writeencoding,_.afterTransform)):_.needTransform=!0},a.prototype._destroy=function(w,_){f.prototype._destroy.call(this,w,function(D){_(D)})};function g(w,_,D){if(_)return w.emit("error",_);if(D!=null&&w.push(D),w._writableState.length)throw new d;if(w._transformState.transforming)throw new p;return w.push(null)}},{"../errors":58,"./_stream_duplex":59,inherits:24}],63:[function(n,i,o){(function(s,c){(function(){"use strict";i.exports=se;function h(F,A,V){this.chunk=F,this.encoding=A,this.callback=V,this.next=null}function p(F){var A=this;this.next=null,this.entry=null,this.finish=function(){ie(A,F)}}var d;se.WritableState=ae;var f={deprecate:n("util-deprecate")},l=n("./internal/streams/stream"),a=n("buffer").Buffer,u=c.Uint8Array||function(){};function g(F){return a.from(F)}function w(F){return a.isBuffer(F)||F instanceof u}var _=n("./internal/streams/destroy"),D=n("./internal/streams/state"),E=D.getHighWaterMark,b=n("../errors").codes,S=b.ERR_INVALID_ARG_TYPE,O=b.ERR_METHOD_NOT_IMPLEMENTED,N=b.ERR_MULTIPLE_CALLBACK,H=b.ERR_STREAM_CANNOT_PIPE,$=b.ERR_STREAM_DESTROYED,T=b.ERR_STREAM_NULL_VALUES,P=b.ERR_STREAM_WRITE_AFTER_END,x=b.ERR_UNKNOWN_ENCODING,q=_.errorOrDestroy;n("inherits")(se,l);function L(){}function ae(F,A,V){d=d||n("./_stream_duplex"),F=F||{},typeof V!="boolean"&&(V=A instanceof d),this.objectMode=!!F.objectMode,V&&(this.objectMode=this.objectMode||!!F.writableObjectMode),this.highWaterMark=E(this,F,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=F.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=F.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){G(A,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}ae.prototype.getBuffer=function(){for(var A=this.bufferedRequest,V=[];A;)V.push(A),A=A.next;return V},function(){try{Object.defineProperty(ae.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(se,Symbol.hasInstance,{value:function(A){return ue.call(this,A)?!0:this!==se?!1:A&&A._writableState instanceof ae}})):ue=function(A){return A instanceof this};function se(F){d=d||n("./_stream_duplex");var A=this instanceof d;if(!A&&!ue.call(se,this))return new se(F);this._writableState=new ae(F,this,A),this.writable=!0,F&&(typeof F.write=="function"&&(this._write=F.write),typeof F.writev=="function"&&(this._writev=F.writev),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.final=="function"&&(this._final=F.final)),l.call(this)}se.prototype.pipe=function(){q(this,new H)};function J(F,A){var V=new P;q(F,V),s.nextTick(A,V)}function M(F,A,V,Y){var Z;return V===null?Z=new T:typeof V!="string"&&!A.objectMode&&(Z=new S("chunk",["string","Buffer"],V)),Z?(q(F,Z),s.nextTick(Y,Z),!1):!0}se.prototype.write=function(F,A,V){var Y=this._writableState,Z=!1,C=!Y.objectMode&&w(F);return C&&!a.isBuffer(F)&&(F=g(F)),typeof A=="function"&&(V=A,A=null),C?A="buffer":A||(A=Y.defaultEncoding),typeof V!="function"&&(V=L),Y.ending?J(this,V):(C||M(this,Y,F,V))&&(Y.pendingcb++,Z=B(this,Y,C,F,A,V)),Z},se.prototype.cork=function(){this._writableState.corked++},se.prototype.uncork=function(){var F=this._writableState;F.corked&&(F.corked--,!F.writing&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&X(this,F))},se.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new x(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(se.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(F,A,V){return!F.objectMode&&F.decodeStrings!==!1&&typeof A=="string"&&(A=a.from(A,V)),A}Object.defineProperty(se.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(F,A,V,Y,Z,C){if(!V){var v=R(A,Y,Z);Y!==v&&(V=!0,Z="buffer",Y=v)}var m=A.objectMode?1:Y.length;A.length+=m;var y=A.length<A.highWaterMark;if(y||(A.needDrain=!0),A.writing||A.corked){var I=A.lastBufferedRequest;A.lastBufferedRequest={chunk:Y,encoding:Z,isBuf:V,callback:C,next:null},I?I.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else z(F,A,!1,m,Y,Z,C);return y}function z(F,A,V,Y,Z,C,v){A.writelen=Y,A.writecb=v,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new $("write")):V?F._writev(Z,A.onwrite):F._write(Z,C,A.onwrite),A.sync=!1}function oe(F,A,V,Y,Z){--A.pendingcb,V?(s.nextTick(Z,Y),s.nextTick(k,F,A),F._writableState.errorEmitted=!0,q(F,Y)):(Z(Y),F._writableState.errorEmitted=!0,q(F,Y),k(F,A))}function re(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}function G(F,A){var V=F._writableState,Y=V.sync,Z=V.writecb;if(typeof Z!="function")throw new N;if(re(V),A)oe(F,V,Y,A,Z);else{var C=ce(V)||F.destroyed;!C&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&X(F,V),Y?s.nextTick(W,F,V,C,Z):W(F,V,C,Z)}}function W(F,A,V,Y){V||te(F,A),A.pendingcb--,Y(),k(F,A)}function te(F,A){A.length===0&&A.needDrain&&(A.needDrain=!1,F.emit("drain"))}function X(F,A){A.bufferProcessing=!0;var V=A.bufferedRequest;if(F._writev&&V&&V.next){var Y=A.bufferedRequestCount,Z=new Array(Y),C=A.corkedRequestsFree;C.entry=V;for(var v=0,m=!0;V;)Z[v]=V,V.isBuf||(m=!1),V=V.next,v+=1;Z.allBuffers=m,z(F,A,!0,A.length,Z,"",C.finish),A.pendingcb++,A.lastBufferedRequest=null,C.next?(A.corkedRequestsFree=C.next,C.next=null):A.corkedRequestsFree=new p(A),A.bufferedRequestCount=0}else{for(;V;){var y=V.chunk,I=V.encoding,j=V.callback,Q=A.objectMode?1:y.length;if(z(F,A,!1,Q,y,I,j),V=V.next,A.bufferedRequestCount--,A.writing)break}V===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=V,A.bufferProcessing=!1}se.prototype._write=function(F,A,V){V(new O("_write()"))},se.prototype._writev=null,se.prototype.end=function(F,A,V){var Y=this._writableState;return typeof F=="function"?(V=F,F=null,A=null):typeof A=="function"&&(V=A,A=null),F!=null&&this.write(F,A),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||K(this,Y,V),this},Object.defineProperty(se.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ce(F){return F.ending&&F.length===0&&F.bufferedRequest===null&&!F.finished&&!F.writing}function ne(F,A){F._final(function(V){A.pendingcb--,V&&q(F,V),A.prefinished=!0,F.emit("prefinish"),k(F,A)})}function U(F,A){!A.prefinished&&!A.finalCalled&&(typeof F._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,s.nextTick(ne,F,A)):(A.prefinished=!0,F.emit("prefinish")))}function k(F,A){var V=ce(A);if(V&&(U(F,A),A.pendingcb===0&&(A.finished=!0,F.emit("finish"),A.autoDestroy))){var Y=F._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&F.destroy()}return V}function K(F,A,V){A.ending=!0,k(F,A),V&&(A.finished?s.nextTick(V):F.once("finish",V)),A.ended=!0,F.writable=!1}function ie(F,A,V){var Y=F.entry;for(F.entry=null;Y;){var Z=Y.callback;A.pendingcb--,Z(V),Y=Y.next}A.corkedRequestsFree.next=F}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),se.prototype.destroy=_.destroy,se.prototype._undestroy=_.undestroy,se.prototype._destroy=function(F,A){A(F)}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":58,"./_stream_duplex":59,"./internal/streams/destroy":66,"./internal/streams/state":70,"./internal/streams/stream":71,_process:85,buffer:3,inherits:24,"util-deprecate":79}],64:[function(n,i,o){(function(s){(function(){"use strict";var c;function h(H,$,T){return $ in H?Object.defineProperty(H,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[$]=T,H}var p=n("./end-of-stream"),d=Symbol("lastResolve"),f=Symbol("lastReject"),l=Symbol("error"),a=Symbol("ended"),u=Symbol("lastPromise"),g=Symbol("handlePromise"),w=Symbol("stream");function _(H,$){return{value:H,done:$}}function D(H){var $=H[d];if($!==null){var T=H[w].read();T!==null&&(H[u]=null,H[d]=null,H[f]=null,$(_(T,!1)))}}function E(H){s.nextTick(D,H)}function b(H,$){return function(T,P){H.then(function(){if($[a]){T(_(void 0,!0));return}$[g](T,P)},P)}}var S=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((c={get stream(){return this[w]},next:function(){var $=this,T=this[l];if(T!==null)return Promise.reject(T);if(this[a])return Promise.resolve(_(void 0,!0));if(this[w].destroyed)return new Promise(function(L,ae){s.nextTick(function(){$[l]?ae($[l]):L(_(void 0,!0))})});var P=this[u],x;if(P)x=new Promise(b(P,this));else{var q=this[w].read();if(q!==null)return Promise.resolve(_(q,!1));x=new Promise(this[g])}return this[u]=x,x}},h(c,Symbol.asyncIterator,function(){return this}),h(c,"return",function(){var $=this;return new Promise(function(T,P){$[w].destroy(null,function(x){if(x){P(x);return}T(_(void 0,!0))})})}),c),S),N=function($){var T,P=Object.create(O,(T={},h(T,w,{value:$,writable:!0}),h(T,d,{value:null,writable:!0}),h(T,f,{value:null,writable:!0}),h(T,l,{value:null,writable:!0}),h(T,a,{value:$._readableState.endEmitted,writable:!0}),h(T,g,{value:function(q,L){var ae=P[w].read();ae?(P[u]=null,P[d]=null,P[f]=null,q(_(ae,!1))):(P[d]=q,P[f]=L)},writable:!0}),T));return P[u]=null,p($,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=P[f];q!==null&&(P[u]=null,P[d]=null,P[f]=null,q(x)),P[l]=x;return}var L=P[d];L!==null&&(P[u]=null,P[d]=null,P[f]=null,L(_(void 0,!0))),P[a]=!0}),$.on("readable",E.bind(null,P)),P};i.exports=N}).call(this)}).call(this,n("_process"))},{"./end-of-stream":67,_process:85}],65:[function(n,i,o){"use strict";function s(D,E){var b=Object.keys(D);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(D);E&&(S=S.filter(function(O){return Object.getOwnPropertyDescriptor(D,O).enumerable})),b.push.apply(b,S)}return b}function c(D){for(var E=1;E<arguments.length;E++){var b=arguments[E]!=null?arguments[E]:{};E%2?s(Object(b),!0).forEach(function(S){h(D,S,b[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(b)):s(Object(b)).forEach(function(S){Object.defineProperty(D,S,Object.getOwnPropertyDescriptor(b,S))})}return D}function h(D,E,b){return E in D?Object.defineProperty(D,E,{value:b,enumerable:!0,configurable:!0,writable:!0}):D[E]=b,D}function p(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function d(D,E){for(var b=0;b<E.length;b++){var S=E[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(D,S.key,S)}}function f(D,E,b){return E&&d(D.prototype,E),b&&d(D,b),D}var l=n("buffer"),a=l.Buffer,u=n("util"),g=u.inspect,w=g&&g.custom||"inspect";function _(D,E,b){a.prototype.copy.call(D,E,b)}i.exports=function(){function D(){p(this,D),this.head=null,this.tail=null,this.length=0}return f(D,[{key:"push",value:function(b){var S={data:b,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(b){var S={data:b,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var S=this.head,O=""+S.data;S=S.next;)O+=b+S.data;return O}},{key:"concat",value:function(b){if(this.length===0)return a.alloc(0);for(var S=a.allocUnsafe(b>>>0),O=this.head,N=0;O;)_(O.data,S,N),N+=O.data.length,O=O.next;return S}},{key:"consume",value:function(b,S){var O;return b<this.head.data.length?(O=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?O=this.shift():O=S?this._getString(b):this._getBuffer(b),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var S=this.head,O=1,N=S.data;for(b-=N.length;S=S.next;){var H=S.data,$=b>H.length?H.length:b;if($===H.length?N+=H:N+=H.slice(0,b),b-=$,b===0){$===H.length?(++O,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=H.slice($));break}++O}return this.length-=O,N}},{key:"_getBuffer",value:function(b){var S=a.allocUnsafe(b),O=this.head,N=1;for(O.data.copy(S),b-=O.data.length;O=O.next;){var H=O.data,$=b>H.length?H.length:b;if(H.copy(S,S.length-b,0,$),b-=$,b===0){$===H.length?(++N,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=H.slice($));break}++N}return this.length-=N,S}},{key:w,value:function(b,S){return g(this,c({},S,{depth:0,customInspect:!1}))}}]),D}()},{buffer:3,util:2}],66:[function(n,i,o){(function(s){(function(){"use strict";function c(a,u){var g=this,w=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return w||_?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(f,this,a)):s.nextTick(f,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(D){!u&&D?g._writableState?g._writableState.errorEmitted?s.nextTick(p,g):(g._writableState.errorEmitted=!0,s.nextTick(h,g,D)):s.nextTick(h,g,D):u?(s.nextTick(p,g),u(D)):s.nextTick(p,g)}),this)}function h(a,u){f(a,u),p(a)}function p(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,u){a.emit("error",u)}function l(a,u){var g=a._readableState,w=a._writableState;g&&g.autoDestroy||w&&w.autoDestroy?a.destroy(u):a.emit("error",u)}i.exports={destroy:c,undestroy:d,errorOrDestroy:l}}).call(this)}).call(this,n("_process"))},{_process:85}],67:[function(n,i,o){"use strict";var s=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function c(f){var l=!1;return function(){if(!l){l=!0;for(var a=arguments.length,u=new Array(a),g=0;g<a;g++)u[g]=arguments[g];f.apply(this,u)}}}function h(){}function p(f){return f.setHeader&&typeof f.abort=="function"}function d(f,l,a){if(typeof l=="function")return d(f,null,l);l||(l={}),a=c(a||h);var u=l.readable||l.readable!==!1&&f.readable,g=l.writable||l.writable!==!1&&f.writable,w=function(){f.writable||D()},_=f._writableState&&f._writableState.finished,D=function(){g=!1,_=!0,u||a.call(f)},E=f._readableState&&f._readableState.endEmitted,b=function(){u=!1,E=!0,g||a.call(f)},S=function($){a.call(f,$)},O=function(){var $;if(u&&!E)return(!f._readableState||!f._readableState.ended)&&($=new s),a.call(f,$);if(g&&!_)return(!f._writableState||!f._writableState.ended)&&($=new s),a.call(f,$)},N=function(){f.req.on("finish",D)};return p(f)?(f.on("complete",D),f.on("abort",O),f.req?N():f.on("request",N)):g&&!f._writableState&&(f.on("end",w),f.on("close",w)),f.on("end",b),f.on("finish",D),l.error!==!1&&f.on("error",S),f.on("close",O),function(){f.removeListener("complete",D),f.removeListener("abort",O),f.removeListener("request",N),f.req&&f.req.removeListener("finish",D),f.removeListener("end",w),f.removeListener("close",w),f.removeListener("finish",D),f.removeListener("end",b),f.removeListener("error",S),f.removeListener("close",O)}}i.exports=d},{"../../../errors":58}],68:[function(n,i,o){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],69:[function(n,i,o){"use strict";var s;function c(D){var E=!1;return function(){E||(E=!0,D.apply(void 0,arguments))}}var h=n("../../../errors").codes,p=h.ERR_MISSING_ARGS,d=h.ERR_STREAM_DESTROYED;function f(D){if(D)throw D}function l(D){return D.setHeader&&typeof D.abort=="function"}function a(D,E,b,S){S=c(S);var O=!1;D.on("close",function(){O=!0}),s===void 0&&(s=n("./end-of-stream")),s(D,{readable:E,writable:b},function(H){if(H)return S(H);O=!0,S()});var N=!1;return function(H){if(!O&&!N){if(N=!0,l(D))return D.abort();if(typeof D.destroy=="function")return D.destroy();S(H||new d("pipe"))}}}function u(D){D()}function g(D,E){return D.pipe(E)}function w(D){return!D.length||typeof D[D.length-1]!="function"?f:D.pop()}function _(){for(var D=arguments.length,E=new Array(D),b=0;b<D;b++)E[b]=arguments[b];var S=w(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new p("streams");var O,N=E.map(function(H,$){var T=$<E.length-1,P=$>0;return a(H,T,P,function(x){O||(O=x),x&&N.forEach(u),!T&&(N.forEach(u),S(O))})});return E.reduce(g)}i.exports=_},{"../../../errors":58,"./end-of-stream":67}],70:[function(n,i,o){"use strict";var s=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;function c(p,d,f){return p.highWaterMark!=null?p.highWaterMark:d?p[f]:null}function h(p,d,f,l){var a=c(d,l,f);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=l?f:"highWaterMark";throw new s(u,a)}return Math.floor(a)}return p.objectMode?16:16*1024}i.exports={getHighWaterMark:h}},{"../../../errors":58}],71:[function(n,i,o){i.exports=n("events").EventEmitter},{events:4}],72:[function(n,i,o){o=i.exports=n("./lib/_stream_readable.js"),o.Stream=o,o.Readable=o,o.Writable=n("./lib/_stream_writable.js"),o.Duplex=n("./lib/_stream_duplex.js"),o.Transform=n("./lib/_stream_transform.js"),o.PassThrough=n("./lib/_stream_passthrough.js"),o.finished=n("./lib/internal/streams/end-of-stream.js"),o.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":59,"./lib/_stream_passthrough.js":60,"./lib/_stream_readable.js":61,"./lib/_stream_transform.js":62,"./lib/_stream_writable.js":63,"./lib/internal/streams/end-of-stream.js":67,"./lib/internal/streams/pipeline.js":69}],73:[function(n,i,o){"use strict";function s(h,p,d){var f=this;this._callback=h,this._args=d,this._interval=setInterval(h,p,this._args),this.reschedule=function(l){l||(l=f._interval),f._interval&&clearInterval(f._interval),f._interval=setInterval(f._callback,l,f._args)},this.clear=function(){f._interval&&(clearInterval(f._interval),f._interval=void 0)},this.destroy=function(){f._interval&&clearInterval(f._interval),f._callback=void 0,f._interval=void 0,f._args=void 0}}function c(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var h;if(arguments.length>0){h=new Array(arguments.length-2);for(var p=0;p<h.length;p++)h[p]=arguments[p+2]}return new s(arguments[0],arguments[1],h)}i.exports=c},{}],74:[function(n,i,o){"use strict";i.exports=n("./index.js")()},{"./index.js":75}],75:[function(n,i,o){(function(s){(function(){"use strict";i.exports=h;function c(d){return d instanceof s?s.from(d):new d.constructor(d.buffer.slice(),d.byteOffset,d.length)}function h(d){if(d=d||{},d.circles)return p(d);return d.proto?a:l;function f(u,g){for(var w=Object.keys(u),_=new Array(w.length),D=0;D<w.length;D++){var E=w[D],b=u[E];typeof b!="object"||b===null?_[E]=b:b instanceof Date?_[E]=new Date(b):ArrayBuffer.isView(b)?_[E]=c(b):_[E]=g(b)}return _}function l(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return f(u,l);if(u instanceof Map)return new Map(f(Array.from(u),l));if(u instanceof Set)return new Set(f(Array.from(u),l));var g={};for(var w in u)if(Object.hasOwnProperty.call(u,w)!==!1){var _=u[w];typeof _!="object"||_===null?g[w]=_:_ instanceof Date?g[w]=new Date(_):_ instanceof Map?g[w]=new Map(f(Array.from(_),l)):_ instanceof Set?g[w]=new Set(f(Array.from(_),l)):ArrayBuffer.isView(_)?g[w]=c(_):g[w]=l(_)}return g}function a(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return f(u,a);if(u instanceof Map)return new Map(f(Array.from(u),a));if(u instanceof Set)return new Set(f(Array.from(u),a));var g={};for(var w in u){var _=u[w];typeof _!="object"||_===null?g[w]=_:_ instanceof Date?g[w]=new Date(_):_ instanceof Map?g[w]=new Map(f(Array.from(_),a)):_ instanceof Set?g[w]=new Set(f(Array.from(_),a)):ArrayBuffer.isView(_)?g[w]=c(_):g[w]=a(_)}return g}}function p(d){var f=[],l=[];return d.proto?g:u;function a(w,_){for(var D=Object.keys(w),E=new Array(D.length),b=0;b<D.length;b++){var S=D[b],O=w[S];if(typeof O!="object"||O===null)E[S]=O;else if(O instanceof Date)E[S]=new Date(O);else if(ArrayBuffer.isView(O))E[S]=c(O);else{var N=f.indexOf(O);N!==-1?E[S]=l[N]:E[S]=_(O)}}return E}function u(w){if(typeof w!="object"||w===null)return w;if(w instanceof Date)return new Date(w);if(Array.isArray(w))return a(w,u);if(w instanceof Map)return new Map(a(Array.from(w),u));if(w instanceof Set)return new Set(a(Array.from(w),u));var _={};f.push(w),l.push(_);for(var D in w)if(Object.hasOwnProperty.call(w,D)!==!1){var E=w[D];if(typeof E!="object"||E===null)_[D]=E;else if(E instanceof Date)_[D]=new Date(E);else if(E instanceof Map)_[D]=new Map(a(Array.from(E),u));else if(E instanceof Set)_[D]=new Set(a(Array.from(E),u));else if(ArrayBuffer.isView(E))_[D]=c(E);else{var b=f.indexOf(E);b!==-1?_[D]=l[b]:_[D]=u(E)}}return f.pop(),l.pop(),_}function g(w){if(typeof w!="object"||w===null)return w;if(w instanceof Date)return new Date(w);if(Array.isArray(w))return a(w,g);if(w instanceof Map)return new Map(a(Array.from(w),g));if(w instanceof Set)return new Set(a(Array.from(w),g));var _={};f.push(w),l.push(_);for(var D in w){var E=w[D];if(typeof E!="object"||E===null)_[D]=E;else if(E instanceof Date)_[D]=new Date(E);else if(E instanceof Map)_[D]=new Map(a(Array.from(E),g));else if(E instanceof Set)_[D]=new Set(a(Array.from(E),g));else if(ArrayBuffer.isView(E))_[D]=c(E);else{var b=f.indexOf(E);b!==-1?_[D]=l[b]:_[D]=g(E)}}return f.pop(),l.pop(),_}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:3}],76:[function(n,i,o){var s=n("buffer"),c=s.Buffer;function h(d,f){for(var l in d)f[l]=d[l]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?i.exports=s:(h(s,o),o.Buffer=p);function p(d,f,l){return c(d,f,l)}p.prototype=Object.create(c.prototype),h(c,p),p.from=function(d,f,l){if(typeof d=="number")throw new TypeError("Argument must not be a number");return c(d,f,l)},p.alloc=function(d,f,l){if(typeof d!="number")throw new TypeError("Argument must be a number");var a=c(d);return f!==void 0?typeof l=="string"?a.fill(f,l):a.fill(f):a.fill(0),a},p.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return c(d)},p.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(d)}},{buffer:3}],77:[function(n,i,o){i.exports=s;function s(h){var p=h._readableState;return p?p.objectMode||typeof h._duplexState=="number"?h.read():h.read(c(p)):null}function c(h){return h.buffer.length?h.buffer.head?h.buffer.head.data.length:h.buffer[0].length:h.length}},{}],78:[function(n,i,o){"use strict";var s=n("safe-buffer").Buffer,c=s.isEncoding||function(N){switch(N=""+N,N&&N.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(N){if(!N)return"utf8";for(var H;;)switch(N){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return N;default:if(H)return;N=(""+N).toLowerCase(),H=!0}}function p(N){var H=h(N);if(typeof H!="string"&&(s.isEncoding===c||!c(N)))throw new Error("Unknown encoding: "+N);return H||N}o.StringDecoder=d;function d(N){this.encoding=p(N);var H;switch(this.encoding){case"utf16le":this.text=_,this.end=D,H=4;break;case"utf8":this.fillLast=u,H=4;break;case"base64":this.text=E,this.end=b,H=3;break;default:this.write=S,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(H)}d.prototype.write=function(N){if(N.length===0)return"";var H,$;if(this.lastNeed){if(H=this.fillLast(N),H===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<N.length?H?H+this.text(N,$):this.text(N,$):H||""},d.prototype.end=w,d.prototype.text=g,d.prototype.fillLast=function(N){if(this.lastNeed<=N.length)return N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,N.length),this.lastNeed-=N.length};function f(N){return N<=127?0:N>>5===6?2:N>>4===14?3:N>>3===30?4:N>>6===2?-1:-2}function l(N,H,$){var T=H.length-1;if(T<$)return 0;var P=f(H[T]);return P>=0?(P>0&&(N.lastNeed=P-1),P):--T<$||P===-2?0:(P=f(H[T]),P>=0?(P>0&&(N.lastNeed=P-2),P):--T<$||P===-2?0:(P=f(H[T]),P>=0?(P>0&&(P===2?P=0:N.lastNeed=P-3),P):0))}function a(N,H,$){if((H[0]&192)!==128)return N.lastNeed=0,"\uFFFD";if(N.lastNeed>1&&H.length>1){if((H[1]&192)!==128)return N.lastNeed=1,"\uFFFD";if(N.lastNeed>2&&H.length>2&&(H[2]&192)!==128)return N.lastNeed=2,"\uFFFD"}}function u(N){var H=this.lastTotal-this.lastNeed,$=a(this,N,H);if($!==void 0)return $;if(this.lastNeed<=N.length)return N.copy(this.lastChar,H,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,H,0,N.length),this.lastNeed-=N.length}function g(N,H){var $=l(this,N,H);if(!this.lastNeed)return N.toString("utf8",H);this.lastTotal=$;var T=N.length-($-this.lastNeed);return N.copy(this.lastChar,0,T),N.toString("utf8",H,T)}function w(N){var H=N&&N.length?this.write(N):"";return this.lastNeed?H+"\uFFFD":H}function _(N,H){if((N.length-H)%2===0){var $=N.toString("utf16le",H);if($){var T=$.charCodeAt($.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=N[N.length-1],N.toString("utf16le",H,N.length-1)}function D(N){var H=N&&N.length?this.write(N):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return H+this.lastChar.toString("utf16le",0,$)}return H}function E(N,H){var $=(N.length-H)%3;return $===0?N.toString("base64",H):(this.lastNeed=3-$,this.lastTotal=3,$===1?this.lastChar[0]=N[N.length-1]:(this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1]),N.toString("base64",H,N.length-$))}function b(N){var H=N&&N.length?this.write(N):"";return this.lastNeed?H+this.lastChar.toString("base64",0,3-this.lastNeed):H}function S(N){return N.toString(this.encoding)}function O(N){return N&&N.length?this.write(N):""}},{"safe-buffer":76}],79:[function(n,i,o){(function(s){(function(){i.exports=c;function c(p,d){if(h("noDeprecation"))return p;var f=!1;function l(){if(!f){if(h("throwDeprecation"))throw new Error(d);h("traceDeprecation")?console.trace(d):console.warn(d),f=!0}return p.apply(this,arguments)}return l}function h(p){try{if(!s.localStorage)return!1}catch{return!1}var d=s.localStorage[p];return d==null?!1:String(d).toLowerCase()==="true"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],80:[function(n,i,o){i.exports=s;function s(c,h){if(c&&h)return s(c)(h);if(typeof c!="function")throw new TypeError("need wrapper function");return Object.keys(c).forEach(function(d){p[d]=c[d]}),p;function p(){for(var d=new Array(arguments.length),f=0;f<d.length;f++)d[f]=arguments[f];var l=c.apply(this,d),a=d[d.length-1];return typeof l=="function"&&l!==a&&Object.keys(a).forEach(function(u){l[u]=a[u]}),l}}},{}],81:[function(n,i,o){"use strict";i.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],82:[function(n,i,o){i.exports=c;var s=Object.prototype.hasOwnProperty;function c(){for(var h={},p=0;p<arguments.length;p++){var d=arguments[p];for(var f in d)s.call(d,f)&&(h[f]=d[f])}return h}},{}],83:[function(n,i,o){"use strict";i.exports=function(s){s.prototype[Symbol.iterator]=function*(){for(let c=this.head;c;c=c.next)yield c.value}}},{}],84:[function(n,i,o){"use strict";i.exports=s,s.Node=d,s.create=s;function s(f){var l=this;if(l instanceof s||(l=new s),l.tail=null,l.head=null,l.length=0,f&&typeof f.forEach=="function")f.forEach(function(g){l.push(g)});else if(arguments.length>0)for(var a=0,u=arguments.length;a<u;a++)l.push(arguments[a]);return l}s.prototype.removeNode=function(f){if(f.list!==this)throw new Error("removing node which does not belong to this list");var l=f.next,a=f.prev;return l&&(l.prev=a),a&&(a.next=l),f===this.head&&(this.head=l),f===this.tail&&(this.tail=a),f.list.length--,f.next=null,f.prev=null,f.list=null,l},s.prototype.unshiftNode=function(f){if(f!==this.head){f.list&&f.list.removeNode(f);var l=this.head;f.list=this,f.next=l,l&&(l.prev=f),this.head=f,this.tail||(this.tail=f),this.length++}},s.prototype.pushNode=function(f){if(f!==this.tail){f.list&&f.list.removeNode(f);var l=this.tail;f.list=this,f.prev=l,l&&(l.next=f),this.tail=f,this.head||(this.head=f),this.length++}},s.prototype.push=function(){for(var f=0,l=arguments.length;f<l;f++)h(this,arguments[f]);return this.length},s.prototype.unshift=function(){for(var f=0,l=arguments.length;f<l;f++)p(this,arguments[f]);return this.length},s.prototype.pop=function(){if(this.tail){var f=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,f}},s.prototype.shift=function(){if(this.head){var f=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,f}},s.prototype.forEach=function(f,l){l=l||this;for(var a=this.head,u=0;a!==null;u++)f.call(l,a.value,u,this),a=a.next},s.prototype.forEachReverse=function(f,l){l=l||this;for(var a=this.tail,u=this.length-1;a!==null;u--)f.call(l,a.value,u,this),a=a.prev},s.prototype.get=function(f){for(var l=0,a=this.head;a!==null&&l<f;l++)a=a.next;if(l===f&&a!==null)return a.value},s.prototype.getReverse=function(f){for(var l=0,a=this.tail;a!==null&&l<f;l++)a=a.prev;if(l===f&&a!==null)return a.value},s.prototype.map=function(f,l){l=l||this;for(var a=new s,u=this.head;u!==null;)a.push(f.call(l,u.value,this)),u=u.next;return a},s.prototype.mapReverse=function(f,l){l=l||this;for(var a=new s,u=this.tail;u!==null;)a.push(f.call(l,u.value,this)),u=u.prev;return a},s.prototype.reduce=function(f,l){var a,u=this.head;if(arguments.length>1)a=l;else if(this.head)u=this.head.next,a=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var g=0;u!==null;g++)a=f(a,u.value,g),u=u.next;return a},s.prototype.reduceReverse=function(f,l){var a,u=this.tail;if(arguments.length>1)a=l;else if(this.tail)u=this.tail.prev,a=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var g=this.length-1;u!==null;g--)a=f(a,u.value,g),u=u.prev;return a},s.prototype.toArray=function(){for(var f=new Array(this.length),l=0,a=this.head;a!==null;l++)f[l]=a.value,a=a.next;return f},s.prototype.toArrayReverse=function(){for(var f=new Array(this.length),l=0,a=this.tail;a!==null;l++)f[l]=a.value,a=a.prev;return f},s.prototype.slice=function(f,l){l=l||this.length,l<0&&(l+=this.length),f=f||0,f<0&&(f+=this.length);var a=new s;if(l<f||l<0)return a;f<0&&(f=0),l>this.length&&(l=this.length);for(var u=0,g=this.head;g!==null&&u<f;u++)g=g.next;for(;g!==null&&u<l;u++,g=g.next)a.push(g.value);return a},s.prototype.sliceReverse=function(f,l){l=l||this.length,l<0&&(l+=this.length),f=f||0,f<0&&(f+=this.length);var a=new s;if(l<f||l<0)return a;f<0&&(f=0),l>this.length&&(l=this.length);for(var u=this.length,g=this.tail;g!==null&&u>l;u--)g=g.prev;for(;g!==null&&u>f;u--,g=g.prev)a.push(g.value);return a},s.prototype.splice=function(f,l,...a){f>this.length&&(f=this.length-1),f<0&&(f=this.length+f);for(var u=0,g=this.head;g!==null&&u<f;u++)g=g.next;for(var w=[],u=0;g&&u<l;u++)w.push(g.value),g=this.removeNode(g);g===null&&(g=this.tail),g!==this.head&&g!==this.tail&&(g=g.prev);for(var u=0;u<a.length;u++)g=c(this,g,a[u]);return w},s.prototype.reverse=function(){for(var f=this.head,l=this.tail,a=f;a!==null;a=a.prev){var u=a.prev;a.prev=a.next,a.next=u}return this.head=l,this.tail=f,this};function c(f,l,a){var u=l===f.head?new d(a,null,l,f):new d(a,l,l.next,f);return u.next===null&&(f.tail=u),u.prev===null&&(f.head=u),f.length++,u}function h(f,l){f.tail=new d(l,f.tail,null,f),f.head||(f.head=f.tail),f.length++}function p(f,l){f.head=new d(l,null,f.head,f),f.tail||(f.tail=f.head),f.length++}function d(f,l,a,u){if(!(this instanceof d))return new d(f,l,a,u);this.list=u,this.value=f,l?(l.next=this,this.prev=l):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}try{n("./iterator.js")(s)}catch{}},{"./iterator.js":83}],85:[function(n,i,o){var s=i.exports={},c,h;function p(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=p}catch{c=p}try{typeof clearTimeout=="function"?h=clearTimeout:h=d}catch{h=d}})();function f(S){if(c===setTimeout)return setTimeout(S,0);if((c===p||!c)&&setTimeout)return c=setTimeout,setTimeout(S,0);try{return c(S,0)}catch{try{return c.call(null,S,0)}catch{return c.call(this,S,0)}}}function l(S){if(h===clearTimeout)return clearTimeout(S);if((h===d||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(S);try{return h(S)}catch{try{return h.call(null,S)}catch{return h.call(this,S)}}}var a=[],u=!1,g,w=-1;function _(){!u||!g||(u=!1,g.length?a=g.concat(a):w=-1,a.length&&D())}function D(){if(!u){var S=f(_);u=!0;for(var O=a.length;O;){for(g=a,a=[];++w<O;)g&&g[w].run();w=-1,O=a.length}g=null,u=!1,l(S)}}s.nextTick=function(S){var O=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)O[N-1]=arguments[N];a.push(new E(S,O)),a.length===1&&!u&&f(D)};function E(S,O){this.fun=S,this.array=O}E.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function b(){}s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(S){return[]},s.binding=function(S){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(S){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],86:[function(n,i,o){(function(s){(function(){(function(c){var h=typeof o=="object"&&o&&!o.nodeType&&o,p=typeof i=="object"&&i&&!i.nodeType&&i,d=typeof s=="object"&&s;(d.global===d||d.window===d||d.self===d)&&(c=d);var f,l=2147483647,a=36,u=1,g=26,w=38,_=700,D=72,E=128,b="-",S=/^xn--/,O=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=a-u,T=Math.floor,P=String.fromCharCode,x;function q(G){throw new RangeError(H[G])}function L(G,W){for(var te=G.length,X=[];te--;)X[te]=W(G[te]);return X}function ae(G,W){var te=G.split("@"),X="";te.length>1&&(X=te[0]+"@",G=te[1]),G=G.replace(N,".");var ce=G.split("."),ne=L(ce,W).join(".");return X+ne}function ue(G){for(var W=[],te=0,X=G.length,ce,ne;te<X;)ce=G.charCodeAt(te++),ce>=55296&&ce<=56319&&te<X?(ne=G.charCodeAt(te++),(ne&64512)==56320?W.push(((ce&1023)<<10)+(ne&1023)+65536):(W.push(ce),te--)):W.push(ce);return W}function se(G){return L(G,function(W){var te="";return W>65535&&(W-=65536,te+=P(W>>>10&1023|55296),W=56320|W&1023),te+=P(W),te}).join("")}function J(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:a}function M(G,W){return G+22+75*(G<26)-((W!=0)<<5)}function R(G,W,te){var X=0;for(G=te?T(G/_):G>>1,G+=T(G/W);G>$*g>>1;X+=a)G=T(G/$);return T(X+($+1)*G/(G+w))}function B(G){var W=[],te=G.length,X,ce=0,ne=E,U=D,k,K,ie,F,A,V,Y,Z,C;for(k=G.lastIndexOf(b),k<0&&(k=0),K=0;K<k;++K)G.charCodeAt(K)>=128&&q("not-basic"),W.push(G.charCodeAt(K));for(ie=k>0?k+1:0;ie<te;){for(F=ce,A=1,V=a;ie>=te&&q("invalid-input"),Y=J(G.charCodeAt(ie++)),(Y>=a||Y>T((l-ce)/A))&&q("overflow"),ce+=Y*A,Z=V<=U?u:V>=U+g?g:V-U,!(Y<Z);V+=a)C=a-Z,A>T(l/C)&&q("overflow"),A*=C;X=W.length+1,U=R(ce-F,X,F==0),T(ce/X)>l-ne&&q("overflow"),ne+=T(ce/X),ce%=X,W.splice(ce++,0,ne)}return se(W)}function z(G){var W,te,X,ce,ne,U,k,K,ie,F,A,V=[],Y,Z,C,v;for(G=ue(G),Y=G.length,W=E,te=0,ne=D,U=0;U<Y;++U)A=G[U],A<128&&V.push(P(A));for(X=ce=V.length,ce&&V.push(b);X<Y;){for(k=l,U=0;U<Y;++U)A=G[U],A>=W&&A<k&&(k=A);for(Z=X+1,k-W>T((l-te)/Z)&&q("overflow"),te+=(k-W)*Z,W=k,U=0;U<Y;++U)if(A=G[U],A<W&&++te>l&&q("overflow"),A==W){for(K=te,ie=a;F=ie<=ne?u:ie>=ne+g?g:ie-ne,!(K<F);ie+=a)v=K-F,C=a-F,V.push(P(M(F+v%C,0))),K=T(v/C);V.push(P(M(K,0))),ne=R(te,Z,X==ce),te=0,++X}++te,++W}return V.join("")}function oe(G){return ae(G,function(W){return S.test(W)?B(W.slice(4).toLowerCase()):W})}function re(G){return ae(G,function(W){return O.test(W)?"xn--"+z(W):W})}if(f={version:"1.4.1",ucs2:{decode:ue,encode:se},decode:B,encode:z,toASCII:re,toUnicode:oe},typeof e=="function"&&typeof e.amd=="object"&&e.amd)e("punycode",function(){return f});else if(h&&p)if(i.exports==h)p.exports=f;else for(x in f)f.hasOwnProperty(x)&&(h[x]=f[x]);else c.punycode=f})(this)}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],87:[function(n,i,o){"use strict";function s(h,p){return Object.prototype.hasOwnProperty.call(h,p)}i.exports=function(h,p,d,f){p=p||"&",d=d||"=";var l={};if(typeof h!="string"||h.length===0)return l;var a=/\+/g;h=h.split(p);var u=1e3;f&&typeof f.maxKeys=="number"&&(u=f.maxKeys);var g=h.length;u>0&&g>u&&(g=u);for(var w=0;w<g;++w){var _=h[w].replace(a,"%20"),D=_.indexOf(d),E,b,S,O;D>=0?(E=_.substr(0,D),b=_.substr(D+1)):(E=_,b=""),S=decodeURIComponent(E),O=decodeURIComponent(b),s(l,S)?c(l[S])?l[S].push(O):l[S]=[l[S],O]:l[S]=O}return l};var c=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}},{}],88:[function(n,i,o){"use strict";var s=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};i.exports=function(d,f,l,a){return f=f||"&",l=l||"=",d===null&&(d=void 0),typeof d=="object"?h(p(d),function(u){var g=encodeURIComponent(s(u))+l;return c(d[u])?h(d[u],function(w){return g+encodeURIComponent(s(w))}).join(f):g+encodeURIComponent(s(d[u]))}).join(f):a?encodeURIComponent(s(a))+l+encodeURIComponent(s(d)):""};var c=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function h(d,f){if(d.map)return d.map(f);for(var l=[],a=0;a<d.length;a++)l.push(f(d[a],a));return l}var p=Object.keys||function(d){var f=[];for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&f.push(l);return f}},{}],89:[function(n,i,o){"use strict";o.decode=o.parse=n("./decode"),o.encode=o.stringify=n("./encode")},{"./decode":87,"./encode":88}],90:[function(n,i,o){"use strict";var s=n("punycode"),c=n("./util");o.parse=H,o.resolve=T,o.resolveObject=P,o.format=$,o.Url=h;function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(l),u=["'"].concat(a),g=["%","/","?",";","#"].concat(u),w=["/","?","#"],_=255,D=/^[+a-z0-9A-Z_-]{0,63}$/,E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},N=n("querystring");function H(x,q,L){if(x&&c.isObject(x)&&x instanceof h)return x;var ae=new h;return ae.parse(x,q,L),ae}h.prototype.parse=function(x,q,L){if(!c.isString(x))throw new TypeError("Parameter 'url' must be a string, not "+typeof x);var ae=x.indexOf("?"),ue=ae!==-1&&ae<x.indexOf("#")?"?":"#",se=x.split(ue),J=/\\/g;se[0]=se[0].replace(J,"/"),x=se.join(ue);var M=x;if(M=M.trim(),!L&&x.split("#").length===1){var R=f.exec(M);if(R)return this.path=M,this.href=M,this.pathname=R[1],R[2]?(this.search=R[2],q?this.query=N.parse(this.search.substr(1)):this.query=this.search.substr(1)):q&&(this.search="",this.query={}),this}var B=p.exec(M);if(B){B=B[0];var z=B.toLowerCase();this.protocol=z,M=M.substr(B.length)}if(L||B||M.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe=M.substr(0,2)==="//";oe&&!(B&&S[B])&&(M=M.substr(2),this.slashes=!0)}if(!S[B]&&(oe||B&&!O[B])){for(var re=-1,G=0;G<w.length;G++){var W=M.indexOf(w[G]);W!==-1&&(re===-1||W<re)&&(re=W)}var te,X;re===-1?X=M.lastIndexOf("@"):X=M.lastIndexOf("@",re),X!==-1&&(te=M.slice(0,X),M=M.slice(X+1),this.auth=decodeURIComponent(te)),re=-1;for(var G=0;G<g.length;G++){var W=M.indexOf(g[G]);W!==-1&&(re===-1||W<re)&&(re=W)}re===-1&&(re=M.length),this.host=M.slice(0,re),M=M.slice(re),this.parseHost(),this.hostname=this.hostname||"";var ce=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ce)for(var ne=this.hostname.split(/\./),G=0,U=ne.length;G<U;G++){var k=ne[G];if(k&&!k.match(D)){for(var K="",ie=0,F=k.length;ie<F;ie++)k.charCodeAt(ie)>127?K+="x":K+=k[ie];if(!K.match(D)){var A=ne.slice(0,G),V=ne.slice(G+1),Y=k.match(E);Y&&(A.push(Y[1]),V.unshift(Y[2])),V.length&&(M="/"+V.join(".")+M),this.hostname=A.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),ce||(this.hostname=s.toASCII(this.hostname));var Z=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+Z,this.href+=this.host,ce&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),M[0]!=="/"&&(M="/"+M))}if(!b[z])for(var G=0,U=u.length;G<U;G++){var v=u[G];if(M.indexOf(v)!==-1){var m=encodeURIComponent(v);m===v&&(m=escape(v)),M=M.split(v).join(m)}}var y=M.indexOf("#");y!==-1&&(this.hash=M.substr(y),M=M.slice(0,y));var I=M.indexOf("?");if(I!==-1?(this.search=M.substr(I),this.query=M.substr(I+1),q&&(this.query=N.parse(this.query)),M=M.slice(0,I)):q&&(this.search="",this.query={}),M&&(this.pathname=M),O[z]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",j=this.search||"";this.path=Z+j}return this.href=this.format(),this};function $(x){return c.isString(x)&&(x=H(x)),x instanceof h?x.format():h.prototype.format.call(x)}h.prototype.format=function(){var x=this.auth||"";x&&(x=encodeURIComponent(x),x=x.replace(/%3A/i,":"),x+="@");var q=this.protocol||"",L=this.pathname||"",ae=this.hash||"",ue=!1,se="";this.host?ue=x+this.host:this.hostname&&(ue=x+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ue+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(se=N.stringify(this.query));var J=this.search||se&&"?"+se||"";return q&&q.substr(-1)!==":"&&(q+=":"),this.slashes||(!q||O[q])&&ue!==!1?(ue="//"+(ue||""),L&&L.charAt(0)!=="/"&&(L="/"+L)):ue||(ue=""),ae&&ae.charAt(0)!=="#"&&(ae="#"+ae),J&&J.charAt(0)!=="?"&&(J="?"+J),L=L.replace(/[?#]/g,function(M){return encodeURIComponent(M)}),J=J.replace("#","%23"),q+ue+L+J+ae};function T(x,q){return H(x,!1,!0).resolve(q)}h.prototype.resolve=function(x){return this.resolveObject(H(x,!1,!0)).format()};function P(x,q){return x?H(x,!1,!0).resolveObject(q):q}h.prototype.resolveObject=function(x){if(c.isString(x)){var q=new h;q.parse(x,!1,!0),x=q}for(var L=new h,ae=Object.keys(this),ue=0;ue<ae.length;ue++){var se=ae[ue];L[se]=this[se]}if(L.hash=x.hash,x.href==="")return L.href=L.format(),L;if(x.slashes&&!x.protocol){for(var J=Object.keys(x),M=0;M<J.length;M++){var R=J[M];R!=="protocol"&&(L[R]=x[R])}return O[L.protocol]&&L.hostname&&!L.pathname&&(L.path=L.pathname="/"),L.href=L.format(),L}if(x.protocol&&x.protocol!==L.protocol){if(!O[x.protocol]){for(var B=Object.keys(x),z=0;z<B.length;z++){var oe=B[z];L[oe]=x[oe]}return L.href=L.format(),L}if(L.protocol=x.protocol,!x.host&&!S[x.protocol]){for(var U=(x.pathname||"").split("/");U.length&&!(x.host=U.shift()););x.host||(x.host=""),x.hostname||(x.hostname=""),U[0]!==""&&U.unshift(""),U.length<2&&U.unshift(""),L.pathname=U.join("/")}else L.pathname=x.pathname;if(L.search=x.search,L.query=x.query,L.host=x.host||"",L.auth=x.auth,L.hostname=x.hostname||x.host,L.port=x.port,L.pathname||L.search){var re=L.pathname||"",G=L.search||"";L.path=re+G}return L.slashes=L.slashes||x.slashes,L.href=L.format(),L}var W=L.pathname&&L.pathname.charAt(0)==="/",te=x.host||x.pathname&&x.pathname.charAt(0)==="/",X=te||W||L.host&&x.pathname,ce=X,ne=L.pathname&&L.pathname.split("/")||[],U=x.pathname&&x.pathname.split("/")||[],k=L.protocol&&!O[L.protocol];if(k&&(L.hostname="",L.port=null,L.host&&(ne[0]===""?ne[0]=L.host:ne.unshift(L.host)),L.host="",x.protocol&&(x.hostname=null,x.port=null,x.host&&(U[0]===""?U[0]=x.host:U.unshift(x.host)),x.host=null),X=X&&(U[0]===""||ne[0]==="")),te)L.host=x.host||x.host===""?x.host:L.host,L.hostname=x.hostname||x.hostname===""?x.hostname:L.hostname,L.search=x.search,L.query=x.query,ne=U;else if(U.length)ne||(ne=[]),ne.pop(),ne=ne.concat(U),L.search=x.search,L.query=x.query;else if(!c.isNullOrUndefined(x.search)){if(k){L.hostname=L.host=ne.shift();var K=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;K&&(L.auth=K.shift(),L.host=L.hostname=K.shift())}return L.search=x.search,L.query=x.query,(!c.isNull(L.pathname)||!c.isNull(L.search))&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.href=L.format(),L}if(!ne.length)return L.pathname=null,L.search?L.path="/"+L.search:L.path=null,L.href=L.format(),L;for(var ie=ne.slice(-1)[0],F=(L.host||x.host||ne.length>1)&&(ie==="."||ie==="..")||ie==="",A=0,V=ne.length;V>=0;V--)ie=ne[V],ie==="."?ne.splice(V,1):ie===".."?(ne.splice(V,1),A++):A&&(ne.splice(V,1),A--);if(!X&&!ce)for(;A--;A)ne.unshift("..");X&&ne[0]!==""&&(!ne[0]||ne[0].charAt(0)!=="/")&&ne.unshift(""),F&&ne.join("/").substr(-1)!=="/"&&ne.push("");var Y=ne[0]===""||ne[0]&&ne[0].charAt(0)==="/";if(k){L.hostname=L.host=Y?"":ne.length?ne.shift():"";var K=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;K&&(L.auth=K.shift(),L.host=L.hostname=K.shift())}return X=X||L.host&&ne.length,X&&!Y&&ne.unshift(""),ne.length?L.pathname=ne.join("/"):(L.pathname=null,L.path=null),(!c.isNull(L.pathname)||!c.isNull(L.search))&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.auth=x.auth||L.auth,L.slashes=L.slashes||x.slashes,L.href=L.format(),L},h.prototype.parseHost=function(){var x=this.host,q=d.exec(x);q&&(q=q[0],q!==":"&&(this.port=q.substr(1)),x=x.substr(0,x.length-q.length)),x&&(this.hostname=x)}},{"./util":91,punycode:86,querystring:89}],91:[function(n,i,o){"use strict";i.exports={isString:function(s){return typeof s=="string"},isObject:function(s){return typeof s=="object"&&s!==null},isNull:function(s){return s===null},isNullOrUndefined:function(s){return s==null}}},{}]},{},[17])(17)})});var Js=null;var vi=1,wi=Symbol("SIGNAL");function ve(e){let t=Js;return Js=e,t}var Xs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yf(e){if(!(Di(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===vi)){if(!e.producerMustRecompute(e)&&!bi(e)){e.dirty=!1,e.lastCleanEpoch=vi;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=vi}}function ea(e){return e&&(e.nextProducerIndex=0),ve(e)}function ta(e,t){if(ve(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Di(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)_i(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function bi(e){Qn(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(yf(r),n!==r.version))return!0}return!1}function na(e){if(Qn(e),Di(e))for(let t=0;t<e.producerNode.length;t++)_i(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function _i(e,t){if(vf(e),Qn(e),e.liveConsumerNode.length===1)for(let n=0;n<e.producerNode.length;n++)_i(e.producerNode[n],e.producerIndexOfThis[n]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Qn(i),i.producerIndexOfThis[n]=t}}function Di(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Qn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function vf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function wf(){throw new Error}var bf=wf;function ra(e){bf=e}function de(e){return typeof e=="function"}function Kn(e){let r=e(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Zn=Kn(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Dn(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Ae=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(de(n))try{n()}catch(o){t=o instanceof Zn?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ia(o)}catch(s){t=t??[],s instanceof Zn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Zn(t)}}add(t){var r;if(t&&t!==this)if(this.closed)ia(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Dn(r,t)}remove(t){let{_finalizers:r}=this;r&&Dn(r,t),t instanceof e&&t._removeParent(this)}};Ae.EMPTY=(()=>{let e=new Ae;return e.closed=!0,e})();var Ei=Ae.EMPTY;function Jn(e){return e instanceof Ae||e&&"closed"in e&&de(e.remove)&&de(e.add)&&de(e.unsubscribe)}function ia(e){de(e)?e():e.unsubscribe()}var Qe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wt={setTimeout(e,t,...r){let{delegate:n}=Wt;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=Wt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Xn(e){Wt.setTimeout(()=>{let{onUnhandledError:t}=Qe;if(t)t(e);else throw e})}function Ci(){}var oa=Ii("C",void 0,void 0);function sa(e){return Ii("E",void 0,e)}function aa(e){return Ii("N",e,void 0)}function Ii(e,t,r){return{kind:e,value:t,error:r}}var Ct=null;function Gt(e){if(Qe.useDeprecatedSynchronousErrorHandling){let t=!Ct;if(t&&(Ct={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:n}=Ct;if(Ct=null,r)throw n}}else e()}function ua(e){Qe.useDeprecatedSynchronousErrorHandling&&Ct&&(Ct.errorThrown=!0,Ct.error=e)}var It=class extends Ae{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Jn(t)&&t.add(this)):this.destination=Ef}static create(t,r,n){return new qt(t,r,n)}next(t){this.isStopped?Mi(aa(t),this):this._next(t)}error(t){this.isStopped?Mi(sa(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Mi(oa,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_f=Function.prototype.bind;function Si(e,t){return _f.call(e,t)}var xi=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){er(n)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){er(n)}else er(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){er(r)}}},qt=class extends It{constructor(t,r,n){super();let i;if(de(t)||!t)i={next:t??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&Qe.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Si(t.next,o),error:t.error&&Si(t.error,o),complete:t.complete&&Si(t.complete,o)}):i=t}this.destination=new xi(i)}};function er(e){Qe.useDeprecatedSynchronousErrorHandling?ua(e):Xn(e)}function Df(e){throw e}function Mi(e,t){let{onStoppedNotification:r}=Qe;r&&Wt.setTimeout(()=>r(e,t))}var Ef={closed:!0,next:Ci,error:Df,complete:Ci};var zt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tr(e){return e}function ca(e){return e.length===0?tr:e.length===1?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}var be=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=If(r)?r:new qt(r,n,i);return Gt(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=la(n),new n((i,o)=>{let s=new qt({next:c=>{try{r(c)}catch(h){o(h),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[zt](){return this}pipe(...r){return ca(r)(this)}toPromise(r){return r=la(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return e.create=t=>new e(t),e})();function la(e){var t;return(t=e??Qe.Promise)!==null&&t!==void 0?t:Promise}function Cf(e){return e&&de(e.next)&&de(e.error)&&de(e.complete)}function If(e){return e&&e instanceof It||Cf(e)&&Jn(e)}function Ti(e){return de(e?.lift)}function Ue(e){return t=>{if(Ti(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ve(e,t,r,n,i){return new Ai(e,t,r,n,i)}var Ai=class extends It{constructor(t,r,n,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(c){try{r(c)}catch(h){t.error(h)}}:super._next,this._error=i?function(c){try{i(c)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function En(){return Ue((e,t)=>{let r=null;e._refCount++;let n=Ve(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}var nr=class extends be{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Ti(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ae;let r=this.getSubject();t.add(this.source.subscribe(Ve(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ae.EMPTY)}return t}refCount(){return En()(this)}};var fa=Kn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class e extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new rr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new fa}next(r){Gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?Ei:(this.currentObservers=null,o.push(r),new Ae(()=>{this.currentObservers=null,Dn(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new be;return r.source=this,r}}return e.create=(t,r)=>new rr(t,r),e})(),rr=class extends Fe{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,t)}error(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&n!==void 0?n:Ei}};var St=class extends Fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var Ni={now(){return(Ni.delegate||Date).now()},delegate:void 0};var ir=class extends Fe{constructor(t=1/0,r=1/0,n=Ni){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(t),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){let{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),c=0;for(let h=1;h<n.length&&n[h]<=s;h+=2)c=h;c&&n.splice(0,c+1)}}};var or=new be(e=>e.complete());function da(e){return e&&de(e.schedule)}function Oi(e){return e[e.length-1]}function ha(e){return de(Oi(e))?e.pop():void 0}function pa(e){return da(Oi(e))?e.pop():void 0}function ga(e,t){return typeof Oi(e)=="number"?e.pop():t}function ya(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(d){try{p(n.next(d))}catch(f){s(f)}}function h(d){try{p(n.throw(d))}catch(f){s(f)}}function p(d){d.done?o(d.value):i(d.value).then(c,h)}p((n=n.apply(e,t||[])).next())})}function ma(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mt(e){return this instanceof Mt?(this.v=e,this):new Mt(e)}function va(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(l){n[l]&&(i[l]=function(a){return new Promise(function(u,g){o.push([l,a,u,g])>1||c(l,a)})})}function c(l,a){try{h(n[l](a))}catch(u){f(o[0][3],u)}}function h(l){l.value instanceof Mt?Promise.resolve(l.value.v).then(p,d):f(o[0][2],l)}function p(l){c("next",l)}function d(l){c("throw",l)}function f(l,a){l(a),o.shift(),o.length&&c(o[0][0],o[0][1])}}function wa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ma=="function"?ma(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(c,h){s=e[o](s),i(c,h,s.done,s.value)})}}function i(o,s,c,h){Promise.resolve(h).then(function(p){o({value:p,done:c})},s)}}var sr=e=>e&&typeof e.length=="number"&&typeof e!="function";function ar(e){return de(e?.then)}function ur(e){return de(e[zt])}function cr(e){return Symbol.asyncIterator&&de(e?.[Symbol.asyncIterator])}function lr(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fr=Sf();function dr(e){return de(e?.[fr])}function hr(e){return va(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:n,done:i}=yield Mt(r.read());if(i)return yield Mt(void 0);yield yield Mt(n)}}finally{r.releaseLock()}})}function pr(e){return de(e?.getReader)}function Oe(e){if(e instanceof be)return e;if(e!=null){if(ur(e))return Mf(e);if(sr(e))return xf(e);if(ar(e))return Tf(e);if(cr(e))return ba(e);if(dr(e))return Af(e);if(pr(e))return Nf(e)}throw lr(e)}function Mf(e){return new be(t=>{let r=e[zt]();if(de(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xf(e){return new be(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Tf(e){return new be(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,Xn)})}function Af(e){return new be(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function ba(e){return new be(t=>{Of(e,t).catch(r=>t.error(r))})}function Nf(e){return ba(hr(e))}function Of(e,t){var r,n,i,o;return ya(this,void 0,void 0,function*(){try{for(r=wa(e);n=yield r.next(),!n.done;){let s=n.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}t.complete()})}function We(e,t,r,n=0,i=!1){let o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function gr(e,t=0){return Ue((r,n)=>{r.subscribe(Ve(n,i=>We(n,e,()=>n.next(i),t),()=>We(n,e,()=>n.complete(),t),i=>We(n,e,()=>n.error(i),t)))})}function mr(e,t=0){return Ue((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function _a(e,t){return Oe(e).pipe(mr(t),gr(t))}function Da(e,t){return Oe(e).pipe(mr(t),gr(t))}function Ea(e,t){return new be(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function Ca(e,t){return new be(r=>{let n;return We(r,t,()=>{n=e[fr](),We(r,t,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>de(n?.return)&&n.return()})}function yr(e,t){if(!e)throw new Error("Iterable cannot be null");return new be(r=>{We(r,t,()=>{let n=e[Symbol.asyncIterator]();We(r,t,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Ia(e,t){return yr(hr(e),t)}function Sa(e,t){if(e!=null){if(ur(e))return _a(e,t);if(sr(e))return Ea(e,t);if(ar(e))return Da(e,t);if(cr(e))return yr(e,t);if(dr(e))return Ca(e,t);if(pr(e))return Ia(e,t)}throw lr(e)}function Cn(e,t){return t?Sa(e,t):Oe(e)}function lt(e,t){return Ue((r,n)=>{let i=0;r.subscribe(Ve(n,o=>{n.next(e.call(t,o,i++))}))})}var{isArray:Rf}=Array;function Pf(e,t){return Rf(t)?e(...t):e(t)}function Ma(e){return lt(t=>Pf(e,t))}var{isArray:Ff}=Array,{getPrototypeOf:kf,prototype:Lf,keys:Vf}=Object;function xa(e){if(e.length===1){let t=e[0];if(Ff(t))return{args:t,keys:null};if(jf(t)){let r=Vf(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}function jf(e){return e&&typeof e=="object"&&kf(e)===Lf}function Ta(e,t){return e.reduce((r,n,i)=>(r[n]=t[i],r),{})}function Aa(e,t,r,n,i,o,s,c){let h=[],p=0,d=0,f=!1,l=()=>{f&&!h.length&&!p&&t.complete()},a=g=>p<n?u(g):h.push(g),u=g=>{o&&t.next(g),p++;let w=!1;Oe(r(g,d++)).subscribe(Ve(t,_=>{i?.(_),o?a(_):t.next(_)},()=>{w=!0},void 0,()=>{if(w)try{for(p--;h.length&&p<n;){let _=h.shift();s?We(t,s,()=>u(_)):u(_)}l()}catch(_){t.error(_)}}))};return e.subscribe(Ve(t,a,()=>{f=!0,l()})),()=>{c?.()}}function Ri(e,t,r=1/0){return de(t)?Ri((n,i)=>lt((o,s)=>t(n,o,i,s))(Oe(e(n,i))),r):(typeof t=="number"&&(r=t),Ue((n,i)=>Aa(n,i,e,r)))}function Na(e=1/0){return Ri(tr,e)}function Pi(...e){let t=ha(e),{args:r,keys:n}=xa(e),i=new be(o=>{let{length:s}=r;if(!s){o.complete();return}let c=new Array(s),h=s,p=s;for(let d=0;d<s;d++){let f=!1;Oe(r[d]).subscribe(Ve(o,l=>{f||(f=!0,p--),c[d]=l},()=>h--,void 0,()=>{(!h||!f)&&(p||o.next(n?Ta(n,c):c),o.complete())}))}});return t?i.pipe(Ma(t)):i}function Fi(...e){let t=pa(e),r=ga(e,1/0),n=e;return n.length?n.length===1?Oe(n[0]):Na(r)(Cn(n,t)):or}function ki(e,t){return Ue((r,n)=>{let i=0;r.subscribe(Ve(n,o=>e.call(t,o,i++)&&n.next(o)))})}function Li(e,t){return new be(r=>{let n=e(),i=t(n);return(i?Oe(i):or).subscribe(r),()=>{n&&n.unsubscribe()}})}function Oa(e){return new be(t=>e.subscribe(t))}var Bf={connector:()=>new Fe};function vr(e,t=Bf){let{connector:r}=t;return Ue((n,i)=>{let o=r();Oe(e(Oa(o))).subscribe(i),i.add(n.subscribe(o))})}function wr(e,t){let r=de(e)?e:()=>e;return de(t)?vr(t,{connector:r}):n=>new nr(n,r)}function Vi(e){return e?t=>vr(e)(t):t=>wr(new Fe)(t)}function ji(e,t,r,n){r&&!de(r)&&(n=r);let i=de(r)?r:void 0;return o=>wr(new ir(e,t,n),i)(o)}var Uf="https://g.co/ng/security#xss",we=class extends Error{constructor(t,r){super($o(t,r)),this.code=t}};function $o(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function qr(e){return{toString:e}.toString()}var In=globalThis;function Ce(e){for(let t in e)if(e[t]===Ce)return t;throw Error("Could not find renamed property on target object.")}function Hf(e,t){for(let r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function qe(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(qe).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r===-1?t:t.substring(0,r)}function Ra(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var $f=Ce({__forward_ref__:Ce});function kn(e){return e.__forward_ref__=kn,e.toString=function(){return qe(this())},e}function je(e){return gu(e)?e():e}function gu(e){return typeof e=="function"&&e.hasOwnProperty($f)&&e.__forward_ref__===kn}function Me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ln(e){return{providers:e.providers||[],imports:e.imports||[]}}function Wo(e){return Pa(e,mu)||Pa(e,yu)}function Pa(e,t){return e.hasOwnProperty(t)?e[t]:null}function Wf(e){let t=e&&(e[mu]||e[yu]);return t||null}function Fa(e){return e&&(e.hasOwnProperty(ka)||e.hasOwnProperty(Gf))?e[ka]:null}var mu=Ce({\u0275prov:Ce}),ka=Ce({\u0275inj:Ce}),yu=Ce({ngInjectableDef:Ce}),Gf=Ce({ngInjectorDef:Ce}),ye=class{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=Me({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vu(e){return e&&!!e.\u0275providers}var qf=Ce({\u0275cmp:Ce}),zf=Ce({\u0275dir:Ce}),Yf=Ce({\u0275pipe:Ce});var xr=Ce({\u0275fac:Ce}),Sn=Ce({__NG_ELEMENT_ID__:Ce}),La=Ce({__NG_ENV_ID__:Ce});function Qf(e){return typeof e=="string"?e:e==null?"":String(e)}function Kf(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Qf(e)}function Zf(e,t){let r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new we(-200,e)}function Go(e,t){throw new we(-201,!1)}var ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ge||{}),to;function wu(){return to}function tt(e){let t=to;return to=e,t}function bu(e,t,r){let n=Wo(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&ge.Optional)return null;if(t!==void 0)return t;Go(e,"Injector")}var Jf={},Mn=Jf,Xf="__NG_DI_FLAG__",Tr="ngTempTokenPath",ed="ngTokenPath",td=/\n/gm,nd="\u0275",Va="__source",Jt;function rd(){return Jt}function Yt(e){let t=Jt;return Jt=e,t}function id(e,t=ge.Default){if(Jt===void 0)throw new we(-203,!1);return Jt===null?bu(e,void 0,t):Jt.get(e,t&ge.Optional?null:void 0,t)}function _e(e,t=ge.Default){return(wu()||id)(je(e),t)}function Ne(e,t=ge.Default){return _e(e,zr(t))}function zr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function no(e){let t=[];for(let r=0;r<e.length;r++){let n=je(e[r]);if(Array.isArray(n)){if(n.length===0)throw new we(900,!1);let i,o=ge.Default;for(let s=0;s<n.length;s++){let c=n[s],h=od(c);typeof h=="number"?h===-1?i=c.token:o|=h:i=c}t.push(_e(i,o))}else t.push(_e(n))}return t}function od(e){return e[Xf]}function sd(e,t,r,n){let i=e[Tr];throw t[Va]&&i.unshift(t[Va]),e.message=ad(`
`+e.message,i,r,n),e[ed]=i,e[Tr]=null,e}function ad(e,t,r,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==nd?e.slice(2):e;let i=qe(t);if(Array.isArray(t))i=t.map(qe).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let c=t[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):qe(c)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(td,`
  `)}`}function en(e,t){let r=e.hasOwnProperty(xr);return r?e[xr]:null}function ud(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=t[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}function cd(e){return e.flat(Number.POSITIVE_INFINITY)}function qo(e,t){e.forEach(r=>Array.isArray(r)?qo(r,t):t(r))}function _u(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ar(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ld(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(i===1)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=r,e[t+1]=n}}function fd(e,t,r){let n=Ln(e,t);return n>=0?e[n|1]=r:(n=~n,ld(e,n,t,r)),n}function Bi(e,t){let r=Ln(e,t);if(r>=0)return e[r|1]}function Ln(e,t){return dd(e,t,1)}function dd(e,t,r){let n=0,i=e.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=e[o<<r];if(t===s)return o<<r;s>t?i=o:n=o+1}return~(i<<r)}var tn={},Ge=[],xn=new ye(""),Du=new ye("",-1),Eu=new ye(""),Nr=class{get(t,r=Mn){if(r===Mn){let n=new Error(`NullInjectorError: No provider for ${qe(t)}!`);throw n.name="NullInjectorError",n}return r}},Cu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Cu||{}),it=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(it||{}),ot=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ot||{});function hd(e,t,r){let n=e.length;for(;;){let i=e.indexOf(t,r);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}r=i+1}}function ro(e,t,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],c=r[n++];e.setAttribute(t,s,c,o)}else{let o=i,s=r[++n];gd(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),n++}}return n}function pd(e){return e===3||e===4||e===6}function gd(e){return e.charCodeAt(0)===64}function Tn(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){let i=t[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?ja(e,r,i,null,t[++n]):ja(e,r,i,null,null))}}return e}function ja(e,t,r,n,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let c=e[o++];if(typeof c=="number"){if(c===t){s=-1;break}else if(c>t){s=o-1;break}}}for(;o<e.length;){let c=e[o];if(typeof c=="number")break;if(c===r){if(n===null){i!==null&&(e[o+1]=i);return}else if(n===e[o+1]){e[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,r),n!==null&&e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}var Iu="ng-template";function md(e,t,r,n){let i=0;if(n){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&hd(t[i+1].toLowerCase(),r,0)!==-1)return!0}else if(zo(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===r)return!0}return!1}function zo(e){return e.type===4&&e.value!==Iu}function yd(e,t,r){let n=e.type===4&&!r?Iu:e.value;return t===n}function vd(e,t,r){let n=4,i=e.attrs,o=i!==null?_d(i):0,s=!1;for(let c=0;c<t.length;c++){let h=t[c];if(typeof h=="number"){if(!s&&!Ke(n)&&!Ke(h))return!1;if(s&&Ke(h))continue;s=!1,n=h|n&1;continue}if(!s)if(n&4){if(n=2|n&1,h!==""&&!yd(e,h,r)||h===""&&t.length===1){if(Ke(n))return!1;s=!0}}else if(n&8){if(i===null||!md(e,i,h,r)){if(Ke(n))return!1;s=!0}}else{let p=t[++c],d=wd(h,i,zo(e),r);if(d===-1){if(Ke(n))return!1;s=!0;continue}if(p!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),n&2&&p!==f){if(Ke(n))return!1;s=!0}}}}return Ke(n)||s}function Ke(e){return(e&1)===0}function wd(e,t,r,n){if(t===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=t[++i];for(;typeof c=="string";)c=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Dd(t,e)}function bd(e,t,r=!1){for(let n=0;n<t.length;n++)if(vd(e,t[n],r))return!0;return!1}function _d(e){for(let t=0;t<e.length;t++){let r=e[t];if(pd(r))return t}return e.length}function Dd(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let n=e[r];if(typeof n=="number")return-1;if(n===t)return r;r++}return-1}function Ba(e,t){return e?":not("+t.trim()+")":t}function Ed(e){let t=e[0],r=1,n=2,i="",o=!1;for(;r<e.length;){let s=e[r];if(typeof s=="string")if(n&2){let c=e[++r];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!Ke(s)&&(t+=Ba(o,i),i=""),n=s,o=o||!Ke(n);r++}return i!==""&&(t+=Ba(o,i)),t}function Cd(e){return e.map(Ed).join(",")}function Id(e){let t=[],r=[],n=1,i=2;for(;n<e.length;){let o=e[n];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++n]):i===8&&r.push(o);else{if(!Ke(i))break;i=o}n++}return{attrs:t,classes:r}}function Su(e){return qr(()=>{let t=Tu(e),r=Pe(xe({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Cu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||it.Emulated,styles:e.styles||Ge,_:null,schemas:e.schemas||null,tView:null,id:""});Au(r);let n=e.dependencies;return r.directiveDefs=Ha(n,!1),r.pipeDefs=Ha(n,!0),r.id=Td(r),r})}function Sd(e){return nn(e)||Mu(e)}function Md(e){return e!==null}function fn(e){return qr(()=>({type:e.type,bootstrap:e.bootstrap||Ge,declarations:e.declarations||Ge,imports:e.imports||Ge,exports:e.exports||Ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ua(e,t){if(e==null)return tn;let r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],o,s,c=ot.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(r[o]=c!==ot.None?[n,c]:n,t[o]=s):r[o]=n}return r}function dn(e){return qr(()=>{let t=Tu(e);return Au(t),t})}function nn(e){return e[qf]||null}function Mu(e){return e[zf]||null}function xu(e){return e[Yf]||null}function xd(e){let t=nn(e)||Mu(e)||xu(e);return t!==null?t.standalone:!1}function Tu(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||tn,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ge,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ua(e.inputs,t),outputs:Ua(e.outputs),debugInfo:null}}function Au(e){e.features?.forEach(t=>t(e))}function Ha(e,t){if(!e)return null;let r=t?xu:Sd;return()=>(typeof e=="function"?e():e).map(n=>r(n)).filter(Md)}function Td(e){let t=0,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of r)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Nu(e){return{\u0275providers:e}}function Yo(...e){return{\u0275providers:Ou(!0,e),\u0275fromNgModule:!0}}function Ou(e,...t){let r=[],n=new Set,i,o=s=>{r.push(s)};return qo(t,s=>{let c=s;io(c,o,[],n)&&(i||=[],i.push(c))}),i!==void 0&&Ru(i,o),r}function Ru(e,t){for(let r=0;r<e.length;r++){let{ngModule:n,providers:i}=e[r];Qo(i,o=>{t(o,n)})}}function io(e,t,r,n){if(e=je(e),!e)return!1;let i=null,o=Fa(e),s=!o&&nn(e);if(!o&&!s){let h=e.ngModule;if(o=Fa(h),o)i=h;else return!1}else{if(s&&!s.standalone)return!1;i=e}let c=n.has(i);if(s){if(c)return!1;if(n.add(i),s.dependencies){let h=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let p of h)io(p,t,r,n)}}else if(o){if(o.imports!=null&&!c){n.add(i);let p;try{qo(o.imports,d=>{io(d,t,r,n)&&(p||=[],p.push(d))})}finally{}p!==void 0&&Ru(p,t)}if(!c){let p=en(i)||(()=>new i);t({provide:i,useFactory:p,deps:Ge},i),t({provide:Eu,useValue:i,multi:!0},i),t({provide:xn,useValue:()=>_e(i),multi:!0},i)}let h=o.providers;if(h!=null&&!c){let p=e;Qo(h,d=>{t(d,p)})}}else return!1;return i!==e&&e.providers!==void 0}function Qo(e,t){for(let r of e)vu(r)&&(r=r.\u0275providers),Array.isArray(r)?Qo(r,t):t(r)}var Ad=Ce({provide:String,useValue:Ce});function Pu(e){return e!==null&&typeof e=="object"&&Ad in e}function Nd(e){return!!(e&&e.useExisting)}function Od(e){return!!(e&&e.useFactory)}function rn(e){return typeof e=="function"}function Rd(e){return!!e.useClass}var Yr=new ye(""),Dr={},Pd={},Ui;function Ko(){return Ui===void 0&&(Ui=new Nr),Ui}var wt=class{},Or=class extends wt{get destroyed(){return this._destroyed}constructor(t,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,so(t,s=>this.processProvider(s)),this.records.set(Du,Qt(void 0,this)),i.has("environment")&&this.records.set(wt,Qt(void 0,this));let o=this.records.get(Yr);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Eu,Ge,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let r=Yt(this),n=tt(void 0),i;try{return t()}finally{Yt(r),tt(n)}}get(t,r=Mn,n=ge.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(La))return t[La](this);n=zr(n);let i,o=Yt(this),s=tt(void 0);try{if(!(n&ge.SkipSelf)){let h=this.records.get(t);if(h===void 0){let p=jd(t)&&Wo(t);p&&this.injectableDefInScope(p)?h=Qt(oo(t),Dr):h=null,this.records.set(t,h)}if(h!=null)return this.hydrate(t,h)}let c=n&ge.Self?Ko():this.parent;return r=n&ge.Optional&&r===Mn?null:r,c.get(t,r)}catch(c){if(c.name==="NullInjectorError"){if((c[Tr]=c[Tr]||[]).unshift(qe(t)),o)throw c;return sd(c,t,"R3InjectorError",this.source)}else throw c}finally{tt(s),Yt(o)}}resolveInjectorInitializers(){let t=ve(null),r=Yt(this),n=tt(void 0),i;try{let o=this.get(xn,Ge,ge.Self);for(let s of o)s()}finally{Yt(r),tt(n),ve(t)}}toString(){let t=[],r=this.records;for(let n of r.keys())t.push(qe(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(t){t=je(t);let r=rn(t)?t:je(t&&t.provide),n=kd(t);if(!rn(t)&&t.multi===!0){let i=this.records.get(r);i||(i=Qt(void 0,Dr,!0),i.factory=()=>no(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}this.records.set(r,n)}hydrate(t,r){let n=ve(null);try{return r.value===Dr&&(r.value=Pd,r.value=r.factory()),typeof r.value=="object"&&r.value&&Vd(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ve(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let r=je(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function oo(e){let t=Wo(e),r=t!==null?t.factory:en(e);if(r!==null)return r;if(e instanceof ye)throw new we(204,!1);if(e instanceof Function)return Fd(e);throw new we(204,!1)}function Fd(e){if(e.length>0)throw new we(204,!1);let r=Wf(e);return r!==null?()=>r.factory(e):()=>new e}function kd(e){if(Pu(e))return Qt(void 0,e.useValue);{let t=Fu(e);return Qt(t,Dr)}}function Fu(e,t,r){let n;if(rn(e)){let i=je(e);return en(i)||oo(i)}else if(Pu(e))n=()=>je(e.useValue);else if(Od(e))n=()=>e.useFactory(...no(e.deps||[]));else if(Nd(e))n=()=>_e(je(e.useExisting));else{let i=je(e&&(e.useClass||e.provide));if(Ld(e))n=()=>new i(...no(e.deps));else return en(i)||oo(i)}return n}function Qt(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Ld(e){return!!e.deps}function Vd(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function jd(e){return typeof e=="function"||typeof e=="object"&&e instanceof ye}function so(e,t){for(let r of e)Array.isArray(r)?so(r,t):r&&vu(r)?so(r.\u0275providers,t):t(r)}function Bd(){return wu()!==void 0||rd()!=null}function Ud(e){return typeof e=="function"}var pt=0,he=1,fe=2,ke=3,Ze=4,Je=5,Rr=6,An=7,st=8,on=9,at=10,Be=11,Nn=12,$a=13,Vn=14,ut=15,jn=16,Kt=17,ft=18,Qr=19,ku=20,vt=21,Hi=22,At=23,Nt=25,Lu=1;var Ot=7,Pr=8,sn=9,He=10,Zo=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Zo||{});function xt(e){return Array.isArray(e)&&typeof e[Lu]=="object"}function gt(e){return Array.isArray(e)&&e[Lu]===!0}function Vu(e){return(e.flags&4)!==0}function Kr(e){return e.componentOffset>-1}function ju(e){return(e.flags&1)===1}function bt(e){return!!e.template}function Hd(e){return(e[fe]&512)!==0}var ao=class{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Bu(e,t,r,n){t!==null?t.applyValueToInputSignal(t,n):e[r]=n}function Jo(){return Uu}function Uu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Wd),$d}Jo.ngInherit=!0;function $d(){let e=$u(this),t=e?.current;if(t){let r=e.previous;if(r===tn)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function Wd(e,t,r,n,i){let o=this.declaredInputs[n],s=$u(e)||Gd(e,{previous:tn,current:null}),c=s.current||(s.current={}),h=s.previous,p=h[o];c[o]=new ao(p&&p.currentValue,r,h===tn),Bu(e,t,i,r)}var Hu="__ngSimpleChanges__";function $u(e){return e[Hu]||null}function Gd(e,t){return e[Hu]=t}var Wa=null;var nt=function(e,t,r){Wa?.(e,t,r)},qd="svg",zd="math",Yd=!1;function Qd(){return Yd}function ct(e){for(;Array.isArray(e);)e=e[pt];return e}function Kd(e,t){return ct(t[e])}function Xe(e,t){return ct(t[e.index])}function Wu(e,t){return e.data[t]}function _t(e,t){let r=t[e];return xt(r)?r:r[pt]}function Zd(e){return(e[fe]&4)===4}function Xo(e){return(e[fe]&128)===128}function Jd(e){return gt(e[ke])}function Ga(e,t){return t==null?null:e[t]}function Gu(e){e[Kt]=0}function Xd(e){e[fe]&1024||(e[fe]|=1024,Xo(e)&&On(e))}function es(e){return!!(e[fe]&9216||e[At]?.dirty)}function uo(e){e[at].changeDetectionScheduler?.notify(1),es(e)?On(e):e[fe]&64&&(Qd()?(e[fe]|=1024,On(e)):e[at].changeDetectionScheduler?.notify())}function On(e){e[at].changeDetectionScheduler?.notify();let t=Rn(e);for(;t!==null&&!(t[fe]&8192||(t[fe]|=8192,!Xo(t)));)t=Rn(t)}function qu(e,t){if((e[fe]&256)===256)throw new we(911,!1);e[vt]===null&&(e[vt]=[]),e[vt].push(t)}function eh(e,t){if(e[vt]===null)return;let r=e[vt].indexOf(t);r!==-1&&e[vt].splice(r,1)}function Rn(e){let t=e[ke];return gt(t)?t[ke]:t}var me={lFrame:Xu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function th(){return me.lFrame.elementDepthCount}function nh(){me.lFrame.elementDepthCount++}function rh(){me.lFrame.elementDepthCount--}function zu(){return me.bindingsEnabled}function ih(){return me.skipHydrationRootTNode!==null}function oh(e){return me.skipHydrationRootTNode===e}function sh(){me.skipHydrationRootTNode=null}function Ie(){return me.lFrame.lView}function ze(){return me.lFrame.tView}function hn(e){return me.lFrame.contextLView=e,e[st]}function pn(e){return me.lFrame.contextLView=null,e}function $e(){let e=Yu();for(;e!==null&&e.type===64;)e=e.parent;return e}function Yu(){return me.lFrame.currentTNode}function ah(){let e=me.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Zr(e,t){let r=me.lFrame;r.currentTNode=e,r.isParent=t}function Qu(){return me.lFrame.isParent}function uh(){me.lFrame.isParent=!1}function ch(e){return me.lFrame.bindingIndex=e}function lh(){return me.lFrame.bindingIndex++}function fh(e){let t=me.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function dh(){return me.lFrame.inI18n}function hh(e,t){let r=me.lFrame;r.bindingIndex=r.bindingRootIndex=e,co(t)}function ph(){return me.lFrame.currentDirectiveIndex}function co(e){me.lFrame.currentDirectiveIndex=e}function gh(e){let t=me.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Ku(){return me.lFrame.currentQueryIndex}function ts(e){me.lFrame.currentQueryIndex=e}function mh(e){let t=e[he];return t.type===2?t.declTNode:t.type===1?e[Je]:null}function Zu(e,t,r){if(r&ge.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(r&ge.Host);)if(i=mh(o),i===null||(o=o[Vn],i.type&10))break;if(i===null)return!1;t=i,e=o}let n=me.lFrame=Ju();return n.currentTNode=t,n.lView=e,!0}function ns(e){let t=Ju(),r=e[he];me.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Ju(){let e=me.lFrame,t=e===null?null:e.child;return t===null?Xu(e):t}function Xu(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function ec(){let e=me.lFrame;return me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var tc=ec;function rs(){let e=ec();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Bn(){return me.lFrame.selectedIndex}function Rt(e){me.lFrame.selectedIndex=e}function yh(){let e=me.lFrame;return Wu(e.tView,e.selectedIndex)}function vh(){return me.lFrame.currentNamespace}var nc=!0;function rc(){return nc}function ic(e){nc=e}function wh(e,t,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){let s=Uu(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}i&&(r.preOrderHooks??=[]).push(0-e,i),o&&((r.preOrderHooks??=[]).push(e,o),(r.preOrderCheckHooks??=[]).push(e,o))}function oc(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){let o=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:h,ngAfterViewChecked:p,ngOnDestroy:d}=o;s&&(e.contentHooks??=[]).push(-r,s),c&&((e.contentHooks??=[]).push(r,c),(e.contentCheckHooks??=[]).push(r,c)),h&&(e.viewHooks??=[]).push(-r,h),p&&((e.viewHooks??=[]).push(r,p),(e.viewCheckHooks??=[]).push(r,p)),d!=null&&(e.destroyHooks??=[]).push(r,d)}}function Er(e,t,r){sc(e,t,3,r)}function Cr(e,t,r,n){(e[fe]&3)===r&&sc(e,t,r,n)}function $i(e,t){let r=e[fe];(r&3)===t&&(r&=16383,r+=1,e[fe]=r)}function sc(e,t,r,n){let i=n!==void 0?e[Kt]&65535:0,o=n??-1,s=t.length-1,c=0;for(let h=i;h<s;h++)if(typeof t[h+1]=="number"){if(c=t[h],n!=null&&c>=n)break}else t[h]<0&&(e[Kt]+=65536),(c<o||o==-1)&&(bh(e,r,t,h),e[Kt]=(e[Kt]&4294901760)+h+2),h++}function qa(e,t){nt(4,e,t);let r=ve(null);try{t.call(e)}finally{ve(r),nt(5,e,t)}}function bh(e,t,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],c=e[s];i?e[fe]>>14<e[Kt]>>16&&(e[fe]&3)===t&&(e[fe]+=16384,qa(c,o)):qa(c,o)}var Xt=-1,Pt=class{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function _h(e){return e instanceof Pt}function Dh(e){return(e.flags&8)!==0}function Eh(e){return(e.flags&16)!==0}function ac(e){return e!==Xt}function Fr(e){return e&32767}function Ch(e){return e>>16}function kr(e,t){let r=Ch(e),n=t;for(;r>0;)n=n[Vn],r--;return n}var lo=!0;function za(e){let t=lo;return lo=e,t}var Ih=256,uc=Ih-1,cc=5,Sh=0,rt={};function Mh(e,t,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Sn)&&(n=r[Sn]),n==null&&(n=r[Sn]=Sh++);let i=n&uc,o=1<<i;t.data[e+(i>>cc)]|=o}function Lr(e,t){let r=lc(e,t);if(r!==-1)return r;let n=t[he];n.firstCreatePass&&(e.injectorIndex=t.length,Wi(n.data,e),Wi(t,null),Wi(n.blueprint,null));let i=is(e,t),o=e.injectorIndex;if(ac(i)){let s=Fr(i),c=kr(i,t),h=c[he].data;for(let p=0;p<8;p++)t[o+p]=c[s+p]|h[s+p]}return t[o+8]=i,o}function Wi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function lc(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function is(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;i!==null;){if(n=mc(i),n===null)return Xt;if(r++,i=i[Vn],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Xt}function fo(e,t,r){Mh(e,t,r)}function fc(e,t,r){if(r&ge.Optional||e!==void 0)return e;Go(t,"NodeInjector")}function dc(e,t,r,n){if(r&ge.Optional&&n===void 0&&(n=null),!(r&(ge.Self|ge.Host))){let i=e[on],o=tt(void 0);try{return i?i.get(t,n,r&ge.Optional):bu(t,n,r&ge.Optional)}finally{tt(o)}}return fc(n,t,r)}function hc(e,t,r,n=ge.Default,i){if(e!==null){if(t[fe]&2048&&!(n&ge.Self)){let s=Nh(e,t,r,n,rt);if(s!==rt)return s}let o=pc(e,t,r,n,rt);if(o!==rt)return o}return dc(t,r,n,i)}function pc(e,t,r,n,i){let o=Th(r);if(typeof o=="function"){if(!Zu(t,e,n))return n&ge.Host?fc(i,r,n):dc(t,r,n,i);try{let s;if(s=o(n),s==null&&!(n&ge.Optional))Go(r);else return s}finally{tc()}}else if(typeof o=="number"){let s=null,c=lc(e,t),h=Xt,p=n&ge.Host?t[ut][Je]:null;for((c===-1||n&ge.SkipSelf)&&(h=c===-1?is(e,t):t[c+8],h===Xt||!Qa(n,!1)?c=-1:(s=t[he],c=Fr(h),t=kr(h,t)));c!==-1;){let d=t[he];if(Ya(o,c,d.data)){let f=xh(c,t,r,s,n,p);if(f!==rt)return f}h=t[c+8],h!==Xt&&Qa(n,t[he].data[c+8]===p)&&Ya(o,c,t)?(s=d,c=Fr(h),t=kr(h,t)):c=-1}}return i}function xh(e,t,r,n,i,o){let s=t[he],c=s.data[e+8],h=n==null?Kr(c)&&lo:n!=s&&(c.type&3)!==0,p=i&ge.Host&&o===c,d=Ir(c,s,r,h,p);return d!==null?Ft(t,s,d,c):rt}function Ir(e,t,r,n,i){let o=e.providerIndexes,s=t.data,c=o&1048575,h=e.directiveStart,p=e.directiveEnd,d=o>>20,f=n?c:c+d,l=i?c+d:p;for(let a=f;a<l;a++){let u=s[a];if(a<h&&r===u||a>=h&&u.type===r)return a}if(i){let a=s[h];if(a&&bt(a)&&a.type===r)return h}return null}function Ft(e,t,r,n){let i=e[r],o=t.data;if(_h(i)){let s=i;s.resolving&&Zf(Kf(o[r]));let c=za(s.canSeeViewProviders);s.resolving=!0;let h,p=s.injectImpl?tt(s.injectImpl):null,d=Zu(e,n,ge.Default);try{i=e[r]=s.factory(void 0,o,e,n),t.firstCreatePass&&r>=n.directiveStart&&wh(r,o[r],t)}finally{p!==null&&tt(p),za(c),s.resolving=!1,tc()}}return i}function Th(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Sn)?e[Sn]:void 0;return typeof t=="number"?t>=0?t&uc:Ah:t}function Ya(e,t,r){let n=1<<e;return!!(r[t+(e>>cc)]&n)}function Qa(e,t){return!(e&ge.Self)&&!(e&ge.Host&&t)}var Tt=class{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return hc(this._tNode,this._lView,t,zr(n),r)}};function Ah(){return new Tt($e(),Ie())}function gc(e){return qr(()=>{let t=e.prototype.constructor,r=t[xr]||ho(t),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let o=i[xr]||ho(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ho(e){return gu(e)?()=>{let t=ho(je(e));return t&&t()}:en(e)}function Nh(e,t,r,n,i){let o=e,s=t;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let c=pc(o,s,r,n|ge.Self,rt);if(c!==rt)return c;let h=o.parent;if(!h){let p=s[ku];if(p){let d=p.get(r,rt,n);if(d!==rt)return d}h=mc(s),s=s[Vn]}o=h}return i}function mc(e){let t=e[he],r=t.type;return r===2?t.declTNode:r===1?e[Je]:null}function Ka(e,t=null,r=null,n){let i=Oh(e,t,r,n);return i.resolveInjectorInitializers(),i}function Oh(e,t=null,r=null,n,i=new Set){let o=[r||Ge,Yo(e)];return n=n||(typeof e=="object"?void 0:qe(e)),new Or(o,t||Ko(),n||null,i)}var Jr=(()=>{let t=class t{static create(n,i){if(Array.isArray(n))return Ka({name:""},i,n,"");{let o=n.name??"";return Ka({name:o},n.parent,n.providers,o)}}};t.THROW_IF_NOT_FOUND=Mn,t.NULL=new Nr,t.\u0275prov=Me({token:t,providedIn:"any",factory:()=>_e(Du)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var Rh="ngOriginalError";function Gi(e){return e[Rh]}var dt=class{constructor(){this._console=console}handleError(t){let r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Gi(t);for(;r&&Gi(r);)r=Gi(r);return r||null}},yc=new ye("",{providedIn:"root",factory:()=>Ne(dt).handleError.bind(void 0)}),vc=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Ph,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),po=class extends vc{constructor(t){super(),this._lView=t}onDestroy(t){return qu(this._lView,t),()=>eh(this._lView,t)}};function Ph(){return new po(Ie())}function Fh(){return gn($e(),Ie())}function gn(e,t){return new Dt(Xe(e,t))}var Dt=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=Fh;let e=t;return e})();function kh(e){return e instanceof Dt?e.nativeElement:e}var go=class extends Fe{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,Bd()&&(this.destroyRef=Ne(vc,{optional:!0})??void 0)}emit(t){let r=ve(null);try{super.next(t)}finally{ve(r)}}subscribe(t,r,n){let i=t,o=r||(()=>null),s=n;if(t&&typeof t=="object"){let h=t;i=h.next?.bind(h),o=h.error?.bind(h),s=h.complete?.bind(h)}this.__isAsync&&(o=qi(o),i&&(i=qi(i)),s&&(s=qi(s)));let c=super.subscribe({next:i,error:o,complete:s});return t instanceof Ae&&t.add(c),c}};function qi(e){return t=>{setTimeout(e,void 0,t)}}var Se=go;function Lh(){return this._results[Symbol.iterator]()}var mo=class e{get changes(){return this._changes??=new Se}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=e.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Lh)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;let n=cd(t);(this._changesDetected=!ud(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function wc(e){return(e.flags&128)===128}var bc=new Map,Vh=0;function jh(){return Vh++}function Bh(e){bc.set(e[Qr],e)}function Uh(e){bc.delete(e[Qr])}var Za="__ngContext__";function an(e,t){xt(t)?(e[Za]=t[Qr],Bh(t)):e[Za]=t}function _c(e){return Ec(e[Nn])}function Dc(e){return Ec(e[Ze])}function Ec(e){for(;e!==null&&!gt(e);)e=e[Ze];return e}var yo;function Cc(e){yo=e}function Hh(){if(yo!==void 0)return yo;if(typeof document<"u")return document;throw new we(210,!1)}var os=new ye("",{providedIn:"root",factory:()=>$h}),$h="ng",ss=new ye(""),mn=new ye("",{providedIn:"platform",factory:()=>"unknown"});var as=new ye("",{providedIn:"root",factory:()=>Hh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Wh="h",Gh="b";var qh=()=>null;function us(e,t,r=!1){return qh(e,t,r)}var Ic=!1,zh=new ye("",{providedIn:"root",factory:()=>Ic});var vo=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uf})`}};function cs(e){return e instanceof vo?e.changingThisBreaksApplicationSecurity:e}var ht=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ht||{}),Yh;function ls(e,t){return Yh(e,t)}function Zt(e,t,r,n,i){if(n!=null){let o,s=!1;gt(n)?o=n:xt(n)&&(s=!0,n=n[pt]);let c=ct(n);e===0&&r!==null?i==null?Ac(t,r,c):Vr(t,r,c,i||null,!0):e===1&&r!==null?Vr(t,r,c,i||null,!0):e===2?lp(t,c,s):e===3&&t.destroyNode(c),o!=null&&dp(t,e,o,r,i)}}function Qh(e,t){return e.createText(t)}function Sc(e,t,r){return e.createElement(t,r)}function Kh(e,t){Mc(e,t),t[pt]=null,t[Je]=null}function Zh(e,t,r,n,i,o){n[pt]=i,n[Je]=t,Xr(e,n,r,1,i,o)}function Mc(e,t){t[at].changeDetectionScheduler?.notify(1),Xr(e,t,t[Be],2,null,null)}function Jh(e){let t=e[Nn];if(!t)return zi(e[he],e);for(;t;){let r=null;if(xt(t))r=t[Nn];else{let n=t[He];n&&(r=n)}if(!r){for(;t&&!t[Ze]&&t!==e;)xt(t)&&zi(t[he],t),t=t[ke];t===null&&(t=e),xt(t)&&zi(t[he],t),r=t&&t[Ze]}t=r}}function Xh(e,t,r,n){let i=He+n,o=r.length;n>0&&(r[i-1][Ze]=t),n<o-He?(t[Ze]=r[i],_u(r,He+n,t)):(r.push(t),t[Ze]=null),t[ke]=r;let s=t[jn];s!==null&&r!==s&&ep(s,t);let c=t[ft];c!==null&&c.insertView(e),uo(t),t[fe]|=128}function ep(e,t){let r=e[sn],i=t[ke][ke][ut];t[ut]!==i&&(e[fe]|=Zo.HasTransplantedViews),r===null?e[sn]=[t]:r.push(t)}function xc(e,t){let r=e[sn],n=r.indexOf(t);r.splice(n,1)}function wo(e,t){if(e.length<=He)return;let r=He+t,n=e[r];if(n){let i=n[jn];i!==null&&i!==e&&xc(i,n),t>0&&(e[r-1][Ze]=n[Ze]);let o=Ar(e,He+t);Kh(n[he],n);let s=o[ft];s!==null&&s.detachView(o[he]),n[ke]=null,n[Ze]=null,n[fe]&=-129}return n}function Tc(e,t){if(!(t[fe]&256)){let r=t[Be];r.destroyNode&&Xr(e,t,r,3,null,null),Jh(t)}}function zi(e,t){if(t[fe]&256)return;let r=ve(null);try{t[fe]&=-129,t[fe]|=256,t[At]&&na(t[At]),np(e,t),tp(e,t),t[he].type===1&&t[Be].destroy();let n=t[jn];if(n!==null&&gt(t[ke])){n!==t[ke]&&xc(n,t);let i=t[ft];i!==null&&i.detachView(e)}Uh(t)}finally{ve(r)}}function tp(e,t){let r=e.cleanup,n=t[An];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(t[An]=null);let i=t[vt];if(i!==null){t[vt]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function np(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=t[r[n]];if(!(i instanceof Pt)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],h=o[s+1];nt(4,c,h);try{h.call(c)}finally{nt(5,c,h)}}else{nt(4,i,o);try{o.call(i)}finally{nt(5,i,o)}}}}}function rp(e,t,r){return ip(e,t.parent,r)}function ip(e,t,r){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return r[pt];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=e.data[n.directiveStart+i];if(o===it.None||o===it.Emulated)return null}return Xe(n,r)}}function Vr(e,t,r,n,i){e.insertBefore(t,r,n,i)}function Ac(e,t,r){e.appendChild(t,r)}function Ja(e,t,r,n,i){n!==null?Vr(e,t,r,n,i):Ac(e,t,r)}function op(e,t,r,n){e.removeChild(t,r,n)}function fs(e,t){return e.parentNode(t)}function sp(e,t){return e.nextSibling(t)}function ap(e,t,r){return cp(e,t,r)}function up(e,t,r){return e.type&40?Xe(e,r):null}var cp=up,Xa;function Nc(e,t,r,n){let i=rp(e,n,t),o=t[Be],s=n.parent||t[Je],c=ap(s,n,t);if(i!=null)if(Array.isArray(r))for(let h=0;h<r.length;h++)Ja(o,i,r[h],c,!1);else Ja(o,i,r,c,!1);Xa!==void 0&&Xa(o,n,t,r,i)}function Sr(e,t){if(t!==null){let r=t.type;if(r&3)return Xe(t,e);if(r&4)return bo(-1,e[t.index]);if(r&8){let n=t.child;if(n!==null)return Sr(e,n);{let i=e[t.index];return gt(i)?bo(-1,i):ct(i)}}else{if(r&32)return ls(t,e)()||ct(e[t.index]);{let n=Oc(e,t);if(n!==null){if(Array.isArray(n))return n[0];let i=Rn(e[ut]);return Sr(i,n)}else return Sr(e,t.next)}}}return null}function Oc(e,t){if(t!==null){let n=e[ut][Je],i=t.projection;return n.projection[i]}return null}function bo(e,t){let r=He+e+1;if(r<t.length){let n=t[r],i=n[he].firstChild;if(i!==null)return Sr(n,i)}return t[Ot]}function lp(e,t,r){let n=fs(e,t);n&&op(e,n,t,r)}function ds(e,t,r,n,i,o,s){for(;r!=null;){let c=n[r.index],h=r.type;if(s&&t===0&&(c&&an(ct(c),n),r.flags|=2),(r.flags&32)!==32)if(h&8)ds(e,t,r.child,n,i,o,!1),Zt(t,e,i,c,o);else if(h&32){let p=ls(r,n),d;for(;d=p();)Zt(t,e,i,d,o);Zt(t,e,i,c,o)}else h&16?fp(e,t,n,r,i,o):Zt(t,e,i,c,o);r=s?r.projectionNext:r.next}}function Xr(e,t,r,n,i,o){ds(r,n,e.firstChild,t,i,o,!1)}function fp(e,t,r,n,i,o){let s=r[ut],h=s[Je].projection[n.projection];if(Array.isArray(h))for(let p=0;p<h.length;p++){let d=h[p];Zt(t,e,i,d,o)}else{let p=h,d=s[ke];wc(n)&&(p.flags|=128),ds(e,t,p,d,i,o,!0)}}function dp(e,t,r,n,i){let o=r[Ot],s=ct(r);o!==s&&Zt(t,e,n,o,i);for(let c=He;c<r.length;c++){let h=r[c];Xr(h[he],h,e,t,n,o)}}function hp(e,t,r,n,i){if(t)i?e.addClass(r,n):e.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:ht.DashCase;i==null?e.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ht.Important),e.setStyle(r,n,i,o))}}function pp(e,t,r){e.setAttribute(t,"style",r)}function Rc(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Pc(e,t,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&ro(e,t,n),i!==null&&Rc(e,t,i),o!==null&&pp(e,t,o)}var ei={};function hs(e=1){Fc(ze(),Ie(),Bn()+e,!1)}function Fc(e,t,r,n){if(!n)if((t[fe]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Er(t,o,r)}else{let o=e.preOrderHooks;o!==null&&Cr(t,o,0,r)}Rt(r)}function Re(e,t=ge.Default){let r=Ie();if(r===null)return _e(e,t);let n=$e();return hc(n,r,je(e),t)}function kc(e,t,r,n,i,o){let s=ve(null);try{let c=null;i&ot.SignalBased&&(c=t[n][wi]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&ot.HasDecoratorInputTransform&&(o=e.inputTransforms[n].call(t,o)),e.setInput!==null?e.setInput(t,c,o,r,n):Bu(t,c,n,o)}finally{ve(s)}}function gp(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)Rt(~i);else{let o=i,s=r[++n],c=r[++n];hh(s,o);let h=t[o];c(2,h)}}}finally{Rt(-1)}}function ti(e,t,r,n,i,o,s,c,h,p,d){let f=t.blueprint.slice();return f[pt]=i,f[fe]=n|4|128|8|64,(p!==null||e&&e[fe]&2048)&&(f[fe]|=2048),Gu(f),f[ke]=f[Vn]=e,f[st]=r,f[at]=s||e&&e[at],f[Be]=c||e&&e[Be],f[on]=h||e&&e[on]||null,f[Je]=o,f[Qr]=jh(),f[Rr]=d,f[ku]=p,f[ut]=t.type==2?e[ut]:f,f}function ps(e,t,r,n,i){let o=e.data[t];if(o===null)o=mp(e,t,r,n,i),dh()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=ah();o.injectorIndex=s===null?-1:s.injectorIndex}return Zr(o,!0),o}function mp(e,t,r,n,i){let o=Yu(),s=Qu(),c=s?o:o&&o.parent,h=e.data[t]=Cp(e,c,r,t,n,i);return e.firstChild===null&&(e.firstChild=h),o!==null&&(s?o.child==null&&h.parent!==null&&(o.child=h):o.next===null&&(o.next=h,h.prev=o)),h}function Lc(e,t,r,n){if(r===0)return-1;let i=t.length;for(let o=0;o<r;o++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function Vc(e,t,r,n,i){let o=Bn(),s=n&2;try{Rt(-1),s&&t.length>Nt&&Fc(e,t,Nt,!1),nt(s?2:0,i),r(n,i)}finally{Rt(o),nt(s?3:1,i)}}function jc(e,t,r){if(Vu(t)){let n=ve(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let c=e.data[s];if(c.contentQueries){let h=r[s];c.contentQueries(1,h,s)}}}finally{ve(n)}}}function yp(e,t,r){zu()&&(Op(e,t,r,Xe(r,t)),(r.flags&64)===64&&$c(e,t,r))}function vp(e,t,r=Xe){let n=t.localNames;if(n!==null){let i=t.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],c=s===-1?r(t,e):e[s];e[i++]=c}}}function Bc(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Uc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Uc(e,t,r,n,i,o,s,c,h,p,d){let f=Nt+n,l=f+i,a=wp(f,l),u=typeof p=="function"?p():p;return a[he]={type:e,blueprint:a,template:r,queries:null,viewQuery:c,declTNode:t,data:a.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:l,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:h,consts:u,incompleteFirstPass:!1,ssrId:d}}function wp(e,t){let r=[];for(let n=0;n<t;n++)r.push(n<e?null:ei);return r}function bp(e,t,r,n){let o=n.get(zh,Ic)||r===it.ShadowDom,s=e.selectRootElement(t,o);return _p(s),s}function _p(e){Dp(e)}var Dp=()=>null;function Ep(e,t,r,n){let i=Gc(t);i.push(r),e.firstCreatePass&&qc(e).push(n,i.length-1)}function Cp(e,t,r,n,i,o){let s=t?t.injectorIndex:-1,c=0;return ih()&&(c|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function eu(e,t,r,n,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;n??={};let c,h=ot.None;Array.isArray(s)?(c=s[0],h=s[1]):c=s;let p=o;if(i!==null){if(!i.hasOwnProperty(o))continue;p=i[o]}e===0?tu(n,r,p,c,h):tu(n,r,p,c)}return n}function tu(e,t,r,n,i){let o;e.hasOwnProperty(r)?(o=e[r]).push(t,n):o=e[r]=[t,n],i!==void 0&&o.push(i)}function Ip(e,t,r){let n=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,c=[],h=null,p=null;for(let d=n;d<i;d++){let f=o[d],l=r?r.get(f):null,a=l?l.inputs:null,u=l?l.outputs:null;h=eu(0,f.inputs,d,h,a),p=eu(1,f.outputs,d,p,u);let g=h!==null&&s!==null&&!zo(t)?Up(h,d,s):null;c.push(g)}h!==null&&(h.hasOwnProperty("class")&&(t.flags|=8),h.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=h,t.outputs=p}function Sp(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Mp(e,t,r,n,i,o,s,c){let h=Xe(t,r),p=t.inputs,d;!c&&p!=null&&(d=p[n])?(ms(e,r,d,n,i),Kr(t)&&xp(r,t.index)):t.type&3?(n=Sp(n),i=s!=null?s(i,t.value||"",n):i,o.setProperty(h,n,i)):t.type&12}function xp(e,t){let r=_t(t,e);r[fe]&16||(r[fe]|=64)}function Tp(e,t,r,n){if(zu()){let i=n===null?null:{"":-1},o=Pp(e,r),s,c;o===null?s=c=null:[s,c]=o,s!==null&&Hc(e,t,r,s,i,c),i&&Fp(r,n,i)}r.mergedAttrs=Tn(r.mergedAttrs,r.attrs)}function Hc(e,t,r,n,i,o){for(let p=0;p<n.length;p++)fo(Lr(r,t),e,n[p].type);Lp(r,e.data.length,n.length);for(let p=0;p<n.length;p++){let d=n[p];d.providersResolver&&d.providersResolver(d)}let s=!1,c=!1,h=Lc(e,t,n.length,null);for(let p=0;p<n.length;p++){let d=n[p];r.mergedAttrs=Tn(r.mergedAttrs,d.hostAttrs),Vp(e,r,t,h,d),kp(h,d,i),d.contentQueries!==null&&(r.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(r.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),c=!0),h++}Ip(e,r,o)}function Ap(e,t,r,n,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let c=~t.index;Np(s)!=c&&s.push(c),s.push(r,n,o)}}function Np(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function Op(e,t,r,n){let i=r.directiveStart,o=r.directiveEnd;Kr(r)&&jp(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||Lr(r,t),an(n,t);let s=r.initialInputs;for(let c=i;c<o;c++){let h=e.data[c],p=Ft(t,e,c,r);if(an(p,t),s!==null&&Bp(t,c-i,p,h,r,s),bt(h)){let d=_t(r.index,t);d[st]=Ft(t,e,c,r)}}}function $c(e,t,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=ph();try{Rt(o);for(let c=n;c<i;c++){let h=e.data[c],p=t[c];co(c),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&Rp(h,p)}}finally{Rt(-1),co(s)}}function Rp(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Pp(e,t){let r=e.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(bd(t,s.selectors,!1))if(n||(n=[]),bt(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),n.unshift(...c,s);let h=c.length;_o(e,t,h)}else n.unshift(s),_o(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function _o(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function Fp(e,t,r){if(t){let n=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=r[t[i+1]];if(o==null)throw new we(-301,!1);n.push(t[i],o)}}}function kp(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;bt(t)&&(r[""]=e)}}function Lp(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function Vp(e,t,r,n,i){e.data[n]=i;let o=i.factory||(i.factory=en(i.type,!0)),s=new Pt(o,bt(i),Re);e.blueprint[n]=s,r[n]=s,Ap(e,t,n,Lc(e,r,i.hostVars,ei),i)}function jp(e,t,r){let n=Xe(t,e),i=Bc(r),o=e[at].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let c=gs(e,ti(e,i,null,s,n,t,null,o.createRenderer(n,r),null,null,null));e[t.index]=c}function Bp(e,t,r,n,i,o){let s=o[t];if(s!==null)for(let c=0;c<s.length;){let h=s[c++],p=s[c++],d=s[c++],f=s[c++];kc(n,r,h,p,d,f)}}function Up(e,t,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){n===null&&(n=[]);let s=e[o];for(let c=0;c<s.length;c+=3)if(s[c]===t){n.push(o,s[c+1],s[c+2],r[i+1]);break}}i+=2}return n}function Hp(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function Wc(e,t){let r=e.contentQueries;if(r!==null){let n=ve(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let c=e.data[s];ts(o),c.contentQueries(2,t[s],s)}}}finally{ve(n)}}}function gs(e,t){return e[Nn]?e[$a][Ze]=t:e[Nn]=t,e[$a]=t,t}function Do(e,t,r){ts(0);let n=ve(null);try{t(e,r)}finally{ve(n)}}function Gc(e){return e[An]||(e[An]=[])}function qc(e){return e.cleanup||(e.cleanup=[])}function zc(e,t){let r=e[on],n=r?r.get(dt,null):null;n&&n.handleError(t)}function ms(e,t,r,n,i){for(let o=0;o<r.length;){let s=r[o++],c=r[o++],h=r[o++],p=t[s],d=e.data[s];kc(d,p,n,c,h,i)}}function $p(e,t){let r=_t(t,e),n=r[he];Wp(n,r);let i=r[pt];i!==null&&r[Rr]===null&&(r[Rr]=us(i,r[on])),ys(n,r,r[st])}function Wp(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function ys(e,t,r){ns(t);try{let n=e.viewQuery;n!==null&&Do(1,n,r);let i=e.template;i!==null&&Vc(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[ft]?.finishViewCreation(e),e.staticContentQueries&&Wc(e,t),e.staticViewQueries&&Do(2,e.viewQuery,r);let o=e.components;o!==null&&Gp(t,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[fe]&=-5,rs()}}function Gp(e,t){for(let r=0;r<t.length;r++)$p(e,t[r])}function qp(e,t,r,n){let i=ve(null);try{let o=t.tView,c=e[fe]&4096?4096:16,h=ti(e,o,r,c,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),p=e[t.index];h[jn]=p;let d=e[ft];return d!==null&&(h[ft]=d.createEmbeddedView(o)),ys(o,h,r),h}finally{ve(i)}}function nu(e,t){return!t||t.firstChild===null||wc(e)}function zp(e,t,r,n=!0){let i=t[he];if(Xh(i,t,e,r),n){let s=bo(r,e),c=t[Be],h=fs(c,e[Ot]);h!==null&&Zh(i,e[Je],c,t,h,s)}let o=t[Rr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jr(e,t,r,n,i=!1){for(;r!==null;){let o=t[r.index];o!==null&&n.push(ct(o)),gt(o)&&Yp(o,n);let s=r.type;if(s&8)jr(e,t,r.child,n);else if(s&32){let c=ls(r,t),h;for(;h=c();)n.push(h)}else if(s&16){let c=Oc(t,r);if(Array.isArray(c))n.push(...c);else{let h=Rn(t[ut]);jr(h[he],h,c,n,!0)}}r=i?r.projectionNext:r.next}return n}function Yp(e,t){for(let r=He;r<e.length;r++){let n=e[r],i=n[he].firstChild;i!==null&&jr(n[he],n,i,t)}e[Ot]!==e[pt]&&t.push(e[Ot])}var Yc=[];function Qp(e){return e[At]??Kp(e)}function Kp(e){let t=Yc.pop()??Object.create(Jp);return t.lView=e,t}function Zp(e){e.lView[At]!==e&&(e.lView=null,Yc.push(e))}var Jp=Pe(xe({},Xs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{On(e.lView)},consumerOnSignalRead(){this.lView[At]=this}}),Qc=100;function Kc(e,t=!0,r=0){let n=e[at],i=n.rendererFactory,o=!1;o||i.begin?.();try{Xp(e,r)}catch(s){throw t&&zc(e,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function Xp(e,t){Eo(e,t);let r=0;for(;es(e);){if(r===Qc)throw new we(103,!1);r++,Eo(e,1)}}function eg(e,t,r,n){let i=t[fe];if((i&256)===256)return;let o=!1;!o&&t[at].inlineEffectRunner?.flush(),ns(t);let s=null,c=null;!o&&tg(e)&&(c=Qp(t),s=ea(c));try{Gu(t),ch(e.bindingStartIndex),r!==null&&Vc(e,t,r,2,n);let h=(i&3)===3;if(!o)if(h){let f=e.preOrderCheckHooks;f!==null&&Er(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Cr(t,f,0,null),$i(t,0)}if(ng(t),Zc(t,0),e.contentQueries!==null&&Wc(e,t),!o)if(h){let f=e.contentCheckHooks;f!==null&&Er(t,f)}else{let f=e.contentHooks;f!==null&&Cr(t,f,1),$i(t,1)}gp(e,t);let p=e.components;p!==null&&Xc(t,p,0);let d=e.viewQuery;if(d!==null&&Do(2,d,n),!o)if(h){let f=e.viewCheckHooks;f!==null&&Er(t,f)}else{let f=e.viewHooks;f!==null&&Cr(t,f,2),$i(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Hi]){for(let f of t[Hi])f();t[Hi]=null}o||(t[fe]&=-73)}catch(h){throw On(t),h}finally{c!==null&&(ta(c,s),Zp(c)),rs()}}function tg(e){return e.type!==2}function Zc(e,t){for(let r=_c(e);r!==null;r=Dc(r))for(let n=He;n<r.length;n++){let i=r[n];Jc(i,t)}}function ng(e){for(let t=_c(e);t!==null;t=Dc(t)){if(!(t[fe]&Zo.HasTransplantedViews))continue;let r=t[sn];for(let n=0;n<r.length;n++){let i=r[n],o=i[ke];Xd(i)}}}function rg(e,t,r){let n=_t(t,e);Jc(n,r)}function Jc(e,t){Xo(e)&&Eo(e,t)}function Eo(e,t){let n=e[he],i=e[fe],o=e[At],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&bi(o)),o&&(o.dirty=!1),e[fe]&=-9217,s)eg(n,e,n.template,e[st]);else if(i&8192){Zc(e,1);let c=n.components;c!==null&&Xc(e,c,1)}}function Xc(e,t,r){for(let n=0;n<t.length;n++)rg(e,t[n],r)}function vs(e){for(e[at].changeDetectionScheduler?.notify();e;){e[fe]|=64;let t=Rn(e);if(Hd(e)&&!t)return e;e=t}return null}var kt=class{get rootNodes(){let t=this._lView,r=t[he];return jr(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[st]}set context(t){this._lView[st]=t}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ke];if(gt(t)){let r=t[Pr],n=r?r.indexOf(this):-1;n>-1&&(wo(t,n),Ar(r,n))}this._attachedToViewContainer=!1}Tc(this._lView[he],this._lView)}onDestroy(t){qu(this._lView,t)}markForCheck(){vs(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-129}reattach(){uo(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,Kc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Mc(this._lView[he],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=t,uo(this._lView)}},Br=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=sg;let e=t;return e})(),ig=Br,og=class extends ig{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){let i=qp(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:n});return new kt(i)}};function sg(){return ws($e(),Ie())}function ws(e,t){return e.type&4?new og(t,e,gn(e,t)):null}var d_=new RegExp(`^(\\d+)*(${Gh}|${Wh})*(.*)`);var ag=()=>null;function ru(e,t){return ag(e,t)}var Co=class{},Io=class{},Ur=class{};function ug(e){let t=Error(`No component factory found for ${qe(e)}.`);return t[cg]=e,t}var cg="ngComponent";var So=class{resolveComponentFactory(t){throw ug(t)}},bs=(()=>{let t=class t{};t.NULL=new So;let e=t;return e})(),Pn=class{},ni=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>lg();let e=t;return e})();function lg(){let e=Ie(),t=$e(),r=_t(t.index,e);return(xt(r)?r:e)[Be]}var fg=(()=>{let t=class t{};t.\u0275prov=Me({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),Yi={};var iu=new Set;function el(e){iu.has(e)||(iu.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ou(...e){}function dg(){let e=typeof In.requestAnimationFrame=="function",t=In[e?"requestAnimationFrame":"setTimeout"],r=In[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}var Le=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=dg().nativeRequestAnimationFrame,gg(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new we(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,hg,ou,ou);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}},hg={};function _s(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pg(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(In,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Mo(e),e.isCheckStableRunning=!0,_s(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Mo(e))}function gg(e){let t=()=>{pg(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,c)=>{if(mg(c))return r.invokeTask(i,o,s,c);try{return su(e),r.invokeTask(i,o,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),au(e)}},onInvoke:(r,n,i,o,s,c,h)=>{try{return su(e),r.invoke(i,o,s,c,h)}finally{e.shouldCoalesceRunChangeDetection&&t(),au(e)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Mo(e),_s(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Mo(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function su(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function au(e){e._nesting--,_s(e)}function mg(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var tl=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=Me({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function xo(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number")o=c;else if(o==1)i=Ra(i,c);else if(o==2){let h=c,p=t[++s];n=Ra(n,h+": "+p+";")}}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}var To=class extends bs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=nn(t);return new Hr(r,this.ngModule)}};function uu(e){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let n=e[r];n!==void 0&&t.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return t}function yg(e){let t=e.toLowerCase();return t==="svg"?qd:t==="math"?zd:null}var Ao=class{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=zr(n);let i=this.injector.get(t,Yi,n);return i!==Yi||r===Yi?i:this.parentInjector.get(t,r,n)}},Hr=class extends Ur{get inputs(){let t=this.componentDef,r=t.inputTransforms,n=uu(t.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return uu(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=Cd(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof wt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Ao(t,s):t,h=c.get(Pn,null);if(h===null)throw new we(407,!1);let p=c.get(fg,null),d=c.get(tl,null),f=c.get(Co,null),l={rendererFactory:h,sanitizer:p,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},a=h.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",g=n?bp(a,n,this.componentDef.encapsulation,c):Sc(a,u,yg(u)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let _=null;g!==null&&(_=us(g,c,!0));let D=Uc(0,null,null,1,0,null,null,null,null,null,null),E=ti(null,D,null,w,null,null,l,a,c,null,_);ns(E);let b,S;try{let O=this.componentDef,N,H=null;O.findHostDirectiveDefs?(N=[],H=new Map,O.findHostDirectiveDefs(O,N,H),N.push(O)):N=[O];let $=vg(E,g),T=wg($,g,O,N,E,l,a);S=Wu(D,Nt),g&&Dg(a,O,g,n),r!==void 0&&Eg(S,this.ngContentSelectors,r),b=_g(T,O,N,H,E,[Cg]),ys(D,E,null)}finally{rs()}return new No(this.componentType,b,gn(S,E),E,S)}finally{ve(o)}}},No=class extends Io{constructor(t,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new kt(i,void 0,!1),this.componentType=t}setInput(t,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let o=this._rootLView;ms(o[he],o,i,t,r),this.previousInputValues.set(t,r);let s=_t(this._tNode.index,o);vs(s)}}get injector(){return new Tt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function vg(e,t){let r=e[he],n=Nt;return e[n]=t,ps(r,n,2,"#host",null)}function wg(e,t,r,n,i,o,s){let c=i[he];bg(n,e,t,s);let h=null;t!==null&&(h=us(t,i[on]));let p=o.rendererFactory.createRenderer(t,r),d=16;r.signals?d=4096:r.onPush&&(d=64);let f=ti(i,Bc(r),null,d,i[e.index],e,o,p,null,null,h);return c.firstCreatePass&&_o(c,e,n.length-1),gs(i,f),i[e.index]=f}function bg(e,t,r,n){for(let i of e)t.mergedAttrs=Tn(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(xo(t,t.mergedAttrs,!0),r!==null&&Pc(n,r,t))}function _g(e,t,r,n,i,o){let s=$e(),c=i[he],h=Xe(s,i);Hc(c,i,s,r,null,n);for(let d=0;d<r.length;d++){let f=s.directiveStart+d,l=Ft(i,c,f,s);an(l,i)}$c(c,i,s),h&&an(h,i);let p=Ft(i,c,s.directiveStart+s.componentOffset,s);if(e[st]=i[st]=p,o!==null)for(let d of o)d(p,t);return jc(c,s,i),p}function Dg(e,t,r,n){if(n)ro(e,r,["ng-version","17.3.9"]);else{let{attrs:i,classes:o}=Id(t.selectors[0]);i&&ro(e,r,i),o&&o.length>0&&Rc(e,r,o.join(" "))}}function Eg(e,t,r){let n=e.projection=[];for(let i=0;i<t.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function Cg(){let e=$e();oc(Ie()[he],e)}var Ds=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Ig;let e=t;return e})();function Ig(){let e=$e();return rl(e,Ie())}var Sg=Ds,nl=class extends Sg{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return gn(this._hostTNode,this._hostLView)}get injector(){return new Tt(this._hostTNode,this._hostLView)}get parentInjector(){let t=is(this._hostTNode,this._hostLView);if(ac(t)){let r=kr(t,this._hostLView),n=Fr(t),i=r[he].data[n+8];return new Tt(i,r)}else return new Tt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=cu(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-He}createEmbeddedView(t,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=ru(this._lContainer,t.ssrId),c=t.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(c,i,nu(this._hostTNode,s)),c}createComponent(t,r,n,i,o){let s=t&&!Ud(t),c;if(s)c=r;else{let u=r||{};c=u.index,n=u.injector,i=u.projectableNodes,o=u.environmentInjector||u.ngModuleRef}let h=s?t:new Hr(nn(t)),p=n||this.parentInjector;if(!o&&h.ngModule==null){let g=(s?p:this.parentInjector).get(wt,null);g&&(o=g)}let d=nn(h.componentType??{}),f=ru(this._lContainer,d?.id??null),l=f?.firstChild??null,a=h.create(p,i,l,o);return this.insertImpl(a.hostView,c,nu(this._hostTNode,f)),a}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){let i=t._lView;if(Jd(i)){let c=this.indexOf(t);if(c!==-1)this.detach(c);else{let h=i[ke],p=new nl(h,h[Je],h[ke]);p.detach(p.indexOf(t))}}let o=this._adjustIndex(r),s=this._lContainer;return zp(s,i,o,n),t.attachToViewContainerRef(),_u(Qi(s),o,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=cu(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),n=wo(this._lContainer,r);n&&(Ar(Qi(this._lContainer),r),Tc(n[he],n))}detach(t){let r=this._adjustIndex(t,-1),n=wo(this._lContainer,r);return n&&Ar(Qi(this._lContainer),r)!=null?new kt(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function cu(e){return e[Pr]}function Qi(e){return e[Pr]||(e[Pr]=[])}function rl(e,t){let r,n=t[e.index];return gt(n)?r=n:(r=Hp(n,t,null,e),t[e.index]=r,gs(t,r)),xg(r,t,e,n),new nl(r,e,t)}function Mg(e,t){let r=e[Be],n=r.createComment(""),i=Xe(t,e),o=fs(r,i);return Vr(r,o,n,sp(r,i),!1),n}var xg=Tg;function Tg(e,t,r,n){if(e[Ot])return;let i;r.type&8?i=ct(n):i=Mg(t,r),e[Ot]=i}var Oo=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ro=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let r=t.queries;if(r!==null){let n=t.contentQueries!==null?t.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){let s=r.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)Es(t,r).matches!==null&&this.queries[r].setDirty()}},Po=class{constructor(t,r,n=null){this.flags=r,this.read=n,typeof t=="string"?this.predicate=Lg(t):this.predicate=t}},Fo=class e{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,r!==null?r.push(o):r=[o])}return r!==null?new e(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},ko=class e{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(t,r,Ag(r,o)),this.matchTNodeWithReadOption(t,r,Ir(r,t,o,!1,!1))}else n===Br?r.type&4&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Ir(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===Dt||i===Ds||i===Br&&r.type&4)this.addMatch(r.index,-2);else{let o=Ir(r,t,i,!1,!1);o!==null&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(t,r){this.matches===null?this.matches=[t,r]:this.matches.push(t,r)}};function Ag(e,t){let r=e.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1]}return null}function Ng(e,t){return e.type&11?gn(e,t):e.type&4?ws(e,t):null}function Og(e,t,r,n){return r===-1?Ng(t,e):r===-2?Rg(e,t,n):Ft(e,e[he],r,t)}function Rg(e,t,r){if(r===Dt)return gn(t,e);if(r===Br)return ws(t,e);if(r===Ds)return rl(t,e)}function il(e,t,r,n){let i=t[ft].queries[n];if(i.matches===null){let o=e.data,s=r.matches,c=[];for(let h=0;s!==null&&h<s.length;h+=2){let p=s[h];if(p<0)c.push(null);else{let d=o[p];c.push(Og(t,d,s[h+1],r.metadata.read))}}i.matches=c}return i.matches}function Lo(e,t,r,n){let i=e.queries.getByIndex(r),o=i.matches;if(o!==null){let s=il(e,t,i,r);for(let c=0;c<o.length;c+=2){let h=o[c];if(h>0)n.push(s[c/2]);else{let p=o[c+1],d=t[-h];for(let f=He;f<d.length;f++){let l=d[f];l[jn]===l[ke]&&Lo(l[he],l,p,n)}if(d[sn]!==null){let f=d[sn];for(let l=0;l<f.length;l++){let a=f[l];Lo(a[he],a,p,n)}}}}}return n}function Pg(e,t){return e[ft].queries[t].queryList}function Fg(e,t,r){let n=new mo((r&4)===4);return Ep(e,t,n,n.destroy),(t[ft]??=new Ro).queries.push(new Oo(n))-1}function kg(e,t,r){let n=ze();return n.firstCreatePass&&(Vg(n,new Po(e,t,r),-1),(t&2)===2&&(n.staticViewQueries=!0)),Fg(n,Ie(),t)}function Lg(e){return e.split(",").map(t=>t.trim())}function Vg(e,t,r){e.queries===null&&(e.queries=new Fo),e.queries.track(new ko(t,r))}function Es(e,t){return e.queries.getByIndex(t)}function jg(e,t){let r=e[he],n=Es(r,t);return n.crossesNgTemplate?Lo(r,e,t,[]):il(r,e,n,t)}function Bg(e){return typeof e=="function"&&e[wi]!==void 0}function ol(e){return Bg(e)&&typeof e.set=="function"}function Ug(e){return Object.getPrototypeOf(e.prototype).constructor}function yn(e){let t=Ug(e.type),r=!0,n=[e];for(;t;){let i;if(bt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new we(903,!1);i=t.\u0275dir}if(i){if(r){n.push(i);let s=e;s.inputs=br(e.inputs),s.inputTransforms=br(e.inputTransforms),s.declaredInputs=br(e.declaredInputs),s.outputs=br(e.outputs);let c=i.hostBindings;c&&qg(e,c);let h=i.viewQuery,p=i.contentQueries;if(h&&Wg(e,h),p&&Gg(e,p),Hg(e,i),Hf(e.outputs,i.outputs),bt(i)&&i.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(e),c===yn&&(r=!1)}}t=Object.getPrototypeOf(t)}$g(n)}function Hg(e,t){for(let r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;let n=t.inputs[r];if(n!==void 0&&(e.inputs[r]=n,e.declaredInputs[r]=t.declaredInputs[r],t.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function $g(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){let i=e[n];i.hostVars=t+=i.hostVars,i.hostAttrs=Tn(i.hostAttrs,r=Tn(r,i.hostAttrs))}}function br(e){return e===tn?{}:e===Ge?[]:e}function Wg(e,t){let r=e.viewQuery;r?e.viewQuery=(n,i)=>{t(n,i),r(n,i)}:e.viewQuery=t}function Gg(e,t){let r=e.contentQueries;r?e.contentQueries=(n,i,o)=>{t(n,i,o),r(n,i,o)}:e.contentQueries=t}function qg(e,t){let r=e.hostBindings;r?e.hostBindings=(n,i)=>{t(n,i),r(n,i)}:e.hostBindings=t}var un=class{};var $r=class extends un{constructor(t){super(),this.componentFactoryResolver=new To(this),this.instance=null;let r=new Or([...t.providers,{provide:un,useValue:this},{provide:bs,useValue:this.componentFactoryResolver}],t.parent||Ko(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function zg(e,t,r=null){return new $r({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}var sl=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new St(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function al(e,t,r){let n=e[t];return Object.is(n,r)?!1:(e[t]=r,!0)}function Yg(e){return(e.flags&32)===32}function _r(e,t){return e<<17|t<<2}function Lt(e){return e>>17&32767}function Qg(e){return(e&2)==2}function Kg(e,t){return e&131071|t<<17}function Vo(e){return e|2}function cn(e){return(e&131068)>>2}function Ki(e,t){return e&-131069|t<<2}function Zg(e){return(e&1)===1}function jo(e){return e|1}function Jg(e,t,r,n,i,o){let s=o?t.classBindings:t.styleBindings,c=Lt(s),h=cn(s);e[n]=r;let p=!1,d;if(Array.isArray(r)){let f=r;d=f[1],(d===null||Ln(f,d)>0)&&(p=!0)}else d=r;if(i)if(h!==0){let l=Lt(e[c+1]);e[n+1]=_r(l,c),l!==0&&(e[l+1]=Ki(e[l+1],n)),e[c+1]=Kg(e[c+1],n)}else e[n+1]=_r(c,0),c!==0&&(e[c+1]=Ki(e[c+1],n)),c=n;else e[n+1]=_r(h,0),c===0?c=n:e[h+1]=Ki(e[h+1],n),h=n;p&&(e[n+1]=Vo(e[n+1])),lu(e,d,n,!0),lu(e,d,n,!1),Xg(t,d,e,n,o),s=_r(c,h),o?t.classBindings=s:t.styleBindings=s}function Xg(e,t,r,n,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ln(o,t)>=0&&(r[n+1]=jo(r[n+1]))}function lu(e,t,r,n){let i=e[r+1],o=t===null,s=n?Lt(i):cn(i),c=!1;for(;s!==0&&(c===!1||o);){let h=e[s],p=e[s+1];em(h,t)&&(c=!0,e[s+1]=n?jo(p):Vo(p)),s=n?Lt(p):cn(p)}c&&(e[r+1]=n?Vo(i):jo(i))}function em(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ln(e,t)>=0:!1}function fu(e,t,r,n,i){let o=t.inputs,s=i?"class":"style";ms(e,r,o[s],s,n)}function Cs(e,t){return tm(e,t,null,!0),Cs}function tm(e,t,r,n){let i=Ie(),o=ze(),s=fh(2);if(o.firstUpdatePass&&rm(o,e,s,n),t!==ei&&al(i,s,t)){let c=o.data[Bn()];um(o,c,i,i[Be],e,i[s+1]=cm(t,r),n,s)}}function nm(e,t){return t>=e.expandoStartIndex}function rm(e,t,r,n){let i=e.data;if(i[r+1]===null){let o=i[Bn()],s=nm(e,r);lm(o,n)&&t===null&&!s&&(t=!1),t=im(i,o,t,n),Jg(i,o,t,r,s,n)}}function im(e,t,r,n){let i=gh(e),o=n?t.residualClasses:t.residualStyles;if(i===null)(n?t.classBindings:t.styleBindings)===0&&(r=Zi(null,e,t,r,n),r=Fn(r,t.attrs,n),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(r=Zi(i,e,t,r,n),o===null){let h=om(e,t,n);h!==void 0&&Array.isArray(h)&&(h=Zi(null,e,t,h[1],n),h=Fn(h,t.attrs,n),sm(e,t,n,h))}else o=am(e,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),r}function om(e,t,r){let n=r?t.classBindings:t.styleBindings;if(cn(n)!==0)return e[Lt(n)]}function sm(e,t,r,n){let i=r?t.classBindings:t.styleBindings;e[Lt(i)]=n}function am(e,t,r){let n,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;n=Fn(n,s,r)}return Fn(n,t.attrs,r)}function Zi(e,t,r,n,i){let o=null,s=r.directiveEnd,c=r.directiveStylingLast;for(c===-1?c=r.directiveStart:c++;c<s&&(o=t[c],n=Fn(n,o.hostAttrs,i),o!==e);)c++;return e!==null&&(r.directiveStylingLast=c),n}function Fn(e,t,r){let n=r?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),fd(e,s,r?!0:t[++o]))}return e===void 0?null:e}function um(e,t,r,n,i,o,s,c){if(!(t.type&3))return;let h=e.data,p=h[c+1],d=Zg(p)?du(h,t,r,i,cn(p),s):void 0;if(!Wr(d)){Wr(o)||Qg(p)&&(o=du(h,null,r,i,c,s));let f=Kd(Bn(),r);hp(n,s,f,i,o)}}function du(e,t,r,n,i,o){let s=t===null,c;for(;i>0;){let h=e[i],p=Array.isArray(h),d=p?h[1]:h,f=d===null,l=r[i+1];l===ei&&(l=f?Ge:void 0);let a=f?Bi(l,n):d===n?l:void 0;if(p&&!Wr(a)&&(a=Bi(h,n)),Wr(a)&&(c=a,s))return c;let u=e[i+1];i=s?Lt(u):cn(u)}if(t!==null){let h=o?t.residualClasses:t.residualStyles;h!=null&&(c=Bi(h,n))}return c}function Wr(e){return e!==void 0}function cm(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=qe(cs(e)))),e}function lm(e,t){return(e.flags&(t?8:16))!==0}function fm(e,t,r,n,i,o){let s=t.consts,c=Ga(s,i),h=ps(t,e,2,n,c);return Tp(t,r,h,Ga(s,o)),h.attrs!==null&&xo(h,h.attrs,!1),h.mergedAttrs!==null&&xo(h,h.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,h),h}function Ye(e,t,r,n){let i=Ie(),o=ze(),s=Nt+e,c=i[Be],h=o.firstCreatePass?fm(s,o,i,t,r,n):o.data[s],p=dm(o,i,h,c,t,e);i[s]=p;let d=ju(h);return Zr(h,!0),Pc(c,p,h),!Yg(h)&&rc()&&Nc(o,i,p,h),th()===0&&an(p,i),nh(),d&&(yp(o,i,h),jc(o,h,i)),n!==null&&vp(i,h),Ye}function et(){let e=$e();Qu()?uh():(e=e.parent,Zr(e,!1));let t=e;oh(t)&&sh(),rh();let r=ze();return r.firstCreatePass&&(oc(r,e),Vu(e)&&r.queries.elementEnd(e)),t.classesWithoutHost!=null&&Dh(t)&&fu(r,t,Ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Eh(t)&&fu(r,t,Ie(),t.stylesWithoutHost,!1),et}function Un(e,t,r,n){return Ye(e,t,r,n),et(),Un}var dm=(e,t,r,n,i,o)=>(ic(!0),Sc(n,i,vh()));function ul(){return Ie()}var Gr="en-US";var hm=Gr;function pm(e){typeof e=="string"&&(hm=e.toLowerCase().replace(/_/g,"-"))}function Vt(e,t,r,n){let i=Ie(),o=ze(),s=$e();return cl(o,i,i[Be],s,e,t,n),Vt}function gm(e,t,r,n){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let c=t[An],h=i[o+2];return c.length>h?c[h]:null}typeof s=="string"&&(o+=2)}return null}function cl(e,t,r,n,i,o,s){let c=ju(n),p=e.firstCreatePass&&qc(e),d=t[st],f=Gc(t),l=!0;if(n.type&3||s){let g=Xe(n,t),w=s?s(g):g,_=f.length,D=s?b=>s(ct(b[n.index])):n.index,E=null;if(!s&&c&&(E=gm(e,t,i,n.index)),E!==null){let b=E.__ngLastListenerFn__||E;b.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,l=!1}else{o=pu(n,t,d,o,!1);let b=r.listen(w,i,o);f.push(o,b),p&&p.push(i,D,_,_+1)}}else o=pu(n,t,d,o,!1);let a=n.outputs,u;if(l&&a!==null&&(u=a[i])){let g=u.length;if(g)for(let w=0;w<g;w+=2){let _=u[w],D=u[w+1],S=t[_][D].subscribe(o),O=f.length;f.push(o,S),p&&p.push(i,n.index,O,-(O+1))}}}function hu(e,t,r,n){let i=ve(null);try{return nt(6,t,r),r(n)!==!1}catch(o){return zc(e,o),!1}finally{nt(7,t,r),ve(i)}}function pu(e,t,r,n,i){return function o(s){if(s===Function)return n;let c=e.componentOffset>-1?_t(e.index,t):t;vs(c);let h=hu(t,r,n,s),p=o.__ngNextListenerFn__;for(;p;)h=hu(t,r,p,s)&&h,p=p.__ngNextListenerFn__;return i&&h===!1&&s.preventDefault(),h}}function ll(e,t,r){kg(e,t,r)}function fl(e){let t=Ie(),r=ze(),n=Ku();ts(n+1);let i=Es(r,n);if(e.dirty&&Zd(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=jg(t,n);e.reset(o,kh),e.notifyOnChanges()}return!0}return!1}function dl(){return Pg(Ie(),Ku())}function jt(e,t=""){let r=Ie(),n=ze(),i=e+Nt,o=n.firstCreatePass?ps(n,i,1,t,null):n.data[i],s=mm(n,r,o,t,e);r[i]=s,rc()&&Nc(n,r,s,o),Zr(o,!1)}var mm=(e,t,r,n,i)=>(ic(!0),Qh(t[Be],n));function ri(e,t,r){ol(t)&&(t=t());let n=Ie(),i=lh();if(al(n,i,t)){let o=ze(),s=yh();Mp(o,s,n,e,t,n[Be],r,!1)}return ri}function Is(e,t){let r=ol(e);return r&&e.set(t),r}function ii(e,t){let r=Ie(),n=ze(),i=$e();return cl(n,r,r[Be],i,e,t),ii}function ym(e,t,r){let n=ze();if(n.firstCreatePass){let i=bt(e);Bo(r,n.data,n.blueprint,i,!0),Bo(t,n.data,n.blueprint,i,!1)}}function Bo(e,t,r,n,i){if(e=je(e),Array.isArray(e))for(let o=0;o<e.length;o++)Bo(e[o],t,r,n,i);else{let o=ze(),s=Ie(),c=$e(),h=rn(e)?e:je(e.provide),p=Fu(e),d=c.providerIndexes&1048575,f=c.directiveStart,l=c.providerIndexes>>20;if(rn(e)||!e.multi){let a=new Pt(p,i,Re),u=Xi(h,t,i?d:d+l,f);u===-1?(fo(Lr(c,s),o,h),Ji(o,e,t.length),t.push(h),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(a),s.push(a)):(r[u]=a,s[u]=a)}else{let a=Xi(h,t,d+l,f),u=Xi(h,t,d,d+l),g=a>=0&&r[a],w=u>=0&&r[u];if(i&&!w||!i&&!g){fo(Lr(c,s),o,h);let _=bm(i?wm:vm,r.length,i,n,p);!i&&w&&(r[u].providerFactory=_),Ji(o,e,t.length,0),t.push(h),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(_),s.push(_)}else{let _=hl(r[i?u:a],p,!i&&n);Ji(o,e,a>-1?a:u,_)}!i&&n&&w&&r[u].componentProviders++}}}function Ji(e,t,r,n){let i=rn(t),o=Rd(t);if(i||o){let h=(o?je(t.useClass):t).prototype.ngOnDestroy;if(h){let p=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let d=p.indexOf(r);d===-1?p.push(r,[n,h]):p[d+1].push(n,h)}else p.push(r,h)}}}function hl(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Xi(e,t,r,n){for(let i=r;i<n;i++)if(t[i]===e)return i;return-1}function vm(e,t,r,n){return Uo(this.multi,[])}function wm(e,t,r,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Ft(r,r[he],this.providerFactory.index,n);o=c.slice(0,s),Uo(i,o);for(let h=s;h<c.length;h++)o.push(c[h])}else o=[],Uo(i,o);return o}function Uo(e,t){for(let r=0;r<e.length;r++){let n=e[r];t.push(n())}return t}function bm(e,t,r,n,i){let o=new Pt(e,r,Re);return o.multi=[],o.index=t,o.componentProviders=0,hl(o,i,n&&!r),o}function Ss(e,t=[]){return r=>{r.providersResolver=(n,i)=>ym(n,i?i(e):e,t)}}var _m=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Ou(!1,n.type),o=i.length>0?zg([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=Me({token:t,providedIn:"environment",factory:()=>new t(_e(wt))});let e=t;return e})();function pl(e){el("NgStandalone"),e.getStandaloneInjector=t=>t.get(_m).getOrCreateStandaloneInjector(e)}var gl=new ye("");function Hn(e){return!!e&&typeof e.then=="function"}function ml(e){return!!e&&typeof e.subscribe=="function"}var Dm=new ye(""),yl=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=Ne(Dm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Hn(s))n.push(s);else if(ml(s)){let c=new Promise((h,p)=>{s.subscribe({complete:h,error:p})});n.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Em=new ye("");function Cm(){ra(()=>{throw new we(600,!1)})}function Im(e){return e.isBoundToModule}function Sm(e,t,r){try{let n=r();return Hn(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}var Ms=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ne(yc),this.afterRenderEffectManager=Ne(tl),this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=Ne(sl).hasPendingTasks.pipe(lt(n=>!n)),this._injector=Ne(wt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof Ur;if(!this._injector.get(yl).done){let a=!o&&xd(n),u=!1;throw new we(405,u)}let c;o?c=n:c=this._injector.get(bs).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let h=Im(c)?void 0:this._injector.get(un),p=i||c.selector,d=c.create(Jr.NULL,[],p,h),f=d.location.nativeElement,l=d.injector.get(gl,null);return l?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),eo(this.components,d),l?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new we(101,!1);let i=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ve(i)}}detectChangesInAttachedViews(n){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Qc)throw new we(103,!1);if(n){let s=i===0;this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:h}of this._views)Mm(c,s,h)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ho(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ho(s))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;eo(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Em,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>eo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new we(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function eo(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function Mm(e,t,r){!t&&!Ho(e)||xm(e,r,t)}function Ho(e){return es(e)}function xm(e,t,r){let n;r?(n=0,e[fe]|=1024):e[fe]&64?n=0:n=1,Kc(e,t,n)}var Tm=(()=>{let t=class t{constructor(){this.zone=Ne(Le),this.applicationRef=Ne(Ms)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Am(e){return[{provide:Le,useFactory:e},{provide:xn,multi:!0,useFactory:()=>{let t=Ne(Tm,{optional:!0});return()=>t.initialize()}},{provide:xn,multi:!0,useFactory:()=>{let t=Ne(Pm);return()=>{t.initialize()}}},{provide:yc,useFactory:Nm}]}function Nm(){let e=Ne(Le),t=Ne(dt);return r=>e.runOutsideAngular(()=>t.handleError(r))}function Om(e){let t=Am(()=>new Le(Rm(e)));return Nu([[],t])}function Rm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Pm=(()=>{let t=class t{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=Ne(Le),this.pendingTasks=Ne(sl)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Fm(){return typeof $localize<"u"&&$localize.locale||Gr}var xs=new ye("",{providedIn:"root",factory:()=>Ne(xs,ge.Optional|ge.SkipSelf)||Fm()});var vl=new ye("");var Mr=null;function km(e=[],t){return Jr.create({name:t,providers:[{provide:Yr,useValue:"platform"},{provide:vl,useValue:new Set([()=>Mr=null])},...e]})}function Lm(e=[]){if(Mr)return Mr;let t=km(e);return Mr=t,Cm(),Vm(t),t}function Vm(e){e.get(ss,null)?.forEach(r=>r())}var Ts=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=jm;let e=t;return e})();function jm(e){return Bm($e(),Ie(),(e&16)===16)}function Bm(e,t,r){if(Kr(e)&&!r){let n=_t(e.index,t);return new kt(n,n)}else if(e.type&47){let n=t[ut];return new kt(n,t)}return null}function wl(e){try{let{rootComponent:t,appProviders:r,platformProviders:n}=e,i=Lm(n),o=[Om(),...r||[]],c=new $r({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,h=c.get(Le);return h.run(()=>{c.resolveInjectorInitializers();let p=c.get(dt,null),d;h.runOutsideAngular(()=>{d=h.onError.subscribe({next:a=>{p.handleError(a)}})});let f=()=>c.destroy(),l=i.get(vl);return l.add(f),c.onDestroy(()=>{d.unsubscribe(),l.delete(f)}),Sm(p,h,()=>{let a=c.get(yl);return a.runInitializers(),a.donePromise.then(()=>{let u=c.get(xs,Gr);pm(u||Gr);let g=c.get(Ms);return t!==void 0&&g.bootstrap(t),g})})})}catch(t){return Promise.reject(t)}}function As(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var _l=null;function vn(){return _l}function Dl(e){_l??=e}var si=class{};var Et=new ye("");function El(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Cl="browser",Um="server";function Ns(e){return e===Um}var ai=class{};var Ps=class extends si{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fs=class e extends Ps{static makeCurrent(){Dl(new e)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=$m();return r==null?null:Wm(r)}resetBaseElement(){$n=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return El(document.cookie,t)}},$n=null;function $m(){return $n=$n||document.querySelector("base"),$n?$n.getAttribute("href"):null}function Wm(e){return new URL(e,document.baseURI).pathname}var Gm=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac});let e=t;return e})(),ks=new ye(""),xl=(()=>{let t=class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new we(5101,!1);return this._eventNameToPlugin.set(n,i),i}};t.\u0275fac=function(i){return new(i||t)(_e(ks),_e(Le))},t.\u0275prov=Me({token:t,factory:t.\u0275fac});let e=t;return e})(),ui=class{constructor(t){this._doc=t}},Os="ng-app-id",Tl=(()=>{let t=class t{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ns(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Os}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(Os),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Os,this.appId),n.appendChild(c),c}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(_e(Et),_e(os),_e(as,8),_e(mn))},t.\u0275prov=Me({token:t,factory:t.\u0275fac});let e=t;return e})(),Rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vs=/%COMP%/g,Al="%COMP%",qm=`_nghost-${Al}`,zm=`_ngcontent-${Al}`,Ym=!0,Qm=new ye("",{providedIn:"root",factory:()=>Ym});function Km(e){return zm.replace(Vs,e)}function Zm(e){return qm.replace(Vs,e)}function Nl(e,t){return t.map(r=>r.replace(Vs,e))}var Il=(()=>{let t=class t{constructor(n,i,o,s,c,h,p,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=h,this.ngZone=p,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ns(h),this.defaultRenderer=new Wn(n,c,p,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===it.ShadowDom&&(i=Pe(xe({},i),{encapsulation:it.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof ci?o.applyToHost(n):o instanceof Gn&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,h=this.ngZone,p=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,l=this.platformIsServer;switch(i.encapsulation){case it.Emulated:s=new ci(p,d,i,this.appId,f,c,h,l);break;case it.ShadowDom:return new Ls(p,d,n,i,c,h,this.nonce,l);default:s=new Gn(p,d,i,f,c,h,l);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(_e(xl),_e(Tl),_e(os),_e(Qm),_e(Et),_e(mn),_e(Le),_e(as))},t.\u0275prov=Me({token:t,factory:t.\u0275fac});let e=t;return e})(),Wn=class{constructor(t,r,n,i){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Rs[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(Sl(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(Sl(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new we(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,i){if(i){r=i+":"+r;let o=Rs[i];o?t.setAttributeNS(o,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){let i=Rs[n];i?t.removeAttributeNS(i,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,i){i&(ht.DashCase|ht.Important)?t.style.setProperty(r,n,i&ht.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&ht.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t!=null&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if(typeof t=="string"&&(t=vn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function Sl(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ls=class extends Wn{constructor(t,r,n,i,o,s,c,h){super(t,o,s,h),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=Nl(i.id,i.styles);for(let d of p){let f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gn=class extends Wn{constructor(t,r,n,i,o,s,c,h){super(t,o,s,c),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=h?Nl(h,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ci=class extends Gn{constructor(t,r,n,i,o,s,c,h){let p=i+"-"+n.id;super(t,r,n,o,s,c,h,p),this.contentAttr=Km(p),this.hostAttr=Zm(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}},Jm=(()=>{let t=class t extends ui{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};t.\u0275fac=function(i){return new(i||t)(_e(Et))},t.\u0275prov=Me({token:t,factory:t.\u0275fac});let e=t;return e})(),Ml=["alt","control","meta","shift"],Xm={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ey={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ty=(()=>{let t=class t extends ui{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,o){let s=t.parseEventName(i),c=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(n,s.domEventName,c))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(i.pop()),c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),Ml.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),c+=d+".")}),c+=s,i.length!=0||s.length===0)return null;let p={};return p.domEventName=o,p.fullKey=c,p}static matchEventFullKeyCode(n,i){let o=Xm[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ml.forEach(c=>{if(c!==o){let h=ey[c];h(n)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(i){return new(i||t)(_e(Et))},t.\u0275prov=Me({token:t,factory:t.\u0275fac});let e=t;return e})();function Ol(e,t){return wl(xe({rootComponent:e},ny(t)))}function ny(e){return{appProviders:[...ay,...e?.providers??[]],platformProviders:sy}}function ry(){Fs.makeCurrent()}function iy(){return new dt}function oy(){return Cc(document),document}var sy=[{provide:mn,useValue:Cl},{provide:ss,useValue:ry,multi:!0},{provide:Et,useFactory:oy,deps:[]}];var ay=[{provide:Yr,useValue:"root"},{provide:dt,useFactory:iy,deps:[]},{provide:ks,useClass:Jm,multi:!0,deps:[Et,Le,mn]},{provide:ks,useClass:ty,multi:!0,deps:[Et]},Il,Tl,xl,{provide:Pn,useExisting:Il},{provide:ai,useClass:Gm,deps:[]},[]];var Bl=(()=>{let t=class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(i){return new(i||t)(Re(ni),Re(Dt))},t.\u0275dir=dn({type:t});let e=t;return e})(),uy=(()=>{let t=class t extends Bl{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=gc(t)))(o||t)}})(),t.\u0275dir=dn({type:t,features:[yn]});let e=t;return e})(),Ul=new ye("");var cy={provide:Ul,useExisting:kn(()=>hi),multi:!0};function ly(){let e=vn()?vn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var fy=new ye(""),hi=(()=>{let t=class t extends Bl{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ly())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(i){return new(i||t)(Re(ni),Re(Dt),Re(fy,8))},t.\u0275dir=dn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Vt("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[Ss([cy]),yn]});let e=t;return e})();var dy=new ye(""),hy=new ye("");function Hl(e){return e!=null}function $l(e){return Hn(e)?Cn(e):e}function Wl(e){let t={};return e.forEach(r=>{t=r!=null?xe(xe({},t),r):t}),Object.keys(t).length===0?null:t}function Gl(e,t){return t.map(r=>r(e))}function py(e){return!e.validate}function ql(e){return e.map(t=>py(t)?t:r=>t.validate(r))}function gy(e){if(!e)return null;let t=e.filter(Hl);return t.length==0?null:function(r){return Wl(Gl(r,t))}}function zl(e){return e!=null?gy(ql(e)):null}function my(e){if(!e)return null;let t=e.filter(Hl);return t.length==0?null:function(r){let n=Gl(r,t).map($l);return Pi(n).pipe(lt(Wl))}}function Yl(e){return e!=null?my(ql(e)):null}function Rl(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function yy(e){return e._rawValidators}function vy(e){return e._rawAsyncValidators}function js(e){return e?Array.isArray(e)?e:[e]:[]}function fi(e,t){return Array.isArray(e)?e.includes(t):e===t}function Pl(e,t){let r=js(t);return js(e).forEach(i=>{fi(r,i)||r.push(i)}),r}function Fl(e,t){return js(t).filter(r=>!fi(e,r))}var di=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},Bs=class extends di{get formDirective(){return null}get path(){return null}},Yn=class extends di{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Us=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},wy={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AD=Pe(xe({},wy),{"[class.ng-submitted]":"isSubmitted"}),Ql=(()=>{let t=class t extends Us{constructor(n){super(n)}};t.\u0275fac=function(i){return new(i||t)(Re(Yn,2))},t.\u0275dir=dn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Cs("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[yn]});let e=t;return e})();var qn="VALID",li="INVALID",wn="PENDING",zn="DISABLED";function by(e){return(pi(e)?e.validators:e)||null}function _y(e){return Array.isArray(e)?zl(e):e||null}function Dy(e,t){return(pi(t)?t.asyncValidators:e)||null}function Ey(e){return Array.isArray(e)?Yl(e):e||null}function pi(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Hs=class{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qn}get invalid(){return this.status===li}get pending(){return this.status==wn}get disabled(){return this.status===zn}get enabled(){return this.status!==zn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Pl(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Pl(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fl(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fl(t,this._rawAsyncValidators))}hasValidator(t){return fi(this._rawValidators,t)}hasAsyncValidator(t){return fi(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wn,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=zn,this.errors=null,this._forEachChild(n=>{n.disable(Pe(xe({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Pe(xe({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=qn,this._forEachChild(n=>{n.enable(Pe(xe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Pe(xe({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qn||this.status===wn)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zn:qn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wn,this._hasOwnPendingAsyncValidator=!0;let r=$l(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(t,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?zn:this.errors?li:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wn)?wn:this._anyControlsHaveStatus(li)?li:qn}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pi(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=_y(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Ey(this._rawAsyncValidators)}};var Kl=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>$s}),$s="always";function Cy(e,t){return[...t.path,e]}function Iy(e,t,r=$s){My(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),xy(e,t),Ay(e,t),Ty(e,t),Sy(e,t)}function kl(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function Sy(e,t){if(t.valueAccessor.setDisabledState){let r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function My(e,t){let r=yy(e);t.validator!==null?e.setValidators(Rl(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let n=vy(e);t.asyncValidator!==null?e.setAsyncValidators(Rl(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let i=()=>e.updateValueAndValidity();kl(t._rawValidators,i),kl(t._rawAsyncValidators,i)}function xy(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Zl(e,t)})}function Ty(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Zl(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Zl(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ay(e,t){let r=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function Ny(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function Oy(e){return Object.getPrototypeOf(e.constructor)===uy}function Ry(e,t){if(!t)return null;Array.isArray(t);let r,n,i;return t.forEach(o=>{o.constructor===hi?r=o:Oy(o)?n=o:i=o}),i||n||r||null}function Ll(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function Vl(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Py=class extends Hs{constructor(t=null,r,n){super(by(r),Dy(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pi(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Vl(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ll(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ll(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Vl(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Fy={provide:Yn,useExisting:kn(()=>Ws)},jl=Promise.resolve(),Ws=(()=>{let t=class t extends Yn{constructor(n,i,o,s,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new Py,this._registered=!1,this.name="",this.update=new Se,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Ry(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Ny(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Iy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){jl.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&As(i);jl.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Cy(n,this._parent):[n]}};t.\u0275fac=function(i){return new(i||t)(Re(Bs,9),Re(dy,10),Re(hy,10),Re(Ul,10),Re(Ts,8),Re(Kl,8))},t.\u0275dir=dn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ot.None,"disabled","isDisabled"],model:[ot.None,"ngModel","model"],options:[ot.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ss([Fy]),yn,Jo]});let e=t;return e})();var ky=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=ln({});let e=t;return e})();var Jl=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Kl,useValue:n.callSetDisabledState??$s}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=ln({imports:[ky]});let e=t;return e})();var VD=Zs(qs(),1),ef=Zs(qs(),1);var bn=function(e){return e[e.CLOSED=0]="CLOSED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e}(bn||{});var tf=new ye("NgxMqttServiceConfig"),nf=new ye("NgxMqttClientService"),rf=(()=>{let t=class t{static forRoot(n,i){return{ngModule:t,providers:[{provide:tf,useValue:n},{provide:nf,useValue:i}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=ln({});let e=t;return e})();function gi(e,...t){if(!t.length)return e;let r=t.shift();if(zs(e)&&zs(r))for(let n in r)zs(r[n])?(e[n]||Object.assign(e,{[n]:{}}),gi(e[n],r[n])):Object.assign(e,{[n]:r[n]});return gi(e,...t)}function zs(e){return e&&typeof e=="object"&&!Array.isArray(e)}var of=(()=>{let t=class t{constructor(n,i){this.options=n,this.observables={},this.state=new St(bn.CLOSED),this.messages=new Fe,this._clientId=this._generateClientId(),this._connectTimeout=1e4,this._reconnectPeriod=1e4,this._onConnect=new Se,this._onReconnect=new Se,this._onClose=new Se,this._onOffline=new Se,this._onError=new Se,this._onEnd=new Se,this._onMessage=new Se,this._onSuback=new Se,this._onPacketsend=new Se,this._onPacketreceive=new Se,this._handleOnConnect=o=>{this.options.connectOnCreate===!0&&Object.keys(this.observables).forEach(s=>{this.client.subscribe(s)}),this.state.next(bn.CONNECTED),this._onConnect.emit(o)},this._handleOnReconnect=()=>{this.options.connectOnCreate===!0&&Object.keys(this.observables).forEach(o=>{this.client.subscribe(o)}),this.state.next(bn.CONNECTING),this._onReconnect.emit()},this._handleOnClose=()=>{this.state.next(bn.CLOSED),this._onClose.emit()},this._handleOnOffline=()=>{this._onOffline.emit()},this._handleOnError=o=>{this._onError.emit(o),console.error(o)},this._handleOnEnd=()=>{this._onEnd.emit()},this._handleOnMessage=(o,s,c)=>{this._onMessage.emit(c),c.cmd==="publish"&&this.messages.next(c)},this._handleOnPacketsend=o=>{this._onPacketsend.emit(o)},this._handleOnPacketreceive=o=>{this._onPacketreceive.emit(o)},n.connectOnCreate!==!1&&this.connect({},i),this.state.subscribe()}get clientId(){return this._clientId}get onConnect(){return this._onConnect}get onReconnect(){return this._onReconnect}get onClose(){return this._onClose}get onOffline(){return this._onOffline}get onError(){return this._onError}get onEnd(){return this._onEnd}get onMessage(){return this._onMessage}get onPacketsend(){return this._onPacketsend}get onPacketreceive(){return this._onPacketreceive}get onSuback(){return this._onSuback}static filterMatchesTopic(n,i){if(n[0]==="#"&&i[0]==="$")return!1;let o=(n||"").split("/").reverse(),s=(i||"").split("/").reverse(),c=()=>{let h=o.pop(),p=s.pop();switch(h){case"#":return!0;case"+":return p?c():!1;default:return h===p&&(h===void 0?!0:c())}};return c()}connect(n,i){let o=gi(this.options||{},n),s=o.protocol||"ws",c=o.hostname||"localhost";o.url?this._url=o.url:(this._url=`${s}://${c}`,this._url+=o.port?`:${o.port}`:"",this._url+=o.path?`${o.path}`:""),this.state.next(bn.CONNECTING);let h=gi({clientId:this._clientId,reconnectPeriod:this._reconnectPeriod,connectTimeout:this._connectTimeout},o);this.client&&this.client.end(!0),i?this.client=i:this.client=(0,ef.connect)(this._url,h),this._clientId=h.clientId,this.client.on("connect",this._handleOnConnect),this.client.on("reconnect",this._handleOnReconnect),this.client.on("close",this._handleOnClose),this.client.on("offline",this._handleOnOffline),this.client.on("error",this._handleOnError),this.client.stream.on("error",this._handleOnError),this.client.on("end",this._handleOnEnd),this.client.on("message",this._handleOnMessage),this.client.on("packetsend",this._handleOnPacketsend),this.client.on("packetreceive",this._handleOnPacketreceive)}disconnect(n=!0){if(!this.client)throw new Error("mqtt client not connected");this.client.end(n)}observeRetained(n,i={qos:1}){return this._generalObserve(n,()=>ji(1),i)}observe(n,i={qos:1}){return this._generalObserve(n,()=>Vi(),i)}_generalObserve(n,i,o){if(!this.client)throw new Error("mqtt client not connected");if(!this.observables[n]){let s=new Fe;this.observables[n]=Li(()=>{let c=new Ae;return this.client.subscribe(n,o,(h,p)=>{p&&p.forEach(d=>{d.qos===128&&(delete this.observables[d.topic],this.client.unsubscribe(d.topic),s.error(`subscription for '${d.topic}' rejected!`)),this._onSuback.emit({filter:n,granted:d.qos!==128})})}),c.add(()=>{delete this.observables[n],this.client.unsubscribe(n)}),c},c=>Fi(s,this.messages)).pipe(ki(c=>t.filterMatchesTopic(n,c.topic)),i(),En())}return this.observables[n]}publish(n,i,o={}){if(!this.client)throw new Error("mqtt client not connected");return be.create(s=>{this.client.publish(n,i,o,c=>{c?s.error(c):(s.next(),s.complete())})})}unsafePublish(n,i,o={}){if(!this.client)throw new Error("mqtt client not connected");this.client.publish(n,i,o,s=>{if(s)throw s})}_generateClientId(){return"client-"+Math.random().toString(36).substr(2,19)}};t.\u0275fac=function(i){return new(i||t)(_e(tf),_e(nf))},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var jy=["msglog"],sf=(()=>{let t=class t{constructor(n){this._mqttService=n,this.title="philippspage.github.io",this.isConnected=!1}ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe()}subscribeNewTopic(){console.log("inside subscribe new topic"),this.subscription=this._mqttService.observe(this.topicname).subscribe(n=>{this.msg=n,console.log("msg: ",n),this.logMsg("Message: "+n.payload.toString()+"<br> for topic: "+n.topic)}),this.logMsg("subscribed to topic: "+this.topicname)}sendmsg(){this._mqttService.unsafePublish(this.topicname,this.msg,{qos:0,retain:!1}),this.msg=""}logMsg(n){this.msglog.nativeElement.innerHTML+="<br><hr>"+n}clear(){this.msglog.nativeElement.innerHTML=""}};t.\u0275fac=function(i){return new(i||t)(Re(of))},t.\u0275cmp=Su({type:t,selectors:[["app-root"]],viewQuery:function(i,o){if(i&1&&ll(jy,7),i&2){let s;fl(s=dl())&&(o.msglog=s.first)}},standalone:!0,features:[pl],decls:28,vars:2,consts:[["msglog",""],["type","text",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(i,o){if(i&1){let s=ul();Ye(0,"table")(1,"tr")(2,"td"),jt(3,"Topic: "),et(),Ye(4,"td")(5,"input",1),ii("ngModelChange",function(h){return hn(s),Is(o.topicname,h)||(o.topicname=h),pn(h)}),et()(),Ye(6,"td")(7,"button",2),Vt("click",function(){return hn(s),pn(o.subscribeNewTopic())}),jt(8,"Subscribe Topic"),et()()(),Ye(9,"tr")(10,"td"),jt(11,"Message: "),et(),Ye(12,"td")(13,"input",1),ii("ngModelChange",function(h){return hn(s),Is(o.msg,h)||(o.msg=h),pn(h)}),et()(),Ye(14,"td")(15,"button",2),Vt("click",function(){return hn(s),pn(o.sendmsg())}),jt(16,"Send"),et()()(),Ye(17,"tr"),Un(18,"td"),Ye(19,"td"),jt(20,"\xA0\xA0"),Ye(21,"button",2),Vt("click",function(){return hn(s),pn(o.clear())}),jt(22,"Clear Log"),et()(),Un(23,"td"),et()(),Un(24,"br")(25,"br")(26,"div",null,0)}i&2&&(hs(5),ri("ngModel",o.topicname),hs(8),ri("ngModel",o.msg))},dependencies:[Jl,hi,Ql,Ws]});let e=t;return e})();var By={hostname:"broker.hivemq.com",port:8884,protocol:"wss",path:"/mqtt"};Ol(sf,{providers:[Yo(rf.forRoot(By))]}).catch(e=>console.error(e));export{By as MQTT_SERVICE_OPTIONS};
